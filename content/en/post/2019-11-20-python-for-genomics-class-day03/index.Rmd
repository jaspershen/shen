---
title: Python for genomics class day03
author: Xiaotao Shen
date: 2019-11-20
slug: ''
categories:
 -  Python
tags:
 -  Blog
 -  Chinese
image:
  caption: ''
  focal_point: ''
output:
  blogdown::html_page:
    toc: true
    number_sections: true
---

```{r setup, include=FALSE}
library(reticulate)
```


# 数据类型

Data types and manipulations: dictionary, set

Conditional statements: if, elif, else, break, continue

Comments and style: [https://realpython.com/python-pep8/]


```{python}

# Python style
#
# PEP8
# https://realpython.com/python-pep8/
# https://www.python.org/dev/peps/pep-0008/
#
# Python history
#
# Guido van Rossum, creator in 1989. He retired last month. Final job was with Dropbox.
# https://en.wikipedia.org/wiki/Python_(programming_language)

a = 1
b = 1.0
c = '1'
d = [1, 2]
e = (1, 2)
f = { 'x': 1, 'y': 2}
g = {1, 2}

#a是int整数型
print('a =', type(a))
#b是浮点型(float)
print('b =', type(b))
#c是字符串型(str)
print('c =', type(c))
#d是列表,可以看到列表使用中括号创建
print('d =', type(d))
#e是元组(tuple),使用小括号创建
print('e =', type(e))
#f是字典类型(dict),使用大括号创建
print('f =', type(f))
#g是集合类型,也是使用大括号创建,但是没有key
print('g =', type(g))

```

对几个重要的类型做一个详细解释.具体内容参考`Python基础教程这本书`

## 列表(list)和元组(tuple)

列表和元组是非常类似的,不同点在于`列表可以修改而元组不可以`.

### 创建列表

可以使用中括号`[]`来创建列表

```{python}
edward = ['Edward Gumby', 42]
john = ['John Smith', 50]
database = [edward, john]
database
```

同样的,列表中的元素也可以是列表,就像上面的例子所展示的.

```{python}
test = ["shen"]
type(test)
test[0]
```


### 列表通用的操作

有几种操作适用于所有序列，包括索引、切片、相加、相乘和成员资格检查。另外，Python还提供了一些内置函数，可用于确定序列的长度以及找出序列中最大和最小的元素。

#### 索引(index)

与R类型,列表都有序号,但是需要注意的是,python中的序号都是从0开始的.

```{python}
greeting = 'Hello'
greeting[0]
greeting[1]
```

注意上面例子中`greeting`的类型是`str`,也就是说python中的str也可以通过序号进行提取某个字符.

这就称之为索引,其中使用`-1`代表最后一个元素.

```{python}
greeting[-1]
```

#### 切片(slicing)

切片是用来访问特定范围内的元素.为此,可使用两个索引,并用冒号分隔.

```{python}
test = ["shen", "wang", "zhao", "qian", "sun"]
test[0]
test[0:1]
test[1:3]
test[1:-1]
test[1:]
```

通过上面例子可以看到,对于切片的两个索引,出来的结果包含左边索引的结果,而不包含右边index的结果.如果需要包含某一边的所有结果,则只需要将冒号的某一边空出来即可.

当然也可以使用负数来进行索引,因为我们知道-1是最后一个元素,-2是倒数第二个元素.

```{python}
test = [1,2,3,4,5]
test[-3:-1]
test[-3:0]
test[-3:]
```

可以看到如果执行切片操作时，第一个索引指定的元素位于第二个索引指定的元素后面,结果就为空序列.

#### 序列相加

可以使用加法运算符来拼接序列.

```{python}
[1, 2, 3] + [4, 5, 6]
'Hello,' + 'world!'
```

从错误消息可知,不能拼接列表和字符串,,虽然它们都是序列.一般而言,不能拼接不同类型的序列.

#### 乘法

将序列与数x相乘时,将重复这个序列x次来创建一个新序列:

```{python}
'python' * 5
[1,2,3] * 5
```

**None,空列表和初始化**

空列表是使用不包含任何内容的两个方括号([])表示的.如果要创建一个可包含10个元素的列表,但没有任何有用的内容,可像前面那样使用`[42]*10`。但更准确的做法是使用`[0]*10`,这将创建一个包含10个零的列表.但是更为准确合适的作发是使用`None`,在python中,`None`代表什么都没有.

```{python}
None
[None]
sequence = [None] * 10
sequence
```

#### 成员资格

要检查特定的值是否存在与序列中,可以使用判断运算符`in`.返回值为逻辑值,满足时返回为`True`,不满足时返回`False`.

```{python}
permisions = "rw"

'w' in permisions

'T' in permisions

users = ["shen", "wang"]#一个列表
'wang' in users
'tao' in users
```

#### 长度,最大值和最小值

使用内置函数可以得到一个列表的长度,最大值及最小值.

```{python}
number = [1,2,3,4]#列表
len(number)
max(number)
min(number)
string = ["a", 1 ,2,3]
string
# len(string)
# max(string)
len("shen")
len(["shen"])
```

### 列表,Python的主力

列表是Python中使用非常广泛的类型.

#### `list()`函数

`list()`函数可以用来简历列表.

```{python}
list("shen")
list([1,2,3])
```

列表是可以改变的.


#### 列表的基本操作

列表的最大有点在于它是可以修改的.

##### 修改列表:给元素赋值

```{python}
x = [1,2,3]
x
x[2] = 5
x
```

##### 删除列表中的元素

使用`del`语句可以删除列表中的某个元素.

```{python}
names = ["alice", "beth", "cecil"]
del names[1]
names
```

##### 使用切片对多个元素进行修改

```{python}
name = list("name")
name
name[2:] = list("shen")
name
name[4:] = list("wa")
name
```

需要注意的是,使用切片进行赋值或者修改,是可以将其替换为不同长度的东西的.

```{python}
test = list("wang")
test
test[2:] = list("shen")
test
test[2:3]
test[2:3] = list("shen")
test
```

还可以使用这个特性进行元素的插入:

```{python}
numbers = [1, 5]
numbers
numbers[1:1]##这是一个空列表
numbers[1:1] = [2, 3, 4]#在第二个位置开始,插入新的list
numbers
```

当然,还可以利用这个特性删除切片.

```{python}
numbers
numbers[1:4]
numbers[1:4] = []
numbers
```


当然,删除仍然可以使用`del`语句实现,最后结果是一致的.

##### 列表方法

方法是与某列对象联系紧密的函数,一般使用下列方法进行调用:

```
object.method(arguments)
```

这也是跟R不同的一点,R中并没有这类方法.

1. `append`

用于将一个对象添加到列表末尾.

```{python}
test = [1,2,3]
test
test.append(2)
test
test.append([5,6,7])
test
test.append(10)
test
test + [20]
test + [10,20]
```

2. `clear`

用来清空列表的内容.

```{python}
test = [1,2,3]
test.clear()
test
```

完全清空所有的内容.

3. `copy`

用来复制列表.

