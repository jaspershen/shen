---
title: ggplot2主题扩充包-ggthemes
author: Xiaotao Shen
date: '2019-10-28'
slug: ggplot2-ggthemes
categories:
  - R
tags:
  - Blog
image:
  caption: ''
  focal_point: ''
---



<p><code>ggthemes</code>是<code>ggplot2</code>的一个主题扩展包.含有<code>ggplot2</code>的多个扩展主题.官网参考文档见下面链接:</p>
<div id="安装" class="section level1">
<h1>安装</h1>
<pre><code># 从CRAN安装
install.packages(&#39;ggthemes&#39;, dependencies = TRUE)
# 从github安装
library(&quot;devtools&quot;)
install_github(c(&quot;hadley/ggplot2&quot;, &quot;jrnold/ggthemes&quot;))</code></pre>
</div>
<div id="主题" class="section level1">
<h1>主题</h1>
<p><code>ggthemes</code>提供的最直接的就是主题.可以直接在ggplot2对象后通过<code>+</code>好添加主题.</p>
<div id="theme_base主题" class="section level2">
<h2><code>theme_base()</code>主题</h2>
<pre class="r"><code>library(&quot;ggplot2&quot;)</code></pre>
<pre><code>## Warning: package &#39;ggplot2&#39; was built under R version 3.6.1</code></pre>
<pre class="r"><code>library(ggthemes)</code></pre>
<pre><code>## Warning: package &#39;ggthemes&#39; was built under R version 3.6.1</code></pre>
<pre class="r"><code>(
p &lt;- ggplot(mtcars) + geom_point(aes(x = wt, y = mpg,
     colour = factor(gear))) + facet_wrap(~am)
)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<pre class="r"><code>p + theme_base()</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-1-2.png" width="672" /></p>
<p><code>theme_base()</code>有两个参数,<code>base_size</code>和<code>base_family</code>,分别用来设置图片中所有字体的颜色和字体.</p>
</div>
<div id="theme_calc主题" class="section level2">
<h2><code>theme_calc()</code>主题</h2>
<pre class="r"><code>library(&quot;ggplot2&quot;)
library(ggthemes)
(
p &lt;- ggplot(mtcars) + geom_point(aes(x = wt, y = mpg,
     colour = factor(gear))) + facet_wrap(~am)
)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<pre class="r"><code>p + theme_calc()</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-2-2.png" width="672" /></p>
<p>还有很多其他的主题,可以直接参考官方网站.</p>
</div>
</div>
<div id="颜色标度" class="section level1">
<h1>颜色标度</h1>
<p><code>ggthemes()</code>同样也提供了颜色标度.</p>
<div id="色盲友好型颜色调色板和标度" class="section level2">
<h2>色盲友好型颜色调色板和标度</h2>
<p>可以参考如下网址:</p>
<p><a href="http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palette" class="uri">http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palette</a></p>
<p>一共包括四个函数:</p>
<p><code>colorblind_pal()</code>,<code>scale_colour_colorblind()</code>,<code>scale_color_colorblind()</code>和<code>scale_fill_colorblind()</code>.用于分散性的数据.</p>
<pre class="r"><code>library(&quot;ggplot2&quot;)
library(&quot;scales&quot;)
library(ggthemes)

show_col(colorblind_pal()(8))</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>##该函数用来给出最多8种颜色的名字</code></pre>
<pre class="r"><code>library(&quot;ggplot2&quot;)
library(&quot;scales&quot;)
library(ggthemes)

show_col(colorblind_pal()(8))</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>##该函数用来给出最多8种颜色的名字
(
p &lt;- ggplot(mtcars) + 
  geom_point(aes(x = wt, y = mpg,
     colour = factor(gear))) + 
  facet_wrap(~am)
)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<pre class="r"><code>p + 
  theme_igray() + 
  scale_colour_colorblind()</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-4-3.png" width="672" /></p>
<p><code>scale_fill_colorblind()</code>函数和colour函数相同,只是用来填充.</p>
<p>还有很多其他的颜色标度扩展,详情可以看其官方网站.</p>
</div>
</div>
<div id="形状标度" class="section level1">
<h1>形状标度</h1>
<p>给美学参数<code>shape</code>来提供扩展.</p>
<div id="scale_shape_calc" class="section level2">
<h2><code>scale_shape_calc()</code></h2>
<pre class="r"><code>(
p &lt;- ggplot(mtcars) + 
  geom_point(aes(x = wt, y = mpg,
     shape = factor(gear))) + 
  facet_wrap(~am)
)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>p + scale_shape_calc()</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
</div>
</div>
<div id="线性标度" class="section level1">
<h1>线性标度</h1>
<p>给美学参数<code>linetype</code>来提供扩展.</p>
<div id="scale_linetype_stata" class="section level2">
<h2><code>scale_linetype_stata()</code></h2>
<pre class="r"><code>library(ggplot2)
require(ggthemes)
(
  p &lt;- 
    ggplot(mtcars,aes(mpg, wt)) +
    geom_line(aes(linetype = factor(gear)))
) </code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>p  +
    scale_linetype_stata()</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-6-2.png" width="672" /></p>
</div>
</div>
<div id="颜色形状和线性调色板" class="section level1">
<h1>颜色,形状和线性<code>调色板</code></h1>
<p>提供了非常多的色板,可以看官网.</p>
<pre class="r"><code>library(ggthemes)
library(scales)
show_col(few_pal(palette = &quot;Light&quot;)(8))</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>show_col(few_pal(palette = &quot;Medium&quot;)(8))</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
<pre class="r"><code>show_col(few_pal(palette = &quot;Dark&quot;)(8))</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-7-3.png" width="672" /></p>
</div>
<div id="几何对象和统计变换函数" class="section level1">
<h1>几何对象和统计变换函数</h1>
<div id="range-framesgeom_rangeframe" class="section level2">
<h2>Range Frames<code>geom_rangeframe</code></h2>
<p>该函数是用来给轴加上直线的.看以下例子.与其他几何对象参数一样,他也可以接受一些常见的参数.</p>
<pre class="r"><code>library(&quot;ggplot2&quot;)
library(ggthemes)
(
p &lt;- 
ggplot(mtcars, aes(wt, mpg)) +
 geom_point() 
)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>p +
   geom_rangeframe(colour = &quot;red&quot;)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<pre class="r"><code>p +
   geom_rangeframe(colour = &quot;red&quot;, linetype = 2)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-8-3.png" width="672" /></p>
<pre class="r"><code>p +
   geom_rangeframe(colour = &quot;red&quot;, linetype = 2, sides = &quot;top&quot;)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-8-4.png" width="672" /></p>
<pre class="r"><code>p +
   geom_rangeframe(colour = &quot;red&quot;, linetype = 2, sides = c(&quot;top&quot;)) +
  geom_rangeframe(colour = &quot;red&quot;, linetype = 2, sides = c(&quot;right&quot;))</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-8-5.png" width="672" /></p>
</div>
<div id="tuftes-box-plot" class="section level2">
<h2>Tufte’s Box Plot</h2>
<pre class="r"><code>library(&quot;ggplot2&quot;)
library(ggthemes)
(
  p &lt;- ggplot(mtcars, aes(factor(cyl), mpg))
)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code># with a point for the median and lines for whiskers
p + geom_tufteboxplot()</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
<pre class="r"><code># with a line for the interquartile range and points for whiskers
p + geom_tufteboxplot(median.type = &quot;line&quot;, whisker.type = &quot;point&quot;, hoffset = 0)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-9-3.png" width="672" /></p>
<pre class="r"><code># with a wide line for the interquartile range and lines for whiskers
p + geom_tufteboxplot(median.type = &quot;line&quot;, hoffset = 0, width = 3)</code></pre>
<pre><code>## Warning: position_dodge requires non-overlapping x intervals</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-9-4.png" width="672" /></p>
<pre class="r"><code># with an offset line for the interquartile range and lines for whiskers
p + geom_tufteboxplot(median.type = &quot;line&quot;)</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-9-5.png" width="672" /></p>
<pre class="r"><code># combined with theme_tufte
p + geom_tufteboxplot() +
  theme_tufte() +
  theme(axis.ticks.x = element_blank())</code></pre>
<p><img src="/post/2019-10-28-ggplot2-ggthemes_files/figure-html/unnamed-chunk-9-6.png" width="672" /></p>
</div>
</div>
