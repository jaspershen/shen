[{"authors":["admin"],"categories":null,"content":"I am now a postdoctoral research fellow at Stanford University. I am broadly interested in Metabolomics, Multi-omics, Biostatistics, Systems Biology, and Bioinformatics, and their application in healthcare.\nMy research focuses on the development of bioinformatic algorithms and tools for large-scale metabolomics as well as its application in discovering new biomarkers related to human diseases. I have developed several algorithms and tools in the past five years. The first algorithm was MetNormalizer, which is a machine learning-based algorithm for data normalization and integration of large-scale metabolomics. Then I developed a web-based tool, MetFlow, aiming to provide a comprehensive pipeline for data cleaning and statistical analysis of large-scale metabolomics. The most important algorithm I have developed is called MetDNA, which is a novel algorithm for metabolite identification and dysregulated pathway analysis in untargeted metabolomics.\nğŸ’¾ Download my CV\nğŸ¶ ğŸ« ğŸˆ¸ ğŸ˜„ ğŸ‘Š âœŠ ğŸ‘ª ğŸ¼ ğŸŒ ğŸ‰ ğŸ‡¨ğŸ‡³\n","date":1575676800,"expirydate":-62135596800,"kind":"taxonomy","lang":"en","lastmod":1575676800,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"/authors/admin/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/admin/","section":"authors","summary":"I am now a postdoctoral research fellow at Stanford University. I am broadly interested in Metabolomics, Multi-omics, Biostatistics, Systems Biology, and Bioinformatics, and their application in healthcare.\nMy research focuses on the development of bioinformatic algorithms and tools for large-scale metabolomics as well as its application in discovering new biomarkers related to human diseases. I have developed several algorithms and tools in the past five years. The first algorithm was MetNormalizer, which is a machine learning-based algorithm for data normalization and integration of large-scale metabolomics.","tags":null,"title":"Xiaotao Shen PhD","type":"authors"},{"authors":null,"categories":null,"content":" Flexibility This feature can be used for publishing content such as:\n Online courses Project or software documentation Tutorials  The courses folder may be renamed. For example, we can rename it to docs for software/project documentation or tutorials for creating an online course.\nDelete tutorials To remove these pages, delete the courses folder and see below to delete the associated menu link.\nUpdate site menu After renaming or deleting the courses folder, you may wish to update any [[main]] menu links to it by editing your menu configuration at config/_default/menus.toml.\nFor example, if you delete this folder, you can remove the following from your menu configuration:\n[[main]] name = \u0026quot;Courses\u0026quot; url = \u0026quot;courses/\u0026quot; weight = 50  Or, if you are creating a software documentation site, you can rename the courses folder to docs and update the associated Courses menu configuration to:\n[[main]] name = \u0026quot;Docs\u0026quot; url = \u0026quot;docs/\u0026quot; weight = 50  Update the docs menu If you use the docs layout, note that the name of the menu in the front matter should be in the form [menu.X] where X is the folder name. Hence, if you rename the courses/example/ folder, you should also rename the menu definitions in the front matter of files within courses/example/ from [menu.example] to [menu.\u0026lt;NewFolderName\u0026gt;].\n","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"59c3ce8e202293146a8a934d37a4070b","permalink":"/courses/example/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/courses/example/","section":"courses","summary":"Learn how to use Academic's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Overview","type":"docs"},{"authors":null,"categories":null,"content":" In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 2 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"74533bae41439377bd30f645c4677a27","permalink":"/courses/example/example1/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example1/","section":"courses","summary":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim.","tags":null,"title":"Example Page 1","type":"docs"},{"authors":null,"categories":null,"content":" Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 4 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"1c2b5a11257c768c90d5050637d77d6a","permalink":"/courses/example/example2/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example2/","section":"courses","summary":"Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus.","tags":null,"title":"Example Page 2","type":"docs"},{"authors":null,"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"51787b18476b04e3da0d6c9bbca85e48","permalink":"/landing/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/landing/","section":"","summary":"","tags":null,"title":"Recent Blogs","type":"page"},{"authors":["Xiaotao Shen PhD"],"categories":["Python"],"content":" Table of Contents HAHAHUGOSHORTCODE-TOC0-HBHB\nä¸»è¦ä»‹ç»äº†å‡ ä¸ªåŸºç¡€çš„æ¨¡å—,å‡½æ•°,ä»¥åŠå¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å‡½æ•°.\nosæ¨¡å—(os module) osæ¨¡å—æ˜¯ç”¨äºè·¯å¾„ç®¡ç†,æ–‡ä»¶å¤¹ç®¡ç†ç­‰çš„æ¨¡å—.\nosæ¨¡å—çš„å¸¸ç”¨å‘½ä»¤    Function Meaning     os.mkdir() åˆ›å»ºæ–°çš„æ–‡ä»¶å¤¹   os.remove() åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹   os.chdir() æ›´æ”¹å·¥ä½œè·¯å¾„   os.rmdir() åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹,ä½†æ˜¯è¦æ±‚è¯¥æ–‡ä»¶å¤¹å¿…é¡»ä¸ºç©º   os.getcwd() è·å–å½“å‰å·¥ä½œè·¯å¾„   os.listdir() åˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åŠæ–‡ä»¶å¤¹    import os as os # è·å–å½“å‰çš„å·¥ä½œè·¯å¾„ result = os.getcwd() print(result)  D:\\my github\\shen\\content\\en\\post\\2019-12-02-python-for-genomics-class_day06  #åˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ result = os.listdir() print(result)  ['.ipynb_checkpoints', 'index.ipynb', 'Practice06-Veronica.ipynb', 'sample.txt', 'sample.txt.gz']  å¾—åˆ°çš„ç»“æœæ˜¯ä¸€ä¸ªåˆ—è¡¨.\n#åˆ›å»ºæ–°çš„æ–‡ä»¶å¤¹ dir_name = 'new_dir_123456' try: os.mkdir(dir_name) except: print(\u0026quot;This file already exists\u0026quot;) #è¿™é‡Œå†æ¬¡ç†Ÿæ‚‰ä¸€ä¸‹å¼‚å¸¸æ•æ‰è¯­æ³• # è·ŸRä¸ä¸€æ ·,Ré‡Œé¢å¦‚æœå·²æœ‰è·¯å¾„,å¹¶ä¸ä¼šæŠ¥é”™,åªä¼šç»™å‡ºwarning try: os.mkdir(dir_name) except FileExistsError: print('Directory not created. Directory', dir_name, 'exists.')  This file already exists Directory not created. Directory new_dir_123456 exists.  éœ€è¦æ³¨æ„çš„æ˜¯,å¦‚æœå½“å‰è·¯å¾„ä¸­å·²ç»å­˜åœ¨äº†è¦åˆ›å»ºçš„æ–‡ä»¶å¤¹,åˆ™ä¼šæŠ¥é”™,è·ŸRä¸­ä¸åŒ,Råªæ˜¯ä¼šç»™å‡ºwarning.\nresult = os.listdir() print(result)  ['.ipynb_checkpoints', 'index.ipynb', 'new_dir_123456', 'Practice06-Veronica.ipynb', 'sample.txt', 'sample.txt.gz']  os.chdir('new_dir_123456')  None  try: os.chdir(dir_name) except FileNotFoundError: print('No such file or directory')  D:\\my github\\shen\\content\\en\\post\\2019-12-02-python-for-genomics-class_day06\\new_dir_123456 No such file or directory  result = os.getcwd() print(result)  D:\\my github\\shen\\content\\en\\post\\2019-12-02-python-for-genomics-class_day06\\new_dir_123456  result = os.listdir() print(result)  []  å°†ä¸€ä¸ªç¤ºä¾‹æ•°æ®å†™å…¥åˆ°æ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸­.\nprint('Writing test file in new_dir_123456, testing.txt') with open('testing.txt', 'w') as TEST: TEST.write('testing')  Writing test file in new_dir_123456, testing.txt  result = os.listdir() print(result)  ['testing.txt']  åˆ é™¤æ‰æ–°åˆ›å»ºçš„å®ä¾‹æ–‡ä»¶æ•°æ®,æ³¨æ„,å¦‚æœæ²¡æœ‰è¯¥æ–‡ä»¶,ä¼šæŠ¥é”™.\ntry: os.remove('testing.txt') except FileNotFoundError: print(\u0026quot;No this file is found.\u0026quot;)  os.chdir('..')  None  åˆ é™¤æ‰æ–°åˆ›å»ºçš„æ–‡ä»¶å¤¹.\nos.rmdir('new_dir_123456')  result = os.getcwd() print(result)  D:\\my github\\shen\\content\\en\\post\\2019-12-02-python-for-genomics-class_day06  result = os.listdir() print(result)  ['.ipynb_checkpoints', 'index.ipynb', 'Practice06-Veronica.ipynb', 'sample.txt', 'sample.txt.gz']  gzip \u0026amp; urllibæ¨¡å— gzipæ¨¡å—æ˜¯ç”¨æ¥å¤„ç†å‹ç¼©æ–‡ä»¶çš„.urllibæ¨¡å—æ˜¯ç”¨æ¥å¤„ç†ç½‘ç»œæ–‡ä»¶çš„.\n# Module for URL, interacting with the web import urllib.request # Module for reading and writing the compressed file format, gzip import gzip  GFF/GTFæ ¼å¼æ–‡ä»¶ ensEMBL GFF format:\nå¯ä»¥å‚è€ƒä¸‹é¢è¿æ¥.https://uswest.ensembl.org/info/website/upload/gff.html\næ¯è¡Œä¸€å…±æœ‰9ä¸ªå…ƒç´ ,æ¯ä¸ªå…ƒç´ åå­—å¦‚ä¸‹:\nSEQNAME = 0 SOURCE = 1 FEATURE = 2 START = 3 END = 4 SCORE = 5 STRAND = 6 FRAME = 7 ATTRIBUTE = 8\nFTP ensEMBL downloads site: https://uswest.ensembl.org/info/data/ftp/index.html\næˆ‘ä»¬å°†æ¯ä¸ªå…ƒç´ çš„indexèµ‹å€¼ç»™å…¶ä»£è¡¨çš„å­—ç¬¦å˜é‡.\nSEQNAME = 0 SOURCE = 1 FEATURE = 2 START = 3 END = 4 SCORE = 5 STRAND = 6 FRAME = 7 ATTRIBUTE = 8  å¦å¤–ä»¥å„ç§æ ¼å¼å«GFF3,ç›¸å¯¹æ¥è¯´å®¹æ˜“è§£æä¸€äº›.å‚è€ƒä¸‹é¢è¿æ¥:\nftp://ftp.ensembl.org/pub/release-98/gff3/homo_sapiens\nä¸¾ä¸ªä¾‹å­\nGTF_URL = 'https://web.stanford.edu/class/gene211/handouts/Homo_sapiens.GRCh38.chr21-truncated.gtf.gz' GFF3_URL = 'https://web.stanford.edu/class/gene211/handouts/Homo_sapiens.GRCh38.98.chr21-partial.gff3.gz'  é¦–å…ˆè¯»å–GTFæ ¼å¼çš„æ•°æ®\n#é¦–å…ˆä½¿ç”¨urllibæ¨¡å—å°†æ–‡ä»¶åœ°å€è¿›è¡Œè§£æ response = urllib.request.urlopen(GTF_URL) line_count = 0 ##ä½¿ç”¨gzipæ¨¡å—çš„openå‡½æ•°æ‰“å¼€æ–‡ä»¶ with gzip.open(response, 'rt') as inFile: for line in inFile: # skip file comment lines if line.startswith('#'): continue if line_count \u0026lt; 1: line = line.rstrip('\\n').split('\\t') print(line) print(len(line)) line_count += 1  ['21', 'havana', 'gene', '5011799', '5017145', '.', '+', '.', 'gene_id \u0026quot;ENSG00000279493\u0026quot;; gene_version \u0026quot;1\u0026quot;; gene_name \u0026quot;FP565260.4\u0026quot;; gene_source \u0026quot;havana\u0026quot;; gene_biotype \u0026quot;protein_coding\u0026quot;;'] 9  åªæ‰“å°äº†ä¸€è¡Œ,å…ˆæ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶çš„æ ¼å¼.æ¯è¡Œéƒ½æ˜¯ä¸€ä¸ªstr.ç„¶åæ˜¯\\tåˆ†å‰²ç¬¦è¿›è¡Œåˆ†å‰².åˆ†å‰²ä¹‹åå˜ä¸ºlist,ç„¶åæ¯ä¸ªlistæœ‰9ä¸ªå…ƒç´ .\nä¸‹é¢æˆ‘ä»¬åœ¨æ¯”è¾ƒä¸€ä¸‹GTFå’ŒGFF3æ ¼å¼æ•°æ®çš„å·®å¼‚.\nè¯»å–GFF3æ ¼å¼æ•°æ®\n# Just to compare GTF and GFF3. The difference is in the ATTRIBUTE column (index 8) response = urllib.request.urlopen(GFF3_URL) line_count = 0 with gzip.open(response, 'rt') as inFile: for line in inFile: # skip file comment lines if line.startswith('#'): continue if line_count \u0026lt; 1: line = line.rstrip('\\n').split('\\t') print(line) print(len(line)) line_count += 1  ['21', 'Ensembl', 'chromosome', '1', '46709983', '.', '.', '.', 'ID=chromosome:21;Alias=CM000683.2,chr21,NC_000021.9'] 9   response = urllib.request.urlopen(GTF_URL) genes = {} attribute_names = ['gene_id', 'gene_name'] with gzip.open(response, 'rt') as inFile: for line in inFile: # skip file comment lines if line.startswith('#'): continue # split line into columns that are separated by TAB column = line.rstrip('\\n').split('\\t') # manipulate column #8, attributes if column[FEATURE] == 'gene': # starting ATTRIBUTE string # gene_id \u0026quot;ENSG00000279493\u0026quot;; gene_version \u0026quot;1\u0026quot;; gene_name \u0026quot;FP565260.4\u0026quot;; # remove semi-colon from right # gene_id \u0026quot;ENSG00000279493\u0026quot;; gene_version \u0026quot;1\u0026quot;; gene_name \u0026quot;FP565260.4\u0026quot; column[ATTRIBUTE] = column[ATTRIBUTE].rstrip(';') # replace semi-colon space with just semi-colon, and delete double-quotes # then split on semi-colon # ['gene_id ENSG00000279493', 'gene_version 1', 'gene_name FP565260.4'] attribute = column[ATTRIBUTE].replace('; ', ';').replace('\u0026quot;', '').split(';') for item in attribute: name, value = item.split(' ') if name == 'gene_id': gene_id = value if name == 'gene_name': gene_name = value if name == 'gene_biotype': gene_biotype = value genes[gene_name] = {'gene_id': gene_id, 'chromsome': int(column[SEQNAME]), 'start': int(column[START]), 'end': int(column[END]), 'biotype': gene_biotype } if gene_name == 'GATD3B': print(genes['GATD3B'])  {'gene_id': 'ENSG00000280071', 'chromsome': 21, 'start': 5079294, 'end': 5128413, 'biotype': 'protein_coding'}  genes  {'FP565260.4': {'gene_id': 'ENSG00000279493', 'chromsome': 21, 'start': 5011799, 'end': 5017145, 'biotype': 'protein_coding'}, 'FP565260.3': {'gene_id': 'ENSG00000277117', 'chromsome': 21, 'start': 5022493, 'end': 5040666, 'biotype': 'protein_coding'}, 'FP565260.5': {'gene_id': 'ENSG00000279687', 'chromsome': 21, 'start': 5073458, 'end': 5087867, 'biotype': 'lncRNA'}, 'GATD3B': {'gene_id': 'ENSG00000280071', 'chromsome': 21, 'start': 5079294, 'end': 5128413, 'biotype': 'protein_coding'}, 'FP565260.2': {'gene_id': 'ENSG00000276612', 'chromsome': 21, 'start': 5116343, 'end': 5133805, 'biotype': 'protein_coding'}, 'FP565260.1': {'gene_id': 'ENSG00000275464', 'chromsome': 21, 'start': 5130871, 'end': 5154658, 'biotype': 'protein_coding'}, 'FP565260.6': {'gene_id': 'ENSG00000280433', 'chromsome': 21, 'start': 5155499, 'end': 5165472, 'biotype': 'protein_coding'}, 'AC079801.1': {'gene_id': 'ENSG00000279669', 'chromsome': 21, 'start': 5232668, 'end': 5243833, 'biotype': 'lncRNA'}, 'LINC01670': {'gene_id': 'ENSG00000279094', 'chromsome': 21, 'start': 5499151, 'end': 5502542, 'biotype': 'lncRNA'}, 'CU633967.1': {'gene_id': 'ENSG00000274333', 'chromsome': 21, 'start': 5553637, 'end': 5614880, 'biotype': 'lncRNA'}, 'Y_RNA': {'gene_id': 'ENSG00000276902', 'chromsome': 21, 'start': 6365955, 'end': 6366055, 'biotype': 'misc_RNA'}, 'FP236315.2': {'gene_id': 'ENSG00000279186', 'chromsome': 21, 'start': 5703182, 'end': 5705637, 'biotype': 'TEC'}, 'FP236315.3': {'gene_id': 'ENSG00000279784', 'chromsome': 21, 'start': 5705345, 'end': 5707160, 'biotype': 'lncRNA'}, 'FP236315.1': {'gene_id': 'ENSG00000279064', 'chromsome': 21, 'start': 5707004, 'end': 5709456, 'biotype': 'lncRNA'}, 'CU639417.1': {'gene_id': 'ENSG00000274559', 'chromsome': 21, 'start': 5972924, 'end': 5973383, 'biotype': 'protein_coding'}, 'CU639417.3': {'gene_id': 'ENSG00000280013', 'chromsome': 21, 'start': 6008604, 'end': 6008810, 'biotype': 'processed_pseudogene'}, 'CU639417.2': {'gene_id': 'ENSG00000279769', 'chromsome': 21, 'start': 6034690, 'end': 6036093, 'biotype': 'TEC'}, 'LINC01669': {'gene_id': 'ENSG00000280191', 'chromsome': 21, 'start': 6060340, 'end': 6076305, 'biotype': 'lncRNA'}, 'CU639417.4': {'gene_id': 'ENSG00000280095', 'chromsome': 21, 'start': 6081193, 'end': 6082585, 'biotype': 'lncRNA'}, 'CU639417.5': {'gene_id': 'ENSG00000280179', 'chromsome': 21, 'start': 6084364, 'end': 6091407, 'biotype': 'lncRNA'}, 'SIK1B': {'gene_id': 'ENSG00000275993', 'chromsome': 21, 'start': 6111131, 'end': 6123778, 'biotype': 'protein_coding'}, 'CU633906.5': {'gene_id': 'ENSG00000288187', 'chromsome': 21, 'start': 6215291, 'end': 6217681, 'biotype': 'lncRNA'}, 'CU633906.1': {'gene_id': 'ENSG00000275496', 'chromsome': 21, 'start': 6228966, 'end': 6267317, 'biotype': 'lncRNA'}, 'CU633906.4': {'gene_id': 'ENSG00000280019', 'chromsome': 21, 'start': 6272135, 'end': 6276532, 'biotype': 'unprocessed_pseudogene'}, 'CU633906.3': {'gene_id': 'ENSG00000279709', 'chromsome': 21, 'start': 6309161, 'end': 6312948, 'biotype': 'unprocessed_pseudogene'}, 'CU633906.2': {'gene_id': 'ENSG00000278903', 'chromsome': 21, 'start': 6318434, 'end': 6360415, 'biotype': 'lncRNA'}, 'CBSL': {'gene_id': 'ENSG00000274276', 'chromsome': 21, 'start': 6444869, 'end': 6468040, 'biotype': 'protein_coding'}, 'U2AF1L5': {'gene_id': 'ENSG00000275895', 'chromsome': 21, 'start': 6484623, 'end': 6499261, 'biotype': 'protein_coding'}}  for key in genes: print(key)  FP565260.4 FP565260.3 FP565260.5 GATD3B FP565260.2 FP565260.1 FP565260.6 AC079801.1 LINC01670 CU633967.1 Y_RNA FP236315.2 FP236315.3 FP236315.1 CU639417.1 CU639417.3 CU639417.2 LINC01669 CU639417.4 CU639417.5 SIK1B CU633906.5 CU633906.1 CU633906.4 CU633906.3 CU633906.2 CBSL U2AF1L5  for key in genes: if not key.startswith('FP') and not key.startswith('CU'): print(key)  GATD3B AC079801.1 LINC01670 Y_RNA LINC01669 SIK1B CBSL U2AF1L5  for key in genes: if genes[key] ['biotype'] != 'protein_coding': print(key, genes[key])  FP565260.5 {'gene_id': 'ENSG00000279687', 'chromsome': 21, 'start': 5073458, 'end': 5087867, 'biotype': 'lncRNA'} AC079801.1 {'gene_id': 'ENSG00000279669', 'chromsome': 21, 'start': 5232668, 'end': 5243833, 'biotype': 'lncRNA'} LINC01670 {'gene_id': 'ENSG00000279094', 'chromsome': 21, 'start': 5499151, 'end': 5502542, 'biotype': 'lncRNA'} CU633967.1 {'gene_id': 'ENSG00000274333', 'chromsome': 21, 'start': 5553637, 'end': 5614880, 'biotype': 'lncRNA'} Y_RNA {'gene_id': 'ENSG00000276902', 'chromsome': 21, 'start': 6365955, 'end': 6366055, 'biotype': 'misc_RNA'} FP236315.2 {'gene_id': 'ENSG00000279186', 'chromsome': 21, 'start': 5703182, 'end': 5705637, 'biotype': 'TEC'} FP236315.3 {'gene_id': 'ENSG00000279784', 'chromsome': 21, 'start': 5705345, 'end': 5707160, 'biotype': 'lncRNA'} FP236315.1 {'gene_id': 'ENSG00000279064', 'chromsome': 21, 'start': 5707004, 'end': 5709456, 'biotype': 'lncRNA'} CU639417.3 {'gene_id': 'ENSG00000280013', 'chromsome': 21, 'start': 6008604, 'end': 6008810, 'biotype': 'processed_pseudogene'} CU639417.2 {'gene_id': 'ENSG00000279769', 'chromsome': 21, 'start': 6034690, 'end': 6036093, 'biotype': 'TEC'} LINC01669 {'gene_id': 'ENSG00000280191', 'chromsome': 21, 'start': 6060340, 'end': 6076305, 'biotype': 'lncRNA'} CU639417.4 {'gene_id': 'ENSG00000280095', 'chromsome': 21, 'start': 6081193, 'end': 6082585, 'biotype': 'lncRNA'} CU639417.5 {'gene_id': 'ENSG00000280179', 'chromsome': 21, 'start': 6084364, 'end': 6091407, 'biotype': 'lncRNA'} CU633906.5 {'gene_id': 'ENSG00000288187', 'chromsome': 21, 'start': 6215291, 'end': 6217681, 'biotype': 'lncRNA'} CU633906.1 {'gene_id': 'ENSG00000275496', 'chromsome': 21, 'start': 6228966, 'end': 6267317, 'biotype': 'lncRNA'} CU633906.4 {'gene_id': 'ENSG00000280019', 'chromsome': 21, 'start': 6272135, 'end': 6276532, 'biotype': 'unprocessed_pseudogene'} CU633906.3 {'gene_id': 'ENSG00000279709', 'chromsome': 21, 'start': 6309161, 'end': 6312948, 'biotype': 'unprocessed_pseudogene'} CU633906.2 {'gene_id': 'ENSG00000278903', 'chromsome': 21, 'start': 6318434, 'end': 6360415, 'biotype': 'lncRNA'}  åˆ›å»ºå‡½æ•°(defining functions) ä½¿ç”¨defè¯­å¥è¿›è¡Œå‡½æ•°åˆ›å»º.ä¸‹é¢ä¸¾ä¸€äº›ä¾‹å­.\ndef f_to_c(fahrenheit): celsius = (float(fahrenheit) - 32) * 5 / 9 return round(celsius, 2)  ftemp = 110 ctemp = f_to_c(56) ctemp  13.33  print('C =', f_to_c(ftemp))  C = 43.33  def roman(string): ''' Returns the integer value of a string in Roman numerals ''' dictionary = {'M':1000, 'D':500, 'C':100, 'L':50, 'X':10, 'V':5, 'I':1} arabic = [] # list that holds the Roman numerals as Arabic ciphers for letter in string.upper(): if letter in dictionary: arabic.append(dictionary[letter]) for i in range(len(arabic) - 1): if arabic[i] \u0026lt; arabic[i+1]: arabic[i] *= -1 # (5,10) -\u0026gt; (-5,10) print(arabic) return sum(arabic)  def seq_list_from_fastq_file(filename): ''' Parse fastq file returning two lists, one of all sequences the other of the quality strings ''' seq_list = [] quality_list = [] with open(filename) as FASTQ_INPUT: line_cnt = 0 for line in FASTQ_INPUT: line_cnt += 1 if line_cnt == 2: seq_list.append(line.rstrip('\\n')) if line_cnt % 4 == 0: quality_list.append(line.rstrip('\\n')) line_cnt = 0 return seq_list, quality_list  DNA_codon_table = { # Second Base # T C A G # T 'TTT': 'Phe', 'TCT': 'Ser', 'TAT': 'Tyr', 'TGT': 'Cys', # TxT 'TTC': 'Phe', 'TCC': 'Ser', 'TAC': 'Tyr', 'TGC': 'Cys', # TxC 'TTA': 'Leu', 'TCA': 'Ser', 'TAA': '---', 'TGA': '---', # TxA 'TTG': 'Leu', 'TCG': 'Ser', 'TAG': '---', 'TGG': 'Trp', # TxG # C 'CTT': 'Leu', 'CCT': 'Pro', 'CAT': 'His', 'CGT': 'Arg', # CxT 'CTC': 'Leu', 'CCC': 'Pro', 'CAC': 'His', 'CGC': 'Arg', # CxC 'CTA': 'Leu', 'CCA': 'Pro', 'CAA': 'Gln', 'CGA': 'Arg', # CxA 'CTG': 'Leu', 'CCG': 'Pro', 'CAG': 'Gln', 'CGG': 'Arg', # CxG # A 'ATT': 'Ile', 'ACT': 'Thr', 'AAT': 'Asn', 'AGT': 'Ser', # AxT 'ATC': 'Ile', 'ACC': 'Thr', 'AAC': 'Asn', 'AGC': 'Ser', # AxC 'ATA': 'Ile', 'ACA': 'Thr', 'AAA': 'Lys', 'AGA': 'Arg', # AxA 'ATG': 'Met', 'ACG': 'Thr', 'AAG': 'Lys', 'AGG': 'Arg', # AxG # G 'GTT': 'Val', 'GCT': 'Ala', 'GAT': 'Asp', 'GGT': 'Gly', # GxT 'GTC': 'Val', 'GCC': 'Ala', 'GAC': 'Asp', 'GGC': 'Gly', # GxC 'GTA': 'Val', 'GCA': 'Ala', 'GAA': 'Glu', 'GGA': 'Gly', # GxA 'GTG': 'Val', 'GCG': 'Ala', 'GAG': 'Glu', 'GGG': 'Gly' # GxG } dna_seq = 'ATGATATGGAGGAGGTAGCCGCGCGCCATGCGCGCTATATTTTGGTAT'  def translate_DNA_codon(codon): return DNA_codon_table[codon]  def translate(seq): '''Return the animo acid sequence corresponding to the DNA sequence seq''' translation = '' for n in range(0, len(seq) - (len(seq) % 3), 3): # every third base translation += translate_DNA_codon(seq[n:n+3]) return translation  translate(dna_seq)  'MetIleTrpArgArg---ProArgAlaMetArgAlaIlePheTrpTyr'  def translate_in_frame(seq, framenum): '''Return the translation of seq in framenum 1, 2, or 3''' return translate(seq[framenum-1:])  translate_in_frame(dna_seq, 2)  '---TyrGlyGlyGlySerArgAlaProCysAlaLeuTyrPheGly'  def print_translation_in_frame(seq, framenum, prefix): '''Print the translation of seq in framenum preceded by prefix''' print(prefix, framenum, ' ' * framenum, translate_in_frame(seq, framenum), sep='')  print_translation_in_frame(dna_seq, 2, 'Frame ')  Frame 2 ---TyrGlyGlyGlySerArgAlaProCysAlaLeuTyrPheGly  def print_translations(seq, prefix = ''): '''Print the translations of seq in all three reading frames, each preceded by prefix''' # print DNA sequence, indented to line up after prefix is added # to translation lines print('\\n', ' ' * (len(prefix) + 2), seq, sep='') for framenum in range(1,4): print_translation_in_frame(seq, framenum, prefix)  print_translations(dna_seq)   ATGATATGGAGGAGGTAGCCGCGCGCCATGCGCGCTATATTTTGGTAT 1 MetIleTrpArgArg---ProArgAlaMetArgAlaIlePheTrpTyr 2 ---TyrGlyGlyGlySerArgAlaProCysAlaLeuTyrPheGly 3 AspMetGluGluValAlaAlaArgHisAlaArgTyrIleLeuVal  def translate_with_open_reading_frames(seq, framenum): '''Return the translation of seq in framenum (1, 2, or 3), with ---'s when not within an open reading frame; assume the read is not in an open frame when at the beginning of seq''' open = False translation = \u0026quot;\u0026quot; seqlength = len(seq) - (framenum - 1) for n in range(framenum-1, seqlength - (seqlength % 3), 3): codon = translate_DNA_codon(seq[n:n+3]) open = (open or codon == \u0026quot;Met\u0026quot;) and not (codon == \u0026quot;---\u0026quot;) translation += codon if open else \u0026quot;---\u0026quot; return translation  translate_with_open_reading_frames(dna_seq, 1)  'MetIleTrpArgArg------------MetArgAlaIlePheTrpTyr'  def print_translation_with_open_reading_frame(seq, framenum, prefix): print(prefix, framenum, ' ' * framenum, translate_with_open_reading_frames(seq, framenum), sep='')  print_translation_with_open_reading_frame(dna_seq, 1, 'Seq ')  Seq 1 MetIleTrpArgArg------------MetArgAlaIlePheTrpTyr  def print_translations_with_open_reading_frames(seq, prefix=''): print('\\n', ' ' * (len(prefix) + 2), seq, sep='') for frame in range(1,4): print_translation_with_open_reading_frame(seq, frame, prefix)  print_translations_with_open_reading_frames(dna_seq)   ATGATATGGAGGAGGTAGCCGCGCGCCATGCGCGCTATATTTTGGTAT 1 MetIleTrpArgArg------------MetArgAlaIlePheTrpTyr 2 --------------------------------------------- 3 ---MetGluGluValAlaAlaArgHisAlaArgTyrIleLeuVal  def print_translations_in_frames_in_both_directions(seq): print_translations(seq, '5\\'-\u0026gt;3\\' ORF ') print_translations(seq[::-1], '3\\'-\u0026gt;5\\' ORF ')  print_translations_in_frames_in_both_directions(dna_seq)   ATGATATGGAGGAGGTAGCCGCGCGCCATGCGCGCTATATTTTGGTAT 5'-\u0026gt;3' ORF 1 MetIleTrpArgArg---ProArgAlaMetArgAlaIlePheTrpTyr 5'-\u0026gt;3' ORF 2 ---TyrGlyGlyGlySerArgAlaProCysAlaLeuTyrPheGly 5'-\u0026gt;3' ORF 3 AspMetGluGluValAlaAlaArgHisAlaArgTyrIleLeuVal TATGGTTTTATATCGCGCGTACCGCGCGCCGATGGAGGAGGTATAGTA 3'-\u0026gt;5' ORF 1 TyrGlyPheIleSerArgValProArgAlaAspGlyGlyGlyIleVal 3'-\u0026gt;5' ORF 2 MetValLeuTyrArgAlaTyrArgAlaProMetGluGluVal--- 3'-\u0026gt;5' ORF 3 TrpPheTyrIleAlaArgThrAlaArgArgTrpArgArgTyrSer  def print_translations_with_open_reading_frames_in_both_directions(seq): print_translations_with_open_reading_frames(seq, '5\\'-\u0026gt;3\\' ORF ') print_translations_with_open_reading_frames(seq[::-1], '3\\'-\u0026gt;5\\' ORF ')  print_translations_with_open_reading_frames_in_both_directions(dna_seq)   ATGATATGGAGGAGGTAGCCGCGCGCCATGCGCGCTATATTTTGGTAT 5'-\u0026gt;3' ORF 1 MetIleTrpArgArg------------MetArgAlaIlePheTrpTyr 5'-\u0026gt;3' ORF 2 --------------------------------------------- 5'-\u0026gt;3' ORF 3 ---MetGluGluValAlaAlaArgHisAlaArgTyrIleLeuVal TATGGTTTTATATCGCGCGTACCGCGCGCCGATGGAGGAGGTATAGTA 3'-\u0026gt;5' ORF 1 ------------------------------------------------ 3'-\u0026gt;5' ORF 2 MetValLeuTyrArgAlaTyrArgAlaProMetGluGluVal--- 3'-\u0026gt;5' ORF 3 ---------------------------------------------  mapå‡½æ•° mapå‡½æ•°è·ŸRä¸­çš„applyå®¶æ—æœ‰ç‚¹åƒ.\nmapå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå‡½æ•°,ç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªåˆ—è¡¨,ç„¶åå‡½æ•°å¯¹åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†.ç„¶åè¿”å›é•¿åº¦ å’Œè¾“å…¥åˆ—è¡¨ç›¸åŒçš„åˆ—è¡¨.\n# starting list mylist = [1.2, 3.2, 5.4, 2.1, 0.8]  # round all values in list to nearest int print(list(map(round, mylist)))  [1, 3, 5, 2, 1]  # define function to square values def sqr(x): return round(pow(x,2),3)  # square each value of list print(list(map(sqr, mylist)))  [1.44, 10.24, 29.16, 4.41, 0.64]  # mylist #2 mylist2 = ['71', '72', '73', '74']  # convert each value in list to binary (base 2) print(list(map(chr, map(int, mylist2))))  ['G', 'H', 'I', 'J']  list comprehension(åˆ—è¡¨æ¨å¯¼è¡¨è¾¾å¼) åˆ—è¡¨æ¨å¯¼è¡¨è¾¾å¼å¯ä»¥ä»ä¸€ä¸ªåˆ—è¡¨å¿«é€Ÿçš„å¾—åˆ°å¦å¤–ä¸€ä¸ªåˆ—è¡¨,åœ¨å¾ˆå¤šæƒ…å†µä¸‹,å¯ä»¥æ›¿æ¢æ‰æ¯”è¾ƒç®€å•çš„forå¾ªç¯.\n[ expression for item in list if conditional ]\nfor item in list: if conditional: expression\nmylist = [] for x in 'spam': mylist.append(ord(x)) print(mylist)  [115, 112, 97, 109]  # convert a string into a list of ASCII values [ord(x) for x in 'spam']  [115, 112, 97, 109]  # convert a string into a set of ASCII values {ord(x) for x in 'spaam'} # square to curly  {97, 109, 112, 115}  # convert a string into a dict of ASCII values {x: ord(x) for x in 'spaam'}  {'s': 115, 'p': 112, 'a': 97, 'm': 109}  S = [] V = [] M = [] for x in range(10): S.append(x**2) print('S =', S) for i in range(13): V.append(2**i) print('V =', V) for x in S: if x % 2 == 0: M.append(x) print('M =', M)  S = [0, 1, 4, 9, 16, 25, 36, 49, 64, 81] V = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096] M = [0, 4, 16, 36, 64]  S = [x**2 for x in range(10)] V = [2**x for x in range(13)] M = [x for x in S if x % 2 == 0] print('S =', S) print('V =', V) print('M =', M)  S = [0, 1, 4, 9, 16, 25, 36, 49, 64, 81] V = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096] M = [0, 4, 16, 36, 64]  # start with a matrix, in this case represented as three lists M = [[1, 2, 3], [4, 5, 6], [7, 8, 9]] col2 = []  # print out just the 2nd column for row in M: col2.append(row[1]) print(col2)  [2, 5, 8]  [row[1] for row in M]  [2, 5, 8]  # Nested comprehensions # tuples that are the cross products of two lists: [-1,0,1] and [-1,0,1] mylist = [] for x in range(-1,2): for y in range(-1,2): if x == y: mylist.append((x,y)) print(mylist)  [(-1, -1), (0, 0), (1, 1)]  [(x, y) for x in range(-1,2) for y in range(-1,2) if x == y]  [(-1, -1), (0, 0), (1, 1)]  numbers = [1, 2, 3, 5, 7, 8, 11, 10, 11, 14] doubled_odds = [] for n in numbers: if n % 2 == 1: doubled_odds.append(n * 2) print(doubled_odds)  [2, 6, 10, 14, 22, 22]  doubled_odds = [n * 2 for n in numbers if n % 2 == 1] print (doubled_odds)  [2, 6, 10, 14, 22, 22]  # output increasing amount of string string = 'elephants' [string[:c + 1] for c in range(len(string))]  ['e', 'el', 'ele', 'elep', 'eleph', 'elepha', 'elephan', 'elephant', 'elephants']  # generate all k-mers of 23bp for a string of nucleotides # 1 2 3 4 # 01234567890123456789012345678901234567890 dna = 'ACTGATCGATTACGTATAGTAGAATTCTATCATATATATGG' kmers = [] for c in range(0, len(dna) - 22): kmers.append(dna[c:c+23]) kmers  ['ACTGATCGATTACGTATAGTAGA', 'CTGATCGATTACGTATAGTAGAA', 'TGATCGATTACGTATAGTAGAAT', 'GATCGATTACGTATAGTAGAATT', 'ATCGATTACGTATAGTAGAATTC', 'TCGATTACGTATAGTAGAATTCT', 'CGATTACGTATAGTAGAATTCTA', 'GATTACGTATAGTAGAATTCTAT', 'ATTACGTATAGTAGAATTCTATC', 'TTACGTATAGTAGAATTCTATCA', 'TACGTATAGTAGAATTCTATCAT', 'ACGTATAGTAGAATTCTATCATA', 'CGTATAGTAGAATTCTATCATAT', 'GTATAGTAGAATTCTATCATATA', 'TATAGTAGAATTCTATCATATAT', 'ATAGTAGAATTCTATCATATATA', 'TAGTAGAATTCTATCATATATAT', 'AGTAGAATTCTATCATATATATG', 'GTAGAATTCTATCATATATATGG']  # generate all 23-mers of dna [dna[c:c+23] for c in range(0, len(dna) - 22)]  ['ACTGATCGATTACGTATAGTAGA', 'CTGATCGATTACGTATAGTAGAA', 'TGATCGATTACGTATAGTAGAAT', 'GATCGATTACGTATAGTAGAATT', 'ATCGATTACGTATAGTAGAATTC', 'TCGATTACGTATAGTAGAATTCT', 'CGATTACGTATAGTAGAATTCTA', 'GATTACGTATAGTAGAATTCTAT', 'ATTACGTATAGTAGAATTCTATC', 'TTACGTATAGTAGAATTCTATCA', 'TACGTATAGTAGAATTCTATCAT', 'ACGTATAGTAGAATTCTATCATA', 'CGTATAGTAGAATTCTATCATAT', 'GTATAGTAGAATTCTATCATATA', 'TATAGTAGAATTCTATCATATAT', 'ATAGTAGAATTCTATCATATATA', 'TAGTAGAATTCTATCATATATAT', 'AGTAGAATTCTATCATATATATG', 'GTAGAATTCTATCATATATATGG']  zipå‡½æ•° # reverse key and value in mydict mydict = {'A':12, 'B':25, 'C':23, 'D':14} reversed = dict(zip(mydict.values(), mydict)) print(reversed)  {12: 'A', 25: 'B', 23: 'C', 14: 'D'}  # same as above reversed = dict(zip(mydict.values(), mydict.keys())) print(reversed)  {12: 'A', 25: 'B', 23: 'C', 14: 'D'}  ç»ƒä¹ é¢˜ åŠ è½½library ä¸åŒçš„åŠ è½½libyraryæ–¹å¼\n# import the math library # find the sqrt of 9 import math print(math.sqrt(9)) # import the math library, but call it m # find the sqrt of 9 import math as m print(m.sqrt(9)) # import ONLY the sqrt function from math # find the sqrt of 9 from math import sqrt print(sqrt(9)) # import ONLY the sqrt function from math, but call it s # find the sqrt of 9 from math import sqrt as s print(s(9))  3.0 3.0 3.0 3.0  import math print(math.log(7)) print(math.log(7, 2)) print(math.sqrt(9)) print(math.factorial(4))  1.9459101490553132 2.807354922057604 3.0 24  There are so many more methods in the math library! Put your cursor after the \u0026lsquo;math.\u0026rsquo; and press \u0026lsquo;tab\u0026rsquo; to see them all! mathåŒ…ä¸­æœ‰éå¸¸å¤šçš„å‡½æ•°,åªéœ€è¦åŠ è½½åŒ…ä¹‹å,ç„¶åè¾“å…¥math.ç„¶åç‚¹å‡»tabé”®å°±ä¼šè‡ªåŠ¨å‡ºç°ä»£ç è¡¥é½.\ngzipåŒ… gzipåŒ…ä¸»è¦æ˜¯ç”¨æ¥è¯»å–å‹ç¼©ä¸ºzipæ ¼å¼çš„æ–‡ä»¶.\nimport os as os os.getcwd() os.listdir()  ['.ipynb_checkpoints', 'featured.png', 'index.ipynb', 'index.md', 'Practice06-Veronica.ipynb', 'sample.txt', 'sample.txt.gz', 'Untitled.ipynb']  import gzip # The most common use is to read gzipped files gzippedFileName = 'sample.txt.gz' with gzip.open(gzippedFileName, 'rt') as inFile: # don't forget to use 'rt' not just 'r' for line in inFile: line = line.strip() print(line)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  osåŒ… import os # Returns your current directory print(os.getcwd()) # Returns a list containing the names of the files in the specified directory print(os.listdir()) # Create a new directory os.makedirs('newDirectory') # Remove a a directory os.removedirs('newDirectory') open('newFile.txt', 'w') # this creates a new empty file # Remove a file os.remove('newFile.txt')  D:\\my github\\shen\\content\\en\\post\\2019-12-02-python-for-genomics-class_day06 ['.ipynb_checkpoints', 'featured.png', 'index.ipynb', 'index.md', 'Practice06-Veronica.ipynb', 'sample.txt', 'sample.txt.gz', 'Untitled.ipynb']  # THIS CELL WON'T ACTUALLY EXECUTE # THEY'RE JUST EXAMPLES # Change the current working directory to the specified path. #ä¿®æ”¹è·¯å¾„çš„æ—¶å€™,å¦‚æœæ²¡æœ‰è¿™ä¸ªè·¯å¾„,ä¼šæŠ¥é”™. try: os.chdir('PATH') except: print(\u0026quot;No this PATH\u0026quot;) # Test whether a path exists. os.path.exists('PATH')  No this PATH False  randomåŒ… import random # Returns random number from the interval [0, 1) print(random.random()) # Returns a random number between the minimum (inclusive) and maximum (not inclusive) provided print(random.randrange(1, 101))  0.7176637829068632 97  ä¸åŒçš„æ–¹æ³•å–naviageä¸€ä¸ªæ–‡ä»¶(file) ä½¿ç”¨open()å‡½æ•°æ‰“å¼€,ç„¶åç›´æ¥ä½¿ç”¨read()æ–¹æ³•ç›´æ¥å¾—åˆ°æ‰€æœ‰çš„å†…å®¹.\ninFileName = 'sample.txt' with open(inFileName, 'r') as inFile: inFile_string = inFile.read() print(type(inFile)) print(inFile_string)  \u0026lt;class '_io.TextIOWrapper'\u0026gt; 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  ç¬¬äºŒç§æ–¹æ³•å¯ä»¥å¯¹æ¯è¡Œè¿›è¡Œå¤„ç†. å…¶å®ä¸€ç›´æœ‰ä¸ªç–‘é—®,èƒ½ä¸èƒ½ä¸åœ¨å¾ªç¯ä¸­æ‹¿åˆ°è¿™ä¸ªæ–‡ä»¶çš„æŸä¸€è¡Œçš„å†…å®¹?\ninFileName = 'sample.txt' with open(inFileName, 'r') as inFile: for line in inFile: line = line.strip() # .rstrip() and .lstrip() remove from just the right or left sides of the line print(line)  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30  å¦å¤–ä¸€ç§æ–¹æ³•,åªè¯»å–æŸä¸€è¡Œ,ä½¿ç”¨ä¸‹é¢ä¸¤ä¸ªå‡½æ•°: next(inFile)æˆ–è€…inFile.readline()\n# This is often useful for skipping the header of files! #ä¸»è¦ç”¨æ¥éƒ¨è¯»å–ç¬¬ä¸€è¡Œ inFileName = 'sample.txt' with open(inFileName, 'r') as inFile: firstLine = next(inFile) print(firstLine) # first line will print secondLine = inFile.readline() print(secondLine) # second line will print thirdLine2 = inFile.readline() print(thirdLine2) # third line will print  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  ä»urlè¯»å–æ•°æ®æ–‡ä»¶ ä»ä¸€ä¸ªurlè¯»å–zipå‹ç¼©æ ¼æ–¯çš„æ–‡ä»¶ ##åŠ è½½éœ€è¦ç”¨åˆ°çš„åŒ… import urllib.request import gzip URL = 'https://www.encodeproject.org/files/ENCFF215GBK/@@download/ENCFF215GBK.fastq.gz' #URL = 'https://www.encodeproject.org/files/gencode.v24.primary_assembly.annotation/@@download/gencode.v24.primary_assembly.annotation.gtf.gz' ##ä½¿ç”¨`urlopen()`å‡½æ•°æ‰“é“¾æ¥ response = urllib.request.urlopen(URL) with gzip.open(response, 'rt') as inFile: # don't forget to use 'rt' not just 'r' i = 0 for line in inFile: line = line.strip() print(line) i += 1 #** Parsing of file goes here ** if i \u0026gt;= 8: break  @HWI-ST1309F:188:C684MANXX:6:1101:1070:2027 1:Y:0:GCGAAAC ATNTTTTTTTATTATTATTATTTTAANACNCCTGGCATCTGTTGCTATTT + BB#\u0026lt;\u0026lt;//BFFFBF/\u0026lt;FFF\u0026lt;F/\u0026lt;\u0026lt;FBB#\u0026lt;\u0026lt;#\u0026lt;\u0026lt;\u0026lt;\u0026lt;/\u0026lt;////\u0026lt;FBFBFFF## @HWI-ST1309F:188:C684MANXX:6:1101:1169:2086 1:N:0:GCGAAAC AGCTAAGGGTTTACCCTGTTTGCTTTCATATTCCAGTAGCCATTTAAAAT + BBBBBFBFFBBF\u0026lt;FFFFFBB\u0026lt;FBFFF\u0026lt;/FF\u0026lt;FFBFFFFFFFF\u0026lt;/FBFFF\u0026lt;  ä»ä¸€ä¸ªurlè¯»å–ézipå‹ç¼©æ ¼æ–¯çš„æ–‡ä»¶ URL = 'https://hgdownload.soe.ucsc.edu/gbdb/hg38/snp/snp142.fa' response = urllib.request.urlopen(URL) i = 0 for line in response: #line = line.strip() line = line.decode('utf-8').strip() #decodeæ–¹æ³• print(line) i += 1 #** Parsing of file goes here ** if i \u0026gt;= 8: break  \u0026gt;rs171 tcattgatgg acatttgggt tggttccagg tctttgctat tgcgagtagt gccacaataa atatacgtgt gcatgtgtct tgatagtagc atgatttata atcctttggg tatataccca ctaatgggat ggctgggtca aatggtattt ctagttctag atccttgagg aatcaccaca ctgtcttcca catggttgaa ctaatttaca gtcccaacaa cagtgtaaaa gtgttcctat ttctccatat cctctccagc acctgttgtt tcctgacttt ttaatgatca ccattctaac tgttgcgaga tggtatctca ttgtggtttt gatttgcatt tctctgatgg gcagtgatga tgagcatttt ttcatgtgtc tgttggctgc ataaatgtct tcttttggga agtgtctgtt catatccatt gcctagtttt gatggggttg tttgatttat ttcttgtaaa tttgtttacg ttcgttgtag attctggat  åˆ—è¡¨æ¨å¯¼å¼å’Œmap()å‡½æ•° EXAMPLE: Three ways to convert a list of strings to a list of integers\n1. ä½¿ç”¨å¾ªç¯ myList = ['1', '2', '3', '4'] myList_int = [] for num in myList: num = int(num) myList_int.append(num) print(myList_int)  [1, 2, 3, 4]  2. ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ myList = ['1', '2', '3', '4'] myList = [int(item) for item in myList] print(myList)  [1, 2, 3, 4]  # Here's how you would convert to an integer AND multiply by 3 for each item in the list # only if the original number is greater than 2! #å¯ä»¥åœ¨åé¢åŠ ä¸Šifå‡½æ•°ä»è€Œå¯¹åªç‰¹å®šæ€§çš„é€‰æ‹©æŸäº›å…ƒç´  myList = ['1', '2', '3', '4'] myNewList = [int(x)*3 for x in myList if int(x) \u0026gt; 2] print(myNewList)  [9, 12]  # Cool example of how to make two lists into a dictionary using a comprehension! # å¯ä»¥å°†ä¸€ä¸ªåˆ—è¡¨è½¬å˜ä¸ºä¸€ä¸ªå­—å…¸ # ç”¨åˆ°äº†è§£åŒ…æ–¹æ³• # å¤–é¢ç›´æ¥æ”¹ä¸ºå¤§æ‹¬å·å°±è¡Œäº† myList1 = ['one', 'two', 'three', 'four'] myList2 = [1, 2, 3, 4] myDict = {key:value for key, value in zip(myList1, myList2)} print(myDict)  {'one': 1, 'two': 2, 'three': 3, 'four': 4}  ä½¿ç”¨map()å‡½æ•° ##mapå‡½æ•°å¯¹åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œå¤„ç† myList = ['1', '2', '3', '4'] myList = list(map(int, myList)) print(myList)  [1, 2, 3, 4]  ","date":1575676800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1575676800,"objectID":"3e344e9a1786be53d13ae92063b98fe0","permalink":"/post/2019-12-02-python-for-genomics-class_day06/","publishdate":"2019-12-07T00:00:00Z","relpermalink":"/post/2019-12-02-python-for-genomics-class_day06/","section":"post","summary":"Python for genomics day 06","tags":["Python"],"title":"Python for genomics day 06","type":"post"},{"authors":["Xiaotao Shen PhD"],"categories":["Linux"],"content":" Table of Contents HAHAHUGOSHORTCODE-TOC0-HBHB\nå®Œæ•´çš„tmuxè¯·å‚è€ƒä¸‹é¢çš„å¸–å­:\nhttp://louiszhai.github.io/2017/09/30/tmux/\nTmuxç®€æ´ tmuxæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ç»ˆç«¯å¤ç”¨è½¯ä»¶ï¼Œä¸»è¦å¾—ç›Šäºä»¥ä¸‹ä¸‰å¤„åŠŸèƒ½ï¼š\n ä¸æ»‘åˆ†å±ï¼ˆsplitï¼‰ï¼Œè™½ç„¶iTem2ä¹Ÿæä¾›äº†æ¨ªå‘å’Œç«–å‘åˆ†å±åŠŸèƒ½ï¼Œä½†è¿™ç§åˆ†å±åŠŸèƒ½éå¸¸æ‹™åŠ£ï¼Œå®Œå…¨ç­‰åŒäºå±å¹•æ–°å¼€ä¸€ä¸ªçª—å£ï¼Œæ–°å¼€çš„paneä¸ä¼šè‡ªåŠ¨è¿›å…¥åˆ°å½“å‰ç›®å½•ï¼Œä¹Ÿæ²¡æœ‰è®°ä½å½“å‰ç™»å½•çŠ¶æ€ã€‚è¿™æ„å‘³ç€å¦‚æœæˆ‘sshè¿›å…¥åˆ°è¿œç¨‹æœåŠ¡å™¨æ—¶ï¼ŒiTem2æ–°å¼€çš„paneä¸­ï¼Œæˆ‘ä¾ç„¶è¦é‡æ–°èµ°ä¸€ésshç™»å½•çš„è€è·¯ï¼ˆomgï¼‰ã€‚tmuxå°±ä¸ä¼šè¿™æ ·ï¼Œtmuxçª—å£ä¸­ï¼Œæ–°å¼€çš„paneï¼Œé»˜è®¤è¿›å…¥åˆ°ä¹‹å‰çš„è·¯å¾„ï¼Œå¦‚æœæ˜¯sshè¿æ¥ï¼Œç™»å½•çŠ¶æ€ä¹Ÿä¾æ—§ä¿æŒç€ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘å°±å¯ä»¥éšæ„çš„å¢åˆ paneï¼Œè¿™ç§çµæ´»æ€§ï¼Œå¥½å¤„ä¸è¨€è€Œå–»ã€‚\n ä¿æŠ¤ç°åœºï¼ˆattachï¼‰ï¼Œå³ä½¿å‘½ä»¤è¡Œçš„å·¥ä½œåªè¿›è¡Œåˆ°ä¸€åŠï¼Œå…³é—­ç»ˆç«¯åè¿˜å¯ä»¥é‡æ–°è¿›å…¥åˆ°æ“ä½œç°åœºï¼Œç»§ç»­å·¥ä½œã€‚å¯¹äºsshè¿œç¨‹è¿æ¥è€Œè¨€ï¼Œå³ä½¿ç½‘ç»œä¸ç¨³å®šä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæ‰çº¿åé‡æ–°è¿æ¥ï¼Œå¯ä»¥ç›´å¥”ç°åœºï¼Œä¹‹å‰è¿è¡Œä¸­çš„ä»»åŠ¡ï¼Œä¾æ—§åœ¨è·‘ï¼Œå°±å¥½åƒä»æ¥æ²¡æœ‰ç¦»å¼€è¿‡ä¸€æ ·ï¼›ç‰¹åˆ«æ˜¯åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šè¿è¡Œè€—æ—¶çš„ä»»åŠ¡ï¼Œtmuxå¯ä»¥å¸®ä½ ä¸€ç›´ä¿æŒä½ä¼šè¯ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œä½ å°±å¯ä»¥éšæ—¶éšåœ°æ”¾å¿ƒåœ°è¿›è¡Œç§»åŠ¨åŠå…¬ï¼Œåªè¦ä½ é™„è¿‘çš„è®¡ç®—æœºè£…æœ‰tmuxï¼ˆæ²¡æœ‰ä½ ä¹Ÿå¯ä»¥èŠ±å‡ åˆ†é’Ÿè£…ä¸€ä¸ªï¼‰ï¼Œä½ å°±èƒ½ç»§ç»­åˆšæ‰çš„å·¥ä½œã€‚\n ä¼šè¯å…±äº«ï¼ˆé€‚ç”¨äºç»“å¯¹ç¼–ç¨‹æˆ–è¿œç¨‹æ•™å­¦ï¼‰ï¼Œå°† tmux ä¼šè¯çš„åœ°å€åˆ†äº«ç»™ä»–äººï¼Œè¿™æ ·ä»–ä»¬å°±å¯ä»¥é€šè¿‡ SSH æ¥å…¥è¯¥ä¼šè¯ã€‚å¦‚æœä½ è¦ç»™åŒäº‹æ¼”ç¤ºè¿œç¨‹æœåŠ¡å™¨çš„æ“ä½œï¼Œä»–ä¸å¿…ç›´å‹¾å‹¾åœ°ç›¯ç€ä½ çš„å±å¹•ï¼Œå€ŸåŠ©tmuxï¼Œä»–å®Œå…¨å¯ä»¥è¿›å…¥åˆ°ä½ çš„ä¼šè¯ï¼Œç„¶åé™é™åœ°çœ‹ç€ä»–æ¡Œé¢ä¸Šä½ é£éªšçš„é”®ç›˜èµ°ä½ï¼Œåªè¦ä»–æ„¿æ„ï¼Œç”šè‡³è¿˜å¯ä»¥å½•ä¸ªå±ã€‚\n  Tmuxå¿«æ·é”® å¯åŠ¨æ–°å¯¹è¯ tmux [new -s ä¼šè¯å -n çª—å£å]  åˆ—å‡ºæ‰€æœ‰çš„å¯¹è¯ tmux ls  å…³é—­ä¼šè¯ tmux kill-session -t ä¼šè¯å  å…³é—­æ‰€æœ‰ä¼šè¯ tmux ls | grep : | cut -d. -f1 | awk '{print substr($1, 0, length($1)-1)}' | xargs kill  åœ¨ Tmux ä¸­ï¼ŒæŒ‰ä¸‹ Tmux å‰ç¼€ ctrl+bï¼Œç„¶å ä¼šè¯ :new\u0026lt;å›è½¦\u0026gt; å¯åŠ¨æ–°ä¼šè¯ s åˆ—å‡ºæ‰€æœ‰ä¼šè¯ $ é‡å‘½åå½“å‰ä¼šè¯  çª—å£ (æ ‡ç­¾é¡µ) c åˆ›å»ºæ–°çª—å£ w åˆ—å‡ºæ‰€æœ‰çª—å£ n åä¸€ä¸ªçª—å£ p å‰ä¸€ä¸ªçª—å£ f æŸ¥æ‰¾çª—å£ , é‡å‘½åå½“å‰çª—å£ \u0026amp; å…³é—­å½“å‰çª—å£  ","date":1575417600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1575417600,"objectID":"c77515a53eaafd569bbf853ee56275a8","permalink":"/post/2019-12-04-tmux-summary/","publishdate":"2019-12-04T00:00:00Z","relpermalink":"/post/2019-12-04-tmux-summary/","section":"post","summary":"Learn how to use tmux","tags":[],"title":"Tmux summary","type":"post"},{"authors":["Xiaotao Shen PhD"],"categories":["Python"],"content":" Table of Contents HAHAHUGOSHORTCODE-TOC0-HBHB\nç¬¬äº”å¤©çš„çŸ¥è¯†ç‚¹æ€»ç»“.\nFASTQæ ¼å¼æ•°æ® Fastqæ˜¯æµ‹åºæ•°æ®ä¸‹æœºæ ¼å¼ï¼Œå…¶ä¸­åŒ…å«æµ‹åºåºåˆ—(reads)çš„åºåˆ—ä¿¡æ¯åŠå…¶å¯¹åº”çš„æµ‹åºè´¨é‡ä¿¡æ¯ã€‚FASTQæ ¼å¼æ–‡ä»¶ä¸­æ¯ä¸ªreadç”±å››è¡Œ(name,sequence,comment,quality)æè¿°ï¼Œå¦‚ä¸‹ï¼š\n@YJM244_SRR800767.1 1 length=202 TGTGAAACTTAGTTTTCTTTTTGTATTGGGGTGTAATTTCTTATTTTCCCTGTATTTCACCGCATGCAA +YJM244 : Geographic Location of Isolate: Romania, Source: Clinical CC@FDDFFHHHHHJJJJJJIIIJFHJGJJJJ:DCDDGHIJJG4DGIDGH\u0026lt;9??9=F@))B8-''557=A)?  æœ€å¼€å§‹,æ¡‘æ ¼ç ”ç©¶æ‰€çš„FASTQæ ¼å¼å…è®¸åºåˆ—ä¸è´¨é‡ä¿¡æ¯åˆ†æˆå¤šè¡Œè¿›è¡Œä¿å­˜,ä½†æ˜¯ä¸€èˆ¬ä¸æ¨èé‡‡ç”¨è¿™ç§æ–¹å¼,å› ä¸ºç¬¬ä¸€å’Œç¬¬ä¸‰è¡Œå¼€å¤´çš„@ä¸+ç¬¦å·åŒæ ·ä¹Ÿå¯èƒ½å‡ºç°åœ¨è´¨é‡ä¿¡æ¯ä¸­,å¯èƒ½ä¼šé€ æˆä¿¡æ¯æå–çš„å›°éš¾.\nname å…¶ä¸­ç¬¬ä¸€è¡Œæ˜¯è¯¥readçš„name,ä»¥â€œ@â€å¼€å¤´ï¼Œéšåä¸ºIllumina æµ‹åºæ ‡è¯†ç¬¦(Sequence Identifiers)å’Œæè¿°æ–‡å­—(é€‰æ‹©æ€§éƒ¨åˆ†).ä¸åŒçš„å…¬å¸æˆ–è€…è½¯ä»¶ä¸å¤ªä¸€æ ·.ä»–æ˜¯æ¯ä¸€æ¡readçš„å”¯ä¸€æ ‡è¯†ç¬¦,åŒä¸€ä»½FASTQæ–‡ä»¶ä¸­ä¸ä¼šå‡ºç°é‡å¤,ç”šè‡³ä¸åŒçš„FASTQçš„æ–‡ä»¶ä¸­ä¹Ÿä¸ä¼šå‡ºç°é‡å¤.\nä»¥ä¸‹é¢çš„ä¸ºä¾‹:\n@HWUSI-EAS100R:6:73:941:1973#0/1     Identifier Meaning     HWUSI-EAS100R the unique instrument name   6 flowcell lane   73 tile number within the flowcell lane   941 \u0026lsquo;x\u0026rsquo;-coordinate of the cluster within the tile   1973 \u0026lsquo;y\u0026rsquo;-coordinate of the cluster within the tile   #0 index number for a multiplexed sample (0 for no indexing)   /1 the member of a pair, /1 or /2 (paired-end or mate-pair reads only)    Sequence ç¬¬äºŒè¡Œæ˜¯ç¢±åŸºåºåˆ—.ç”±A,C,T,C.Näº”ä¸ªå­—æ¯ç»„æˆ,è¿™ä¹Ÿæ˜¯æˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„DNAåºåˆ—,NAä»£è¡¨çš„æ˜¯é‚£äº›æ— æ³•è¢«è¯†åˆ«å‡ºæ¥çš„ç¢±åŸº.\nComment ç¬¬ä¸‰è¡Œä»¥â€œ+â€å¼€å¤´ï¼Œåœ¨æ—§ç‰ˆçš„FASTQæ–‡ä»¶ä¸­,ä¼šç›´æ¥èµ‹å€¼ç¬¬ä¸€è¡Œçš„ä¿¡æ¯,ä½†æ˜¯ç°åœ¨ä¸€èˆ¬ä»€ä¹ˆéƒ½ä¸åŠ ,ç”¨ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´.\nQuality ç¬¬å››è¡Œæ˜¯å¯¹åº”åºåˆ—çš„æµ‹åºè´¨é‡ã€‚æ˜¯å’Œç¬¬äºŒè¡Œçš„sequenceä¸€ä¸€å¯¹åº”çš„,æ‰€ä»¥ç¬¬å››è¡Œå’Œç¬¬äºŒè¡Œçš„é•¿åº¦å¿…é¡»ç›¸ç­‰.ç¬¬å››è¡Œä¸­æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„ASCIIå€¼å‡å»33ï¼Œå³ä¸ºç¬¬äºŒè¡Œå¯¹åº”ç¢±åŸºè´¨é‡ã€‚ç”¨æ¥æè¿°æ¯ä¸ªæµ‹åºç¢±åŸºçš„å¯é ç¨‹åº¦,ç”¨ASCIIç è¡¨ç¤º.\nFASTQæ ¼å¼ä¸­è´¨é‡å€¼å…·æœ‰é‡è¦çš„ä½œç”¨ï¼Œåœ¨å¾ˆå¤šçš„åˆ†æä¸­ä¼šç”¨åˆ°è¿™ä¸ªè´¨é‡å€¼ï¼Œä¾‹å¦‚æ•°æ®è´¨æ§ï¼Œæ•°æ®è¿‡æ»¤ï¼Œåºåˆ—æ‹¼æ¥ï¼ŒçŸ­åºåˆ—æ¯”å¯¹ï¼Œå˜å¼‚æ£€æµ‹ä¸­éƒ½è¦ç”¨åˆ°è¿™ä¸ªè´¨é‡å€¼ã€‚ è¿™ä¸ªè´¨é‡å€¼æ˜¯åŸºäºphredè´¨é‡å€¼ä½“ç³».\nä½†æ˜¯ç”±äºå•ä¸ªç¢±åŸºæ— æ³•ä¸ä¸¤ä½çš„è´¨é‡å€¼ç›¸åŒ¹é…ï¼Œä¾‹å¦‚Aç¢±åŸºå¯¹åº”çš„è´¨é‡å€¼ä¸º40ï¼Œä¸€ä¸ªAå­—ç¬¦å¯¹åº”ä¸¤ä¸ªå­—ç¬¦40ï¼Œå› æ­¤éœ€è¦å°†åŸå§‹è´¨é‡å€¼åŠ ä¸Š33æˆ–è€…64ï¼Œåœ¨è½¬æ¢ä¸ºå¯¹åº”çš„ASCIIç å€¼ï¼Œä¸ºä½•åŠ 33ï¼Œå› ä¸º33ä»¥ä¸‹ASCIIç æ— æ³•ç”¨é”®ç›˜å­—ç¬¦è¡¨ç¤ºå‡ºæ¥ã€‚illuminaæµ‹åº1.8ç‰ˆæœ¬ä»¥ä¸ŠåŠ 33ï¼Œä»¥ä¸‹åŠ 64ã€‚\nè´¨é‡è¯„åˆ†(quality score,Q-score)æ˜¯ä¸€ä¸ªç¢±åŸºçš„é”™è¯¯æ¦‚ç‡çš„å¯¹æ•°å€¼ã€‚ç”±phredç¨‹åºçš„å¼€å‘è€…å®šä¹‰,ä¸€èˆ¬å¯ä»¥ç§°ä¹‹ä¸ºphred quality,\nå¦‚æœæµ‹åºé”™è¯¯ç‡ç”¨eè¡¨ç¤ºï¼ŒIlluminaæµ‹åºå¹³å°çš„ç¢±åŸºè´¨é‡å€¼ç”¨Qphredè¡¨ç¤ºï¼Œåˆ™æœ‰ä¸‹åˆ—å…³ç³»ï¼š\n$ASCII - 33 = Qphredã€€=ã€€-10log10(e)$\næ­¤å…¬å¼å¯è¯´æ˜ï¼Œquality scoreè¶Šå¤§æµ‹åºé”™è¯¯ç‡(e)è¶Šä½ï¼Œå‡†ç¡®æ€§è¶Šé«˜.\nA quality score (or Q-score) expresses an error probability. In particular, it serves as a convenient and compact way to communicate very small error probabilities.\nGiven an assertion, A, the quality score, Q(A), expresses the probability that A is not true, P(~A), according to the relationship:\nQ(A) =-10 log10(P(~A))\nwhere P(~A) is the estimated probability of an assertion A being wrong.\nhttps://support.illumina.com/help/BaseSpace_OLH_009008/Content/Source/Informatics/BS/QualityScores_swBS.htm\nç¢±åŸºçš„quality scoreæ˜¯æ€ä¹ˆæ¥çš„å‘¢?\nPhredæœ€åˆæ˜¯ä¸€ä¸ªä»æµ‹åºä»ªä¸­äº§ç”Ÿçš„è§å…‰è®°å½•æ•°æ®ä¸­è¯†åˆ«ç¢±åŸºçš„ç¨‹åºã€‚åœ¨æ—©æœŸçš„è§å…‰æŸ“æ–™æµ‹åºä¸­ï¼Œæ¯æ¬¡å‘ç”Ÿç¢±åŸºåˆæˆæ—¶ä¼šé‡Šæ”¾å‡ºè§å…‰ä¿¡å·ï¼Œè¯¥ä¿¡å·è¢«CCDå›¾åƒä¼ æ„Ÿå™¨æ•è·ã€‚è®°å½•ä¸‹è§å…‰ä¿¡å·çš„å³°å€¼ï¼Œç”Ÿæˆä¸€ä¸ªå®æ—¶çš„è½¨è¿¹æ•°æ®ï¼ˆchromatogramï¼‰ã€‚å› ä¸ºä¸åŒçš„ç¢±åŸºç”¨ä¸ç”¨çš„é¢œè‰²æ ‡è®°ï¼Œæ£€æµ‹è¿™äº›å³°å€¼å³å¯åˆ¤æ–­å‡ºå¯¹åº”çš„ç¢±åŸºã€‚ä½†ç”±äºè¿™äº›ä¿¡å·çš„æ³¢å³°ã€å¯†åº¦ã€å½¢çŠ¶å’Œä½ç½®ç­‰æ˜¯ä¸è¿ç»­æˆ–æ¨¡ç³Šçš„ï¼Œæœ‰æ—¶å¾ˆéš¾æ ¹æ®æ³¢å³°åˆ¤æ–­å‡ºæ­£ç¡®çš„ç¢±åŸºã€‚\nPhredè®¡ç®—è®¸å¤šä¸æ³¢å³°å¤§å°å’Œåˆ†è¾¨ç‡ç›¸å…³çš„å‚æ•°ï¼Œæ ¹æ®è¿™äº›å‚æ•°ï¼Œä»ä¸€ä¸ªå·¨å¤§çš„æŸ¥è¯¢è¡¨ä¸­æ‰¾å‡ºç¢±åŸºè´¨é‡å¾—åˆ†ã€‚è¿™ä¸ªæŸ¥è¯¢è¡¨æ˜¯æ ¹æ®å¯¹å·²çŸ¥åºåˆ—çš„æµ‹åºæ•°æ®åˆ†æå¾—åˆ°çš„ï¼ˆåº”è¯¥æ˜¯åˆ†æå¾—åˆ°æ³¢å³°å‚æ•°ä¸ç¢±åŸºé”™è¯¯ç‡çš„å…³ç³»ï¼Œå†é€šè¿‡å…¬å¼æŠŠé”™è¯¯ç‡è½¬æ¢æˆè´¨é‡å¾—åˆ†ï¼Œå¾—åˆ°æ³¢å³°å‚æ•°ä¸è´¨é‡å¾—åˆ†çš„ç›´æ¥å¯¹åº”è¡¨ï¼‰ã€‚ä¸åŒçš„æµ‹åºè¯•å‰‚å’Œæœºå™¨ç”¨ä¸åŒçš„æŸ¥è¯¢è¡¨ã€‚ä¸ºäº†èŠ‚çº¦ç£ç›˜ç©ºé—´ï¼Œè´¨é‡å¾—åˆ†ï¼ˆå¯èƒ½å ç”¨ä¸¤ä¸ªå­—ç¬¦ï¼‰æŒ‰ä¸€å®šè§„åˆ™ï¼ˆPhred+33æˆ–Phred+64ï¼‰è¢«è½¬æ¢ä¸ºå•ä¸ªå­—ç¬¦è¡¨ç¤ºã€‚\nç¢±åŸºé”™è¯¯ç‡å’Œè´¨é‡å¾—åˆ†çš„å…³ç³»ç”±å¦‚ä¸‹ä¸¤ç§:\n$Qphred = -10*log10(p)$\n$Qillumina-prior to v.1.4 = -10log10(p/(1-p))$\nè¯»å–FASTQæ•°æ® é¦–å…ˆå®šä¹‰è¯»å–FASTQæ•°æ®çš„å‡½æ•°.\ndef seq_list_from_fastq_file(filename): ''' this function only get the sequence and quality informaton ''' seq_list = [] quality_list = [] with open(filename) as FASTQ_INPUT: line_cnt = 0 for line in FASTQ_INPUT: line_cnt += 1 if line_cnt == 2: seq_list.append(line.strip()) if line_cnt % 4 == 0: quality_list.append(line.strip()) line_cnt = 0 return seq_list, quality_list  è¯»å–ä¸€ä¸ªå®ä¾‹æ•°æ® ä¸‹å›¾æ˜¯è¯¥æ•°æ®çš„æˆªå›¾.å¯ä»¥çœ‹åˆ°commenté™¤äº†+æ„å¤–,æ²¡æœ‰ä»»ä½•å†…å®¹.\n# FASTQ from ChIP-seq experiment ENCSR784FYS # file accession ENCFF733YBM fastq_filename = 'ENCFF733YBM-trunc.fastq' sequence, quality = seq_list_from_fastq_file(fastq_filename)  å°†è¯»å–åˆ°çš„sequenceå’Œqualityä¿¡æ¯æ‰“å°å‡ºæ¥.\n# string at index 0 of list print('Length of sequence list = ', len(sequence), ',\\tFirst sequence = \\'', \\ sequence[0], '\\'', sep='') print('Length of quality list = ', len(quality), ',\\tFirst quality = \\'', \\ quality[0], '\\'', sep='')  Length of sequence list = 100, First sequence = 'GGCCGCCGCCCGAGTTCTGCGTACGAGAAGAAAGACGCGG' Length of quality list = 100, First quality = '\u0026lt;B/\u0026lt;BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'  å¯ä»¥çœ‹åˆ°è¯¥æ–‡ä»¶ä¸€å…±æœ‰100æ¡readä¿¡æ¯.æ ¹æ®å¯¹ç¢±åŸºè´¨é‡çš„å®šä¹‰,æˆ‘ä»¬å¯ä»¥æŠŠç¬¬ä¸€ä¸ªreadçš„æ¯ä¸ªç¢±åŸºçš„quality scoreæ‰“å°å‡ºæ¥.\n# take apart quality value encoding for x in range(len(sequence[0])): print('{}\\t{}\\t{}\\t{}\\t{}'.format(sequence[0][x], quality[0][x], ord(quality[0][x]) - 33, (ord(quality[0][x]) - 33) * -0.1, pow(10, (ord(quality[0][x]) - 33) * -0.1 )))  G \u0026lt; 27 -2.7 0.001995262314968879 G B 33 -3.3000000000000003 0.000501187233627272 C / 14 -1.4000000000000001 0.03981071705534971 C \u0026lt; 27 -2.7 0.001995262314968879 G B 33 -3.3000000000000003 0.000501187233627272 C F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 T F 37 -3.7 0.00019952623149688788 T F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 T F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 T F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 A F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 C F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788 G F 37 -3.7 0.00019952623149688788  å†çœ‹ä¸€ä¸‹quality scoreçš„è®¡ç®—åŠæ³•.\næ¯ä¸ªç¢±åŸºçš„quality scoreéƒ½æ˜¯ä½¿ç”¨ä¸€ä¸ªASCIIå­—ç¬¦æ¥è¡¨ç¤ºçš„. æ¯”å¦‚ç¬¬ä¸€ä¸ªreadçš„è´¨é‡:\nquality[0] quality[0][0]  '\u0026lt;'  ord(quality[0][0])  60  ç¬¬ä¸€ä¸ªç¢±åŸºçš„quality scoreçš„å­—ç¬¦æ˜¯\u0026lt;,ordå‡½æ•°æ˜¯ç”¨æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦çš„unicode code.æ‰€ä»¥å¯¹äºæŸä¸ªç¢±åŸº,ä»–çš„quality scoreå°±æ˜¯ord(quality) - 33.\nhelp(ord)  Help on built-in function ord in module builtins: ord(c, /) Return the Unicode code point for a one-character string.  print(sequence[0][0])#ç¢±åŸº print(quality[0][0])#ç¢±åŸºè´¨é‡å­—ç¬¦ print(ord(quality[0][0]) - 33)#ç¢±åŸºquality score  G \u0026lt; 60 27  ä¸‹é¢æˆ‘ä»¬ç”¨quality scoreè¿™ä¸ªç¢±åŸºé”™è¯¯çš„æ¦‚ç‡å€¼.\nqs = ord(quality[0][0]) - 33 print(qs) print(qs * -0.1) pow(10, (qs * -0.1 ))  27 -2.7 0.001995262314968879  help(pow)  Help on built-in function pow in module builtins: pow(x, y, z=None, /) Equivalent to x**y (with two arguments) or x**y % z (with three arguments) Some types, such as ints, are able to use a more efficient algorithm when invoked using the three argument form.  å¯ä»¥çœ‹åˆ°è¯¥ç¢±åŸºé”™è¯¯çš„æ¦‚ç‡ä¸º0.001995.ä¹Ÿå°±æ˜¯è¯´,é”™è¯¯æ¦‚ç‡è¶Šå°,quality scoreè¶Šå¤§.\n# a little easier to view with just the unique characters quality_set = set(list(quality[0])) print(quality_set) # add float and scientific notation to output of probability print('char\\tASCII\\tqual\\texponent\\tprob') for x in quality_set: print('{}\\t{}\\t{}\\t{:f}\\t{:e}'.format(x, ord(x), ord(x) - 33, (ord(x) - 33) * -0.1, pow(10, (ord(x) - 33) * -0.1 )))  {'/', 'B', '\u0026lt;', 'F'} char ASCII qual exponent prob / 47 14 -1.400000 3.981072e-02 B 66 33 -3.300000 5.011872e-04 \u0026lt; 60 27 -2.700000 1.995262e-03 F 70 37 -3.700000 1.995262e-04  ä¸Šé¢è¿™æ®µä»£ç å±•ç¤ºäº†å‡ ç§åœ¨ç¬¬ä¸€ä¸ªreadä¸­,å‡ ç§qualityçš„å­—ç¬¦æ‰€ä»£è¡¨çš„ASCII code,ä»¥åŠé”™è¯¯ç‡.\nå®Œæ•´çš„ASCII tabeå¯ä»¥çœ‹è¿™é‡Œ. https://www.cs.cmu.edu/~pattis/15-1XX/common/handouts/ascii.html\næˆ‘ä»¬åœ¨è®¡ç®—ä¸€ä¸ª,å¦‚æœçŸ¥é“é”™è¯¯ç‡,é‚£ä¹ˆå¾—åˆ°çš„å­—ç¬¦åº”è¯¥æ˜¯ä»€ä¹ˆ.\n# more exploring import math as math quality_prob = 1.995262e-04 print('math.log():\\t\\t', math.log(quality_prob, 10) * -10) print('int(math.log()):\\t', int(math.log(quality_prob, 10) * -10)) print('chr(int(math.log())):\\t\\'', chr(int(math.log(quality_prob, 10) * -10)), '\\'', sep='')  math.log(): 37.000000685570285 int(math.log()): 37 chr(int(math.log())): '%'  print('chr(int(math.log()) + 33):\\t\\'', chr(int(math.log(quality_prob, 10) * -10) + 33), '\\'', sep='')  chr(int(math.log()) + 33): 'F'  å¦ä¸€ç§è¯»å–FASTQæ•°æ®çš„æ–¹æ³• ks = ['name', 'sequence', 'optional', 'quality'] def process_lines(lines): ''' process a group of 4 lines from fastq file dividing them into dictionary, with a key for each category ''' record = {} for x in range(len(lines)): record[ks[x]] = lines[x] return record  é¦–å…ˆå®šä¹‰ä¸€ä¸ªè¯»å–æ¯ä¸ªreadçš„å‡½æ•°.\nfastq_dictionary = {} with open(fastq_filename) as FASTQ_INPUT: line_cnt = 0 lines = [] output_lines = 0 for line in FASTQ_INPUT: line_cnt += 1 lines.append(line.rstrip()) if line_cnt % 4 == 0: record_dict = process_lines(lines) line_cnt = 0 lines = [] output_lines += 1 if output_lines \u0026lt; 7: print(record_dict) fastq_dictionary[record_dict['name']] = record_dict  {'name': '@D00611:288:C9C4PANXX:2:2202:1501:2192 1:N:0:0', 'sequence': 'GGCCGCCGCCCGAGTTCTGCGTACGAGAAGAAAGACGCGG', 'optional': '+', 'quality': '\u0026lt;B/\u0026lt;BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'} {'name': '@D00611:288:C9C4PANXX:2:2202:1586:2227 1:N:0:0', 'sequence': 'GCACGCCGACAGCGAGGGAAGGGAGGAGGAGGGAGACGCG', 'optional': '+', 'quality': '\u0026lt;\u0026lt;/\u0026lt;\u0026lt;B/FFFFFFFBFFFBFFFFFFFBFF/FFBFFFFFFF'} {'name': '@D00611:288:C9C4PANXX:2:2202:1699:2242 1:N:0:0', 'sequence': 'CCTTTTTTAGCAATGACCCAAATACTTGTTCAGAAATTAG', 'optional': '+', 'quality': '\u0026lt;B/\u0026lt;BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'} {'name': '@D00611:288:C9C4PANXX:2:2202:1848:2207 1:N:0:0', 'sequence': 'TGGTATTTATAGAGTAAGGAGTTGCCTCTTCTAAGAAGGG', 'optional': '+', 'quality': '\u0026lt;B/\u0026lt;BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'} {'name': '@D00611:288:C9C4PANXX:2:2202:1917:2221 1:N:0:0', 'sequence': 'GATCGGAAGAGCACACGTCTCGTATGCCGTCTTCTGCTTG', 'optional': '+', 'quality': '\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;\u0026lt;F\u0026lt;FB\u0026lt;FFFFFFFF/BFFFFFFFFFFFFFBFFF\u0026lt;'} {'name': '@D00611:288:C9C4PANXX:2:2202:1953:2230 1:N:0:0', 'sequence': 'CTTTCTCCTGTCTCAGGTGACCAAGAATATGGCCCAGGTG', 'optional': '+', 'quality': '\u0026lt;\u0026lt;/\u0026lt;\u0026lt;FBFFFFFFBFFFFFFFFFFFFFFFFFF\u0026lt;FFFFFFF'}  print(len(fastq_dictionary)) print(fastq_dictionary.keys()) fastq_dictionary[list(fastq_dictionary.keys())[0]]  100 dict_keys(['@D00611:288:C9C4PANXX:2:2202:1501:2192 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:1586:2227 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:1699:2242 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:1848:2207 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:1917:2221 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:1953:2230 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:1787:2250 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:2095:2230 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:2296:2185 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:2372:2192 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:3089:2192 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:3235:2205 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:3006:2209 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:3276:2220 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:3530:2181 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:3628:2193 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:3614:2206 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4033:2192 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4186:2218 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4130:2219 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4201:2236 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4065:2240 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4081:2245 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4331:2209 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4628:2230 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4570:2244 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:4768:2186 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:5165:2217 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:5406:2197 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:5733:2194 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:5618:2239 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:5995:2220 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:6095:2222 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:6170:2241 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:6261:2196 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:6395:2231 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:6642:2202 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:6547:2249 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:6870:2238 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:7035:2220 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:7395:2192 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:7336:2215 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:7473:2235 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:8050:2179 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:8239:2188 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:8005:2191 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:8139:2200 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:8096:2216 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:8459:2200 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:8364:2206 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:8265:2216 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:8519:2237 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:8635:2239 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:9166:2216 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:9103:2220 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:9364:2224 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:9707:2181 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:9748:2215 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:9558:2248 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:10105:2194 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:10298:2193 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:10376:2209 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:10728:2245 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:10624:2249 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:10894:2186 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:10857:2226 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:10756:2250 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:11123:2222 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:11406:2198 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:11675:2186 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:11873:2196 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:11829:2239 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:12090:2181 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:12190:2185 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:12449:2216 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:12301:2219 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:12319:2234 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:12354:2246 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:12965:2208 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:12947:2215 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:12928:2221 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13024:2177 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:13052:2183 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13113:2202 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13163:2212 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13415:2203 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13560:2193 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13577:2214 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13701:2226 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13561:2228 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13571:2246 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13942:2178 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:13948:2195 1:Y:0:0', '@D00611:288:C9C4PANXX:2:2202:13885:2220 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13796:2224 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:13837:2236 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:14097:2186 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:14026:2199 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:14242:2220 1:N:0:0', '@D00611:288:C9C4PANXX:2:2202:14052:2226 1:N:0:0']) {'name': '@D00611:288:C9C4PANXX:2:2202:1501:2192 1:N:0:0', 'sequence': 'GGCCGCCGCCCGAGTTCTGCGTACGAGAAGAAAGACGCGG', 'optional': '+', 'quality': '\u0026lt;B/\u0026lt;BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'}  è¿™æ®µä»£ç ,å°†FASTQæ–‡ä»¶è¯»æˆä¸€ä¸ªdictä¸­,æ¯ä¸ªreadåˆæ˜¯å…¶ä¸­ä¸€ä¸ªdict.ç„¶åæœ‰å››ä¸ªkey.\nBED file formatæ•°æ® This format is used to provide called peaks of signal enrichment based on pooled, normalized (interpreted) data. It is a BED6+4 format.\n chrom - Name of the chromosome (or contig, scaffold, etc.). chromStart - The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0. chromEnd - The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99. name - Name given to a region (preferably unique). Use \u0026ldquo;.\u0026rdquo; if no name is assigned. score - Indicates how dark the peak will be displayed in the browser (0-1000). If all scores were \u0026ldquo;\u0026lsquo;0\u0026rdquo;\u0026rsquo; when the data were submitted to the DCC, the DCC assigned scores 1-1000 based on signal value. Ideally the average signalValue per base spread is between 100-1000. strand - +/- to denote strand or orientation (whenever applicable). Use \u0026ldquo;.\u0026rdquo; if no orientation is assigned. signalValue - Measurement of overall (usually, average) enrichment for the region. pValue - Measurement of statistical significance (-log10). Use -1 if no pValue is assigned. qValue - Measurement of statistical significance using false discovery rate (-log10). Use -1 if no qValue is assigned. peak - Point-source called for this peak; 0-based offset from chromStart. Use -1 if no point-source called.  column headings æ¯ä¸ªåˆ—ä»£è¡¨çš„å«ä¹‰å¦‚ä¸‹:\n   Column Meaning     0 CHROM   1 CHROMSTART   2 CHROMEND   3 NAME   4 SCORE   5 STRAND   6 SIGNALVALUE   7 PVALUE   8 QVALUE   9 PEAK    ä¸‹é¢æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªBEDæ–‡ä»¶.\n# module for handling gzip formatted files. import gzip RBFOX2_HepG2_filename = 'ENCFF014SMJ_RBFOX2_HepG2_ChIP-seq-chr21.bed.gz'  # What is the minimum and maximum signal values for this file max_value = 0.0 min_value = 1.0e6 print(max_value) print(min_value)  0.0 1000000.0  file = gzip.open(RBFOX2_HepG2_filename, 'rt')  print(file) print(type(file))  \u0026lt;_io.TextIOWrapper name='ENCFF014SMJ_RBFOX2_HepG2_ChIP-seq-chr21.bed.gz' encoding='cp936'\u0026gt; \u0026lt;class '_io.TextIOWrapper'\u0026gt;  # for line in file: # ols = line.rstrip('\\n').split('\\t') # print(ols) for idx in range(0, len(file), 5): line = file[idx] ols = line.rstrip('\\n').split('\\t') print(ols)  --------------------------------------------------------------------------- TypeError Traceback (most recent call last) \u0026lt;ipython-input-92-8900d0cb8c79\u0026gt; in \u0026lt;module\u0026gt; 3 # print(ols) 4 ----\u0026gt; 5 for idx in range(0, len(file), 5): 6 line = file[idx] 7 ols = line.rstrip('\\n').split('\\t') TypeError: object of type '_io.TextIOWrapper' has no len()  # with gzip.open(RBFOX2_HepG2_filename, 'rt') as BED_FILE: # for line in BED_FILE: # cols = line.rstrip('\\n').split('\\t') # if float(cols[SIGNALVALUE]) \u0026gt; max_value: # max_value = float(cols[SIGNALVALUE]) # if float(cols[SIGNALVALUE]) \u0026lt; min_value: # min_value = float(cols[SIGNALVALUE]) # print('min =', min_value, 'max =', max_value) with gzip.open(RBFOX2_HepG2_filename, 'rt') as BED_FILE: for line in BED_FILE: cols = line.rstrip('\\n').split('\\t') if float(cols[6]) \u0026gt; max_value: max_value = float(cols[6]) if float(cols[6]) \u0026lt; min_value: min_value = float(cols[6]) print('min =', min_value, 'max =', max_value)  min = 2.00053908793031 max = 231.272535106579  os.getcwd()  'D:\\\\my github\\\\shen\\\\content\\\\en\\\\post\\\\2019-12-02-python-for-genomics-class_day05'  os.listdir()  ['.ipynb_checkpoints', 'ENCFF014SMJ_RBFOX2_HepG2_ChIP-seq-chr21.bed.gz', 'ENCFF733YBM-trunc.fastq', 'fastq.png', 'featured.png', 'index.ipynb']   ","date":1575331200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1575331200,"objectID":"4b860bc486e698b29ff80680dc950148","permalink":"/post/2019-12-02-python-for-genomics-class_day05/","publishdate":"2019-12-03T00:00:00Z","relpermalink":"/post/2019-12-02-python-for-genomics-class_day05/","section":"post","summary":"Learn how to blog in Academic using Jupyter notebooks","tags":[],"title":"Python for genomics day 05","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 CSVæ–‡ä»¶\r1.1 ä½¿ç”¨pythonåŸºç¡€è¯­æ³•\r\r\r\rå¯¹pythonçš„æ•°æ®å¯¼å…¥å’Œè¾“å‡ºè¿›è¡Œæ€»ç»“.\n1 CSVæ–‡ä»¶\r1.1 ä½¿ç”¨pythonåŸºç¡€è¯­æ³•\rpythonå†…ç½®å‡½æ•°open()å¯ä»¥ç”¨æ¥æ‰“å¼€csvæ–‡ä»¶å¹¶è¿›è¡Œå¤„ç†.\nimport os as os\ros.getcwd()\r## \u0026#39;D:\\\\my github\\\\shen\\\\content\\\\en\\\\post\\\\2019-12-01-python-data-import-output\u0026#39;\r\r\r","date":1575158400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1575158400,"objectID":"fd53a1a003572e42fea5364e91135da4","permalink":"/post/2019-12-01-python-data-import-output/","publishdate":"2019-12-01T00:00:00Z","relpermalink":"/post/2019-12-01-python-data-import-output/","section":"post","summary":"1 CSVæ–‡ä»¶ 1.1 ä½¿ç”¨pythonåŸºç¡€è¯­æ³• å¯¹pythonçš„æ•°æ®å¯¼å…¥å’Œè¾“å‡ºè¿›è¡Œæ€»ç»“. 1 CSVæ–‡ä»¶ 1.1 ä½¿ç”¨pythonåŸºç¡€è¯­æ³• pythonå†…ç½®å‡½æ•°op","tags":["Blog","Chinese"],"title":"Pythonæ•°æ®çš„å¯¼å…¥å’Œè¾“å‡ºæ€»ç»“","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 dplython\r1.1 å®‰è£…\r1.2 ç®€å•ä»‹ç»\r\r2 dfply\r2.1 å®‰è£…\r2.2 å‡½æ•°æ¦‚è§ˆ\r2.2.1 \u0026gt;\u0026gt;å’Œ\u0026gt;\u0026gt;=ç®¡é“æ“ä½œç¬¦\r2.2.2 æ•°æ®æ¡†æ ‡å¿—X\r2.2.3 é€‰æ‹©æŸåˆ—æˆ–è€…åˆ é™¤æŸåˆ—(selecting and dropping)\r2.2.4 å¯¹åˆ—è¿›è¡Œç­›é€‰\r2.2.5 æ•°æ®æ¡†è½¬å˜\r2.2.6 åˆ†ç»„(grouping)\r2.2.7 é‡å¡‘æ•°æ®æ¡†(reshaping)\r2.2.8 åˆå¹¶(joining)\r\r\r\r\r1 dplython\rdplythonæ˜¯pythonå€Ÿé‰´Rä¸­dplyråŒ…å¼€å‘çš„,ç”¨äºæ•°æ®tidyçš„åŒ….åŸºæœ¬è¯­æ³•è·ŸRéå¸¸åƒ,è€Œä¸”è¿˜æ”¯æŒç®¡é“å‡½æ•°(æ“ä½œç¬¦\u0026gt;\u0026gt;).å¯¹äºæˆ‘è¿™ç§ä»Rè½¬pythonçš„äººæ¥è¯´,ç”¨èµ·æ¥ä¼šæ›´åŠ ç†Ÿæ‚‰å’Œæ–¹ä¾¿.\nå®˜ç½‘åœ¨è¿™.\nhttps://pythonhosted.org/dplython/\n1.1 å®‰è£…\rpip install dplython\rä¹Ÿå¯ä»¥ä»githubä¸Šå®‰è£…æœ€æ–°å¼€å‘ç‰ˆæœ¬.\npip install git+https://github.com/dodger487/dplython.git\r\r1.2 ç®€å•ä»‹ç»\råŠ è½½æ‰€éœ€è¦çš„åŒ….\nimport pandas as pd\rimport numpy as np\rimport dplython as dply\rfrom dplython import (DplyFrame, X, diamonds, select, sift,\rsample_n, sample_frac, head, arrange, mutate, group_by,\rsummarize, DelayFunction)\ræ”¯æŒç®¡é“ç¬¦æ“ä½œ,ä½†æ˜¯å¦‚æœè¦å°†æ¯ä¸€ä¸ªæ“ä½œå†™ä½œä¸€è¡Œ,éœ€è¦ä½¿ç”¨å°æ‹¬å·å°†å…¶æ‹¬èµ·æ¥.\ndiamonds \u0026gt;\u0026gt; head\r## Unnamed: 0 carat cut color clarity ... table price x y z\r## 0 1 0.23 Ideal E SI2 ... 55.0 326 3.95 3.98 2.43\r## 1 2 0.21 Premium E SI1 ... 61.0 326 3.89 3.84 2.31\r## 2 3 0.23 Good E VS1 ... 65.0 327 4.05 4.07 2.31\r## 3 4 0.29 Premium I VS2 ... 58.0 334 4.20 4.23 2.63\r## 4 5 0.31 Good J SI2 ... 58.0 335 4.34 4.35 2.75\r## ## [5 rows x 11 columns]\r(\rdiamonds \u0026gt;\u0026gt;\rhead(5)\r)\r## Unnamed: 0 carat cut color clarity ... table price x y z\r## 0 1 0.23 Ideal E SI2 ... 55.0 326 3.95 3.98 2.43\r## 1 2 0.21 Premium E SI1 ... 61.0 326 3.89 3.84 2.31\r## 2 3 0.23 Good E VS1 ... 65.0 327 4.05 4.07 2.31\r## 3 4 0.29 Premium I VS2 ... 58.0 334 4.20 4.23 2.63\r## 4 5 0.31 Good J SI2 ... 58.0 335 4.34 4.35 2.75\r## ## [5 rows x 11 columns]\rå†dplyrä¸­,è¿›è¡Œè¡Œç­›é€‰çš„å‡½æ•°ä¸ºfilter(),ä½†æ˜¯åœ¨dplythonä¸­,å‡½æ•°åä¸ºsift(),æš‚æ—¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦æ”¹å,çŒœæƒ³å¯èƒ½æ˜¯ç”±äºå’Œpythonè‡ªå¸¦å‡½æ•°å†²çª.\nåˆ—åä¸èƒ½ç›´æ¥å¼•ç”¨,éœ€è¦ä½¿ç”¨dplythonä¸­çš„Xæ¥å¼•ç”¨.\n\rX.foo will refer to the â€œfooâ€ column of the DataFrame in which it is later applied.\n\r(\rdiamonds \u0026gt;\u0026gt; sift(X.carat \u0026gt; 4) \u0026gt;\u0026gt; select(X.carat, X.cut, X.depth, X.price)\r)\r## carat cut depth price\r## 25998 4.01 Premium 61.0 15223\r## 25999 4.01 Premium 62.5 15223\r## 27130 4.13 Fair 64.8 17329\r## 27415 5.01 Fair 65.5 18018\r## 27630 4.50 Fair 65.8 18531\r(diamonds \u0026gt;\u0026gt;\rsample_n(10) \u0026gt;\u0026gt;\rarrange(X.carat) \u0026gt;\u0026gt;\rselect(X.carat, X.cut, X.depth, X.price))\r\r## carat cut depth price\r## 34904 0.34 Premium 59.2 880\r## 41186 0.39 Ideal 61.6 1201\r## 40502 0.43 Very Good 60.7 1143\r## 52362 0.54 Ideal 61.1 2502\r## 53392 0.77 Good 63.8 2665\r## 6651 0.90 Premium 62.7 4092\r## 6643 0.90 Ideal 62.7 4091\r## 5532 0.92 Very Good 62.1 3854\r## 9229 1.02 Premium 61.9 4558\r## 27546 2.05 Premium 61.8 18318\r(diamonds \u0026gt;\u0026gt;\rmutate(carat_bin=X.carat.round()) \u0026gt;\u0026gt;\rgroup_by(X.cut, X.carat_bin) \u0026gt;\u0026gt;\rsummarize(avg_price=X.price.mean()))\r## cut carat_bin avg_price\r## 0 Fair 0.0 1027.979275\r## 1 Fair 1.0 3305.754579\r## 2 Fair 2.0 9588.269737\r## 3 Fair 3.0 13466.823529\r## 4 Fair 4.0 15842.666667\r## 5 Fair 5.0 18018.000000\r## 6 Good 0.0 786.054191\r## 7 Good 1.0 3815.307879\r## 8 Good 2.0 11096.950321\r## 9 Good 3.0 15924.176471\r## 10 Ideal 0.0 863.908535\r## 11 Ideal 1.0 4213.864948\r## 12 Ideal 2.0 12838.984078\r## 13 Ideal 3.0 16156.681818\r## 14 Ideal 4.0 12587.000000\r## 15 Premium 0.0 863.329085\r## 16 Premium 1.0 4382.906453\r## 17 Premium 2.0 12337.020064\r## 18 Premium 3.0 15636.047619\r## 19 Premium 4.0 16335.000000\r## 20 Very Good 0.0 766.354590\r## 21 Very Good 1.0 4135.271007\r## 22 Very Good 2.0 12281.851661\r## 23 Very Good 3.0 15053.555556\r## 24 Very Good 4.0 15984.000000\réœ€è¦æ³¨æ„çš„æ˜¯,ä½¿ç”¨ç®¡é“å‡½æ•°,ç¬¬ä¸€è¡Œä¸ºè¦å¤„ç†çš„æ•°æ®,ç¬¬äºŒè¡Œå¼€å§‹,éƒ½è¦ç¼©è¿›.\nä½†æ˜¯ä½œè€…å·²ç»3å¹´æ²¡æœ‰ç»´æŠ¤è¿™ä¸ªåŒ…äº†,æ‰€ä»¥æ„Ÿè§‰æœ‰ç‚¹æ‚¬,æœ‰å¯èƒ½åºŸæ‰äº†,æ‰€ä»¥è¿˜æ˜¯åˆ«ç”¨äº†.\n\r\r2 dfply\rå¦å¤–ä¸€ä¸ªå°†dplyrç§»æ¤åˆ°pythonçš„åŒ…æ˜¯dfply,å¯èƒ½æ›´åŠ å¯é ä¸€äº›.\nå®˜ç½‘å¦‚ä¸‹:\nhttps://github.com/kieferk/dfply#the--and--pipe-operators\nhttps://github.com/kieferk/dfply\n2.1 å®‰è£…\rpip install dfply\r\r2.2 å‡½æ•°æ¦‚è§ˆ\r2.2.1 \u0026gt;\u0026gt;å’Œ\u0026gt;\u0026gt;=ç®¡é“æ“ä½œç¬¦\råœ¨Rä¸­,ç®¡é“æ“ä½œç¬¦ä¸º%\u0026gt;%,åœ¨pythonä¸­,æ”¹ä¸º\u0026gt;\u0026gt;.\nfrom dfply import *\rdiamonds \u0026gt;\u0026gt; head(5)\r## carat cut color clarity depth table price x y z\r## 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31\r## 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31\r## 3 0.29 Premium I VS2 62.4 58.0 334 4.20 4.23 2.63\r## 4 0.31 Good J SI2 63.3 58.0 335 4.34 4.35 2.75\r(\rdiamonds \u0026gt;\u0026gt;\rhead(5)\r)\r## carat cut color clarity depth table price x y z\r## 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31\r## 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31\r## 3 0.29 Premium I VS2 62.4 58.0 334 4.20 4.23 2.63\r## 4 0.31 Good J SI2 63.3 58.0 335 4.34 4.35 2.75\råŒæ ·çš„,å¦‚æœæ¯ä¸€ä¸ªæ“ä½œéƒ½å¼€å§‹æ–°çš„ä¸€è¡Œçš„è¯,éœ€è¦ä½¿ç”¨å°æ‹¬å·å°†ä»–ä»¬æ‹¬èµ·æ¥.\nå°†å¤„ç†ä¹‹åçš„æ•°æ®æ¡†èµ‹äºˆä¸€ä¸ªæ–°çš„å˜é‡åçš„æ—¶å€™,éœ€è¦æ³¨æ„å˜é‡åç­‰å·å’Œå°æ‹¬å·çš„å·¦åŠéƒ¨åˆ†éœ€è¦åœ¨åŒä¸€è¡Œ.\nnew = (\rdiamonds \u0026gt;\u0026gt;\rtail(5)\r)\rnew\r## carat cut color clarity depth table price x y z\r## 53935 0.72 Ideal D SI1 60.8 57.0 2757 5.75 5.76 3.50\r## 53936 0.72 Good D SI1 63.1 55.0 2757 5.69 5.75 3.61\r## 53937 0.70 Very Good D SI1 62.8 60.0 2757 5.66 5.68 3.56\r## 53938 0.86 Premium H SI2 61.0 58.0 2757 6.15 6.12 3.74\r## 53939 0.75 Ideal D SI2 62.2 55.0 2757 5.83 5.87 3.64\rå¦å¤–ä¸€ä¸ªç®¡é“æ“ä½œç¬¦\u0026gt;\u0026gt;=æ„å‘³ç€å¯¹åŸå§‹æ•°æ®ç›´æ¥è¿›è¡Œä¿®æ”¹åä»˜ç»™è¿™ä¸ªå˜é‡.\ndiamonds2 = diamonds.copy()\rdiamonds2 \u0026gt;\u0026gt; head(5)\r## carat cut color clarity depth table price x y z\r## 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31\r## 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31\r## 3 0.29 Premium I VS2 62.4 58.0 334 4.20 4.23 2.63\r## 4 0.31 Good J SI2 63.3 58.0 335 4.34 4.35 2.75\rdiamonds2 \u0026gt;\u0026gt;= head(5)\rdiamonds2\r## carat cut color clarity depth table price x y z\r## 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31\r## 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31\r## 3 0.29 Premium I VS2 62.4 58.0 334 4.20 4.23 2.63\r## 4 0.31 Good J SI2 63.3 58.0 335 4.34 4.35 2.75\rdiamonds \u0026gt;\u0026gt; head(10)\r## carat cut color clarity depth table price x y z\r## 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31\r## 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31\r## 3 0.29 Premium I VS2 62.4 58.0 334 4.20 4.23 2.63\r## 4 0.31 Good J SI2 63.3 58.0 335 4.34 4.35 2.75\r## 5 0.24 Very Good J VVS2 62.8 57.0 336 3.94 3.96 2.48\r## 6 0.24 Very Good I VVS1 62.3 57.0 336 3.95 3.98 2.47\r## 7 0.26 Very Good H SI1 61.9 55.0 337 4.07 4.11 2.53\r## 8 0.22 Fair E VS2 65.1 61.0 337 3.87 3.78 2.49\r## 9 0.23 Very Good H VS1 59.4 61.0 338 4.00 4.05 2.39\r\r2.2.2 æ•°æ®æ¡†æ ‡å¿—X\råœ¨ç®¡é“æ“ä½œç¬¦ä¸­,å°†æ•°æ®æ¡†ä¼ åˆ°åé¢çš„å‡½æ•°ä¸­,éœ€è¦ä½¿ç”¨Xæ ‡å¿—æ¥ä»£è¡¨.åœ¨Rä¸­,æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°æ®æ¡†çš„åˆ—åæ¥å¼•ç”¨æ¯ä¸€åˆ—,åœ¨pythonä¸­,éœ€è¦ä½¿ç”¨Xæ¥è¡¨ç¤º.\ndiamonds \u0026gt;\u0026gt; select(X.carat, X.cut) \u0026gt;\u0026gt; head(5)\r## carat cut\r## 0 0.23 Ideal\r## 1 0.21 Premium\r## 2 0.23 Good\r## 3 0.29 Premium\r## 4 0.31 Good\r\r2.2.3 é€‰æ‹©æŸåˆ—æˆ–è€…åˆ é™¤æŸåˆ—(selecting and dropping)\råœ¨Rä¸­,ä½¿ç”¨selectå‡½æ•°å¯ä»¥å®Œæˆé€‰æ‹©å’Œåˆ é™¤,åœ¨åˆ é™¤æŸåˆ—æ—¶,ç›´æ¥åœ¨å‰é¢åŠ ä¸Šå‡å·å°±å¯ä»¥äº†.ä½†æ˜¯åœ¨pythonä¸­,selectä¹Ÿå¯ä»¥å®Œæˆåˆ é™¤åˆ—,åªæ˜¯å‡å·æ”¹ä¸º~.ä½†æ˜¯å¯¹äºåˆ é™¤åˆ—,è¿˜æœ‰ä¸€ä¸ªä¸“é—¨çš„å‡½æ•°,drop().\né€‰æ‹©åˆ—çš„æ—¶å€™,æ—¢å¯ä»¥ä½¿ç”¨åˆ—çš„index,ä¹Ÿå¯ä»¥ä½¿ç”¨Xç¬¦åˆä»¥åŠå¼•å·æ‹¬èµ·æ¥çš„åˆ—åè¿›è¡Œé€‰æ‹©.å¯æƒœçš„æ˜¯,æš‚æ—¶çœ‹åˆ°æ˜¯ä¸æ”¯æŒåˆ‡ç‰‡çš„.\n(\rdiamonds \u0026gt;\u0026gt; select(0, X.price, \u0026quot;x\u0026quot;, [\u0026#39;y\u0026#39;, \u0026#39;z\u0026#39;]) \u0026gt;\u0026gt;\rhead(5)\r)\r\r## carat price x y z\r## 0 0.23 326 3.95 3.98 2.43\r## 1 0.21 326 3.89 3.84 2.31\r## 2 0.23 327 4.05 4.07 2.31\r## 3 0.29 334 4.20 4.23 2.63\r## 4 0.31 335 4.34 4.35 2.75\r(\rdiamonds \u0026gt;\u0026gt;\rselect([\u0026#39;carat\u0026#39;,\u0026#39;price\u0026#39;]) \u0026gt;\u0026gt;\rhead(5)\r)\r## carat price\r## 0 0.23 326\r## 1 0.21 326\r## 2 0.23 327\r## 3 0.29 334\r## 4 0.31 335\r(\rdiamonds \u0026gt;\u0026gt;\rdrop(1, X.price, [\u0026#39;x\u0026#39;, \u0026#39;y\u0026#39;]) \u0026gt;\u0026gt;\rhead()\r)\r## carat color clarity depth table z\r## 0 0.23 E SI2 61.5 55.0 2.43\r## 1 0.21 E SI1 59.8 61.0 2.31\r## 2 0.23 E VS1 56.9 65.0 2.31\r## 3 0.29 I VS2 62.4 58.0 2.63\r## 4 0.31 J SI2 63.3 58.0 2.75\r(\rdiamonds \u0026gt;\u0026gt;\rselect(~0, ~X.price) \u0026gt;\u0026gt;\rhead(5)\r)\r## z\r## 0 2.43\r## 1 2.31\r## 2 2.31\r## 3 2.63\r## 4 2.75\r2.2.3.1 Selection filterå‡½æ•°\rå’Œdplyrç±»ä¼¼,ä¹Ÿæœ‰å¾ˆå¤šé…åˆä½¿ç”¨çš„å‡½æ•°.\n\r\r\r\rFunction\rMeaning\r\r\r\rstarts_with(prefix)\rfind columns that start with a string prefix.\r\rends_with(suffix)\rfind columns that end with a string suffix.\r\rcontains(substr)\rfind columns that contain a substring in their name.\r\reverything()\rall columns.\r\rcolumns_between(start_col, end_col, inclusive=True)\rfind columns between a specified start and end column. The inclusive boolean keyword argument indicates whether the end column should be included or not.\r\rcolumns_to(end_col, inclusive=True)\rget columns up to a specified end column. The inclusive argument indicates whether the ending column should be included or not.\r\rcolumns_from(start_col)\rget the columns starting at a specified column.\r\r\r\rå› ä¸ºdfplyå¹¶ä¸æ”¯æŒåˆ‡ç‰‡,æ‰€ä»¥å¯ä»¥çœ‹åˆ°,åˆ†åˆ«æä¾›äº†ä¸‰ä¸ªå‡½æ•°ç”¨æ¥ä»£æ›¿åˆ‡ç‰‡çš„åŠŸèƒ½.\n(\rdiamonds \u0026gt;\u0026gt;\rselect(columns_between(\u0026quot;carat\u0026quot;, \u0026quot;color\u0026quot;)) \u0026gt;\u0026gt;\rhead(5)\r)\r## carat cut color\r## 0 0.23 Ideal E\r## 1 0.21 Premium E\r## 2 0.23 Good E\r## 3 0.29 Premium I\r## 4 0.31 Good J\r(\rdiamonds \u0026gt;\u0026gt;\rselect(columns_to(\u0026quot;color\u0026quot;)) \u0026gt;\u0026gt;\rhead(5)\r)\r## carat cut\r## 0 0.23 Ideal\r## 1 0.21 Premium\r## 2 0.23 Good\r## 3 0.29 Premium\r## 4 0.31 Good\r(\rdiamonds \u0026gt;\u0026gt;\rselect(columns_from(\u0026quot;color\u0026quot;)) \u0026gt;\u0026gt;\rhead(5)\r)\r## color clarity depth table price x y z\r## 0 E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 1 E SI1 59.8 61.0 326 3.89 3.84 2.31\r## 2 E VS1 56.9 65.0 327 4.05 4.07 2.31\r## 3 I VS2 62.4 58.0 334 4.20 4.23 2.63\r## 4 J SI2 63.3 58.0 335 4.34 4.35 2.75\rdiamonds \u0026gt;\u0026gt; select(columns_to(1, inclusive=True), \u0026#39;depth\u0026#39;, columns_from(-2)) \u0026gt;\u0026gt; head(2)\r## carat cut depth y z\r## 0 0.23 Ideal 61.5 3.98 2.43\r## 1 0.21 Premium 59.8 3.84 2.31\r\r\r2.2.4 å¯¹åˆ—è¿›è¡Œç­›é€‰\r2.2.4.1 row_slice()\rä¸pandasçš„ilocæ–¹æ³•ç±»ä¼¼,ä½¿ç”¨indexå¯¹åˆ—ç­›é€‰.\né—®é¢˜æ˜¯,ä»ç„¶ä¸æ”¯æŒåˆ‡ç‰‡.ä½†æ˜¯å¯ä»¥å’Œgroup_byè”åˆä½¿ç”¨,ä»è€Œé€‰å‡ºæ¯ä¸€ç»„çš„å›ºå®šè¡Œ.\ndiamonds \u0026gt;\u0026gt; row_slice([10,15])\r## carat cut color clarity depth table price x y z\r## 10 0.30 Good J SI1 64.0 55.0 339 4.25 4.28 2.73\r## 15 0.32 Premium E I1 60.9 58.0 345 4.38 4.42 2.68\rdiamonds \u0026gt;\u0026gt; group_by(\u0026#39;cut\u0026#39;) \u0026gt;\u0026gt; row_slice(5)\r## carat cut color clarity depth table price x y z\r## 128 0.91 Fair H SI2 64.4 57.0 2763 6.11 6.09 3.93\r## 20 0.30 Good I SI2 63.3 56.0 351 4.26 4.30 2.71\r## 40 0.33 Ideal I SI2 61.2 56.0 403 4.49 4.50 2.75\r## 26 0.24 Premium I VS1 62.5 57.0 355 3.97 3.94 2.47\r## 21 0.23 Very Good E VS2 63.8 55.0 352 3.85 3.92 2.48\r\r2.2.4.2 sample()å‡½æ•°\rå’Œpandasçš„.sample()æ–¹æ³•ç±»ä¼¼,å¯ä»¥ç”¨äºéšæœºæŠ½å–åˆ—.\ndiamonds \u0026gt;\u0026gt; sample(frac=0.0001, replace=False)\r## carat cut color clarity depth table price x y z\r## 35971 0.40 Premium F SI1 61.7 62.0 920 4.76 4.71 2.92\r## 12741 1.01 Ideal H VS2 60.6 57.0 5317 6.54 6.49 3.95\r## 23321 1.03 Ideal F IF 61.3 56.0 11365 6.53 6.55 4.01\r## 37784 0.53 Very Good G SI2 62.5 55.0 1000 5.14 5.19 3.23\r## 8715 0.37 Ideal G SI1 62.0 55.0 586 4.62 4.64 2.87\rdiamonds \u0026gt;\u0026gt; sample(n=3, replace=True)\r## carat cut color clarity depth table price x y z\r## 4188 0.83 Ideal F SI1 62.2 55.0 3560 6.01 6.03 3.74\r## 19620 1.26 Ideal H VS1 60.9 57.0 8238 6.97 6.99 4.25\r## 43303 0.61 Very Good I VS2 63.4 55.0 1401 5.46 5.42 3.45\r\r2.2.4.3 distinct()å‡½æ•°\råªä¿ç•™å”¯ä¸€ä¸é‡å¤çš„è¡Œ.ä¼ å…¥çš„å‚æ•°ä¸ºåˆ—å,å¯ä»¥æ˜¯å¤šä¸ªåˆ—.ä¸pandasçš„.drop_duolicates()æ–¹æ³•ç±»ä¼¼.\ndiamonds \u0026gt;\u0026gt; distinct(X.color, X.price) \u0026gt;\u0026gt; head(5)\r## carat cut color clarity depth table price x y z\r## 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 2 0.23 Good E VS1 56.9 65.0 327 4.05 4.07 2.31\r## 3 0.29 Premium I VS2 62.4 58.0 334 4.20 4.23 2.63\r## 4 0.31 Good J SI2 63.3 58.0 335 4.34 4.35 2.75\r## 5 0.24 Very Good J VVS2 62.8 57.0 336 3.94 3.96 2.48\r\r2.2.4.4 mask()å’Œfilter_by()å‡½æ•°\rç±»ä¼¼äºdplyrä¸­çš„filter()å‡½æ•°.è¿™ä¸¤ä¸ªå‡½æ•°æ˜¯ç­‰ä»·çš„.\ndiamonds \u0026gt;\u0026gt; mask(X.cut == \u0026#39;Ideal\u0026#39;) \u0026gt;\u0026gt; head(4)\r## carat cut color clarity depth table price x y z\r## 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 11 0.23 Ideal J VS1 62.8 56.0 340 3.93 3.90 2.46\r## 13 0.31 Ideal J SI2 62.2 54.0 344 4.35 4.37 2.71\r## 16 0.30 Ideal I SI2 62.0 54.0 348 4.31 4.34 2.68\rdiamonds \u0026gt;\u0026gt; mask(X.cut == \u0026#39;Ideal\u0026#39;, X.color == \u0026#39;E\u0026#39;, X.table \u0026lt; 55, X.price \u0026lt; 500)\r## carat cut color clarity depth table price x y z\r## 26683 0.33 Ideal E SI2 62.2 54.0 427 4.44 4.46 2.77\r## 32297 0.34 Ideal E SI2 62.4 54.0 454 4.49 4.52 2.81\r## 40928 0.30 Ideal E SI1 61.6 54.0 499 4.32 4.35 2.67\r## 50623 0.30 Ideal E SI2 62.1 54.0 401 4.32 4.35 2.69\r## 50625 0.30 Ideal E SI2 62.0 54.0 401 4.33 4.35 2.69\rdiamonds \u0026gt;\u0026gt; filter_by(X.cut == \u0026#39;Ideal\u0026#39;, X.color == \u0026#39;E\u0026#39;, X.table \u0026lt; 55, X.price \u0026lt; 500)\r## carat cut color clarity depth table price x y z\r## 26683 0.33 Ideal E SI2 62.2 54.0 427 4.44 4.46 2.77\r## 32297 0.34 Ideal E SI2 62.4 54.0 454 4.49 4.52 2.81\r## 40928 0.30 Ideal E SI1 61.6 54.0 499 4.32 4.35 2.67\r## 50623 0.30 Ideal E SI2 62.1 54.0 401 4.32 4.35 2.69\r## 50625 0.30 Ideal E SI2 62.0 54.0 401 4.33 4.35 2.69\r\r2.2.4.5 pull()å‡½æ•°\rä¸dplyrä¸­å‡½æ•°åŒåä¸”åŠŸèƒ½ç›¸åŒ.\n(diamonds\r\u0026gt;\u0026gt; filter_by(X.cut == \u0026#39;Ideal\u0026#39;, X.color == \u0026#39;E\u0026#39;, X.table \u0026lt; 55, X.price \u0026lt; 500)\r\u0026gt;\u0026gt; pull(\u0026#39;carat\u0026#39;))\r## 26683 0.33\r## 32297 0.34\r## 40928 0.30\r## 50623 0.30\r## 50625 0.30\r## Name: carat, dtype: float64\r## ## D:\\software\\python\\lib\\site-packages\\dfply\\subset.py:87: DeprecationWarning: ## .ix is deprecated. Please use\r## .loc for label based indexing or\r## .iloc for positional indexing\r## ## See the documentation here:\r## http://pandas.pydata.org/pandas-docs/stable/indexing.html#ix-indexer-is-deprecated\r## return df.ix[:, column]\r\r\r2.2.5 æ•°æ®æ¡†è½¬å˜\r2.2.5.1 mutate()å‡½æ•°\ræ·»åŠ æ–°çš„å˜é‡(åˆ—)\ndiamonds \u0026gt;\u0026gt; mutate(x_plus_y=X.x + X.y) \u0026gt;\u0026gt; select(columns_from(\u0026#39;x\u0026#39;)) \u0026gt;\u0026gt; head(3)\r## x y z x_plus_y\r## 0 3.95 3.98 2.43 7.93\r## 1 3.89 3.84 2.31 7.73\r## 2 4.05 4.07 2.31 8.12\rdiamonds \u0026gt;\u0026gt; mutate(x_plus_y=X.x + X.y, y_div_z=(X.y / X.z)) \u0026gt;\u0026gt; select(columns_from(\u0026#39;x\u0026#39;)) \u0026gt;\u0026gt; head(3)\r## x y z x_plus_y y_div_z\r## 0 3.95 3.98 2.43 7.93 1.637860\r## 1 3.89 3.84 2.31 7.73 1.662338\r## 2 4.05 4.07 2.31 8.12 1.761905\r\r2.2.5.2 transmutate()å‡½æ•°\råªä¿ç•™ä¸‹æ–°åˆ›å»ºçš„åˆ—(å˜é‡).\ndiamonds \u0026gt;\u0026gt; transmute(x_plus_y=X.x + X.y, y_div_z=(X.y / X.z)) \u0026gt;\u0026gt; head(3)\r## x_plus_y y_div_z\r## 0 7.93 1.637860\r## 1 7.73 1.662338\r## 2 8.12 1.761905\r\r\r2.2.6 åˆ†ç»„(grouping)\r2.2.6.1 group_by()å’Œungroup()å‡½æ•°\råˆ†ç»„éå¸¸æœ‰ç”¨.åˆ©ç”¨æŸä¸ªæˆ–æŸå‡ ä¸ªå˜é‡å°†æ•°æ®æ¡†åˆ†æˆä¸åŒçš„éƒ¨åˆ†,ç„¶åå¯¹æ¯ä¸€ç»„åˆ†åˆ«è¿›è¡Œå¤„ç†.ç»“æŸä¹‹å,éœ€è¦ä½¿ç”¨ungroup()å‡½æ•°ç»“æŸåˆ†ç»„çŠ¶æ€.\næ¯”å¦‚,å¦‚æœæƒ³çŸ¥é“å¯¹äºä¸åŒçš„cutçš„é’»çŸ³çš„æœ€é«˜ä»·å’Œæœ€ä½ä»·,å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç .\n(diamonds \u0026gt;\u0026gt; group_by(X.cut) \u0026gt;\u0026gt;\rmutate(price_lead=lead(X.price), price_lag=lag(X.price)) \u0026gt;\u0026gt;\rhead(2) \u0026gt;\u0026gt; select(X.cut, X.price, X.price_lead, X.price_lag))\r## cut price price_lead price_lag\r## 8 Fair 337 2757.0 NaN\r## 91 Fair 2757 2759.0 337.0\r## 2 Good 327 335.0 NaN\r## 4 Good 335 339.0 327.0\r## 0 Ideal 326 340.0 NaN\r## 11 Ideal 340 344.0 326.0\r## 1 Premium 326 334.0 NaN\r## 3 Premium 334 342.0 326.0\r## 5 Very Good 336 336.0 NaN\r## 6 Very Good 336 337.0 336.0\r\r\r2.2.7 é‡å¡‘æ•°æ®æ¡†(reshaping)\r2.2.7.1 arrange()å‡½æ•°\rè¿™ä¸ªå‡½æ•°æ˜¯ç”¨æ¥sortçš„.è·Ÿpandasçš„.sort_valiues()æ–¹æ³•æ˜¯ä¸€æ ·çš„.\ndiamonds \u0026gt;\u0026gt; arrange(X.table, ascending=False) \u0026gt;\u0026gt; head(5)\r## carat cut color clarity depth table price x y z\r## 24932 2.01 Fair F SI1 58.6 95.0 13387 8.32 8.31 4.87\r## 50773 0.81 Fair F SI2 68.8 79.0 2301 5.26 5.20 3.58\r## 51342 0.79 Fair G SI1 65.3 76.0 2362 5.52 5.13 3.35\r## 52860 0.50 Fair E VS2 79.0 73.0 2579 5.21 5.18 4.09\r## 49375 0.70 Fair H VS1 62.0 73.0 2100 5.65 5.54 3.47\r(diamonds \u0026gt;\u0026gt; group_by(X.cut) \u0026gt;\u0026gt; arrange(X.price) \u0026gt;\u0026gt;\rhead(3) \u0026gt;\u0026gt; ungroup() \u0026gt;\u0026gt; mask(X.carat \u0026lt; 0.23))\r## carat cut color clarity depth table price x y z\r## 8 0.22 Fair E VS2 65.1 61.0 337 3.87 3.78 2.49\r## 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31\r## 12 0.22 Premium F SI1 60.4 61.0 342 3.88 3.84 2.33\r\r2.2.7.2 rename()å‡½æ•°\rå¯¹åˆ—è¿›è¡Œé‡æ–°å‘½å.\ndiamonds \u0026gt;\u0026gt; rename(CUT=X.cut, COLOR=\u0026#39;color\u0026#39;) \u0026gt;\u0026gt; head(2)\r## carat CUT COLOR clarity depth table price x y z\r## 0 0.23 Ideal E SI2 61.5 55.0 326 3.95 3.98 2.43\r## 1 0.21 Premium E SI1 59.8 61.0 326 3.89 3.84 2.31\r\r2.2.7.3 gather()å‡½æ•°å’Œspread()å‡½æ•°\rå¯¹é•¿å®½æ•°æ®è¿›è¡Œè½¬æ¢çš„å‡½æ•°.gather()å°†å®½æ•°æ®è½¬è¾¹ä¸ºé•¿æ•°æ®,spread()å°†é•¿æ•°æ®è½¬æ¢ä¸ºå®½æ•°æ®.\ndiamonds \u0026gt;\u0026gt; gather(\u0026#39;variable\u0026#39;, \u0026#39;value\u0026#39;, [\u0026#39;price\u0026#39;, \u0026#39;depth\u0026#39;,\u0026#39;x\u0026#39;,\u0026#39;y\u0026#39;,\u0026#39;z\u0026#39;]) \u0026gt;\u0026gt; head(5)\r## carat cut color clarity table variable value\r## 0 0.23 Ideal E SI2 55.0 price 326.0\r## 1 0.21 Premium E SI1 61.0 price 326.0\r## 2 0.23 Good E VS1 65.0 price 327.0\r## 3 0.29 Premium I VS2 58.0 price 334.0\r## 4 0.31 Good J SI2 58.0 price 335.0\relongated = diamonds \u0026gt;\u0026gt; gather(\u0026#39;variable\u0026#39;, \u0026#39;value\u0026#39;, add_id=True)\relongated \u0026gt;\u0026gt; head(5)\r## _ID variable value\r## 0 0 carat 0.23\r## 1 1 carat 0.21\r## 2 2 carat 0.23\r## 3 3 carat 0.29\r## 4 4 carat 0.31\rwidened = elongated \u0026gt;\u0026gt; spread(X.variable, X.value)\rwidened \u0026gt;\u0026gt; head(5)\r## _ID carat clarity color cut depth price table x y z\r## 0 0 0.23 SI2 E Ideal 61.5 326 55 3.95 3.98 2.43\r## 1 1 0.21 SI1 E Premium 59.8 326 61 3.89 3.84 2.31\r## 2 2 0.23 VS1 E Good 56.9 327 65 4.05 4.07 2.31\r## 3 3 0.29 VS2 I Premium 62.4 334 58 4.2 4.23 2.63\r## 4 4 0.31 SI2 J Good 63.3 335 58 4.34 4.35 2.75\r\r\r2.2.8 åˆå¹¶(joining)\rè¿™ä¸ªç”¨å¤„éå¸¸å¤š.\n\r\rFuncation\rMeaning\r\r\r\rinner_join(other, by=â€˜columnâ€™)\råˆå¹¶ä¸¤ä¸ªæ•°æ®æ¡†å…±æœ‰çš„éƒ¨åˆ†\r\router_join(other, by=â€˜columnâ€™)\råˆå¹¶ä¸¤ä¸ªæ•°æ®æ¡†å¹¶é›†éƒ¨åˆ†\r\rfull_join(other, by=â€˜columnâ€™)\råˆå¹¶ä¸¤ä¸ªæ•°æ®æ¡†å¹¶é›†éƒ¨åˆ†\r\rright_join(other, by=â€˜columnâ€™)\rä»¥å³è¾¹æ•°æ®æ¡†ä¸ºå‡†è¿›è¡Œåˆå¹¶\r\rleft_join(other, by=â€˜columnâ€™)\rä»¥å·¦è¾¹æ•°æ®æ¡†ä¸ºå‡†è¿›è¡Œåˆå¹¶\r\rsemi_join(other, by=â€˜columnâ€™)\råªä¿ç•™å·¦è¾¹æ•°æ®æ¡†èƒ½å¤ŸåŒ¹é…ä¸Šå³è¾¹æ•°æ®æ¡†çš„è¡Œ\r\ranti_join(other, by=â€˜columnâ€™)\råªä¿ç•™ä¸¤ä¸ªæ•°æ®æ¡†éƒ½äº’ä¸ç›¸åŒçš„è¡Œ\r\r\r\ra = pd.DataFrame({\r\u0026#39;x1\u0026#39;:[\u0026#39;A\u0026#39;,\u0026#39;B\u0026#39;,\u0026#39;C\u0026#39;],\r\u0026#39;x2\u0026#39;:[1,2,3]\r})\rb = pd.DataFrame({\r\u0026#39;x1\u0026#39;:[\u0026#39;A\u0026#39;,\u0026#39;B\u0026#39;,\u0026#39;D\u0026#39;],\r\u0026#39;x3\u0026#39;:[True,False,True]\r})\ra \u0026gt;\u0026gt; inner_join(b, by=\u0026#39;x1\u0026#39;)\r## x1 x2 x3\r## 0 A 1 True\r## 1 B 2 False\ra \u0026gt;\u0026gt; outer_join(b, by=\u0026#39;x1\u0026#39;)\r## x1 x2 x3\r## 0 A 1.0 True\r## 1 B 2.0 False\r## 2 C 3.0 NaN\r## 3 D NaN True\ra \u0026gt;\u0026gt; full_join(b, by=\u0026#39;x1\u0026#39;)\r## x1 x2 x3\r## 0 A 1.0 True\r## 1 B 2.0 False\r## 2 C 3.0 NaN\r## 3 D NaN True\ra \u0026gt;\u0026gt; semi_join(b, by=\u0026#39;x1\u0026#39;)\r## x1 x2\r## 0 A 1\r## 1 B 2\ra \u0026gt;\u0026gt; anti_join(b, by=\u0026#39;x1\u0026#39;)\r## x1 x2\r## 2 C 3\ræœªå®Œå¾…ç»­â€¦.\n\r\r\r","date":1574985600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574985600,"objectID":"74b5f6e6f1e5c00ea56cc9fa28a5912b","permalink":"/post/2019-11-29-python-dplyphon/","publishdate":"2019-11-29T00:00:00Z","relpermalink":"/post/2019-11-29-python-dplyphon/","section":"post","summary":"1 dplython 1.1 å®‰è£… 1.2 ç®€å•ä»‹ç» 2 dfply 2.1 å®‰è£… 2.2 å‡½æ•°æ¦‚è§ˆ 2.2.1 \u0026gt;\u0026gt;å’Œ\u0026gt;\u0026gt;=ç®¡é“æ“ä½œç¬¦ 2.2.2 æ•°æ®æ¡†æ ‡å¿—X 2.2.3 é€‰æ‹©æŸåˆ—æˆ–è€…åˆ é™¤æŸåˆ—(selecti","tags":["Blog","Chinese"],"title":"Pythonä¸­ä¸dplyrç±»ä¼¼çš„æ•°æ®å¤„ç†åŒ…","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 åŸºç¡€\r1.1 å‡½æ•°(functions),æ–¹æ³•(method)æˆ–è€…å±æ€§(attribute)\r1.2 ä¾‹å­\r\r2 åˆ›å»ºarray\r3 åŸºç¡€è¿ç®—ç¬¦\r\r\rå®˜ç½‘åœ¨è¿™.\nhttps://numpy.org/doc/1.17/user/quickstart.html\n1 åŸºç¡€\r1.1 å‡½æ•°(functions),æ–¹æ³•(method)æˆ–è€…å±æ€§(attribute)\rNumPyâ€™s array class is called ndarray. It is also known by the alias array. Note that numpy.array is not the same as the Standard Python Library class array.array, which only handles one-dimensional arrays and offers less functionality. The more important attributes of an ndarray object are:\n\rndarray.ndimå±æ€§\r\rarrayçš„ç»´åº¦æ•°.\n\rndarray.shapeæ–¹æ³•\r\rarrayçš„ç»´åº¦å¤§å°.ç±»ä¼¼äºRä¸­çš„dim()å‡½æ•°\n\rndarray.sizeæ–¹æ³•\r\rarrayçš„cell(æ•°æ®ç‚¹)æ•°ç›®.\n\rndarray.dtypeæ–¹æ³•\r\rarrayä¸­å…ƒç´ çš„æ•°æ®ç±»å‹.\n\rndarray.itemsizeæ–¹æ³•\r\rThe size in bytes of each element of the array. For example, an array of elements of type float64 has itemsize 8 (=64/8), while one of type complex32 has itemsize 4 (=32/8). It is equivalent to ndarray.dtype.itemsize.\n\r1.2 ä¾‹å­\rimport numpy as np\ra = np.arange(15).reshape(3, 5)\ra\r## array([[ 0, 1, 2, 3, 4],\r## [ 5, 6, 7, 8, 9],\r## [10, 11, 12, 13, 14]])\ra.ndim\r## 2\ra.shape\r## (3, 5)\ra.size\r## 15\ra.dtype\r## dtype(\u0026#39;int32\u0026#39;)\ra.itemsize\r## 4\r\r\r2 åˆ›å»ºarray\r\rarray()å‡½æ•°\r\råˆ›å»ºarray.å¯ä»¥å°†åˆ—è¡¨,å…ƒç»„ç­‰è½¬å˜ä¸ºarrayå¯¹è±¡.\nimport numpy as np\rnp.array((1,2,3,4))\r## array([1, 2, 3, 4])\rnp.array([1,2,3,4,5])\r## array([1, 2, 3, 4, 5])\rnp.array([(1,2,3), (4,5,6)])\r## array([[1, 2, 3],\r## [4, 5, 6]])\ræœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æå‰åˆ›å»ºä¸€ä¸ªarray,ç„¶åå†å¾€é‡Œé¢å¡«å……å†…å®¹.æ¯”å¦‚åœ¨ä¸€ä¸ªå¾ªç¯ä¸­,æ¯ä¸€ä¸ªå¾ªç¯ç”Ÿæˆä¸€äº›æ•°,ç„¶åå†å¡«å……åˆ°arrayä¸­.\n\rnp.zeros(),np.ones()å’Œnp.empty()å‡½æ•°\r\rç”Ÿæˆä¸€ä¸ªarray,ç„¶åå…¶ä¸­ç”¨0/1æˆ–è€…éšæœºçš„éå¸¸å°çš„æ•°å¡«å…….å‚æ•°shapeç”¨æ¥è®¾å®šarrayçš„ç»´åº¦.\n##zero\rnp.zeros(shape = 2)\r## array([0., 0.])\rnp.zeros(shape = (3,4))\r## array([[0., 0., 0., 0.],\r## [0., 0., 0., 0.],\r## [0., 0., 0., 0.]])\rnp.zeros(shape = (3,4,5))\r##one\r## array([[[0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.]],\r## ## [[0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.]],\r## ## [[0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.],\r## [0., 0., 0., 0., 0.]]])\rnp.ones(shape = 2)\r## array([1., 1.])\rnp.ones(shape = (3,4))\r##empty\r## array([[1., 1., 1., 1.],\r## [1., 1., 1., 1.],\r## [1., 1., 1., 1.]])\rnp.empty(shape = 2)\r## array([1., 1.])\rnp.empty(shape = (3,4))\r## array([[1., 1., 1., 1.],\r## [1., 1., 1., 1.],\r## [1., 1., 1., 1.]])\r\rnp.arange()å‡½æ•°\r\rè·ŸåŸºç¡€å‡½æ•°arangeç±»ä¼¼,å¯ä»¥ç”Ÿæˆè¿ç»­çš„array.æ‰€ä»¥åŒæ ·ä¸‰ä¸ªå‚æ•°,start,stopå’Œstep.\nnp.arange(1, 10, 2)\r## array([1, 3, 5, 7, 9])\rè¿™ç§åŠæ³•,endå‚æ•°ä¸ä¸€å®šåŒ…å«åœ¨æœ€åçš„sequenceä¸­.ä¸ºäº†è®©æœ€åçš„endä¸€å®šåŒ…å«å†sequenceä¸­,ç„¶åä¸­é—´çš„å‚æ•°,æ˜¯ä½¿ç”¨çº¿æ€§å›å½’å¾—åˆ°çš„,å¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªå‚æ•°.\n\rnp.linspace()å‡½æ•°\r\rä¸‰ä¸ªå‚æ•°,start,stopå’Œnum.\nnp.linspace(start=0, stop=10, num=8)\r## array([ 0. , 1.42857143, 2.85714286, 4.28571429, 5.71428571,\r## 7.14285714, 8.57142857, 10. ])\r\rreshape()æ–¹æ³•å’Œreshape()å‡½æ•°\r\rç”¨æ¥å°†arrayé‡æ–°è¿›è¡Œshape.\narr = np.arange(1,10,1)\rarr\r## array([1, 2, 3, 4, 5, 6, 7, 8, 9])\rarr.reshape(3,3)\r## array([[1, 2, 3],\r## [4, 5, 6],\r## [7, 8, 9]])\rarr.reshape(3,3,order=\u0026quot;C\u0026quot;)\r## array([[1, 2, 3],\r## [4, 5, 6],\r## [7, 8, 9]])\rarr.reshape(3,3,order=\u0026quot;F\u0026quot;)\r## array([[1, 4, 7],\r## [2, 5, 8],\r## [3, 6, 9]])\rarr.reshape(3,3,order=\u0026quot;A\u0026quot;)\r## array([[1, 2, 3],\r## [4, 5, 6],\r## [7, 8, 9]])\rnp.reshape(arr, newshape=(3,3))\r## array([[1, 2, 3],\r## [4, 5, 6],\r## [7, 8, 9]])\r\r3 åŸºç¡€è¿ç®—ç¬¦\rarrayæ˜¯æ”¯æŒå‘é‡åŒ–è¿ç®—çš„,æ‰€ä»¥å¯ä»¥ç›´æ¥å¯¹arrayè¿›è¡Œå¸¸è§çš„æ•°å­¦è¿ç®—.æ³¨æ„,å¦‚æœä¸¤ä¸ªarrayé•¿åº¦ä¸ä¸€è‡´,ä¼šæŠ¥é”™.\na = np.array( [20,30,40,50] )\rb = np.arange(4)\ra\r## array([20, 30, 40, 50])\rb\r## array([0, 1, 2, 3])\ra + b\r## array([20, 31, 42, 53])\ra - b\r## array([20, 29, 38, 47])\ra * b\r## array([ 0, 30, 80, 150])\ra * 2\r## array([ 40, 60, 80, 100])\ra / 2\r## array([10., 15., 20., 25.])\ra \u0026lt; 2\r## array([False, False, False, False])\r\r","date":1574899200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574899200,"objectID":"d24d8895474d7912633967bcc9b3b829","permalink":"/post/2019-11-28-numpy-function-method/","publishdate":"2019-11-28T00:00:00Z","relpermalink":"/post/2019-11-28-numpy-function-method/","section":"post","summary":"1 åŸºç¡€ 1.1 å‡½æ•°(functions),æ–¹æ³•(method)æˆ–è€…å±æ€§(attribute) 1.2 ä¾‹å­ 2 åˆ›å»ºarray 3 åŸºç¡€è¿ç®—ç¬¦ å®˜ç½‘åœ¨è¿™. https://numpy.org/doc/1.17/user/quickstart.html 1 åŸºç¡€ 1.1","tags":["Blog","Chinese"],"title":"Python Numpyå‡½æ•°å’Œæ–¹æ³•å®Œå…¨æ€»ç»“","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 å®‰è£…\r2 æ„å»ºæ‰€éœ€è¦çš„æ•°æ®\r2.1 æ„å»ºedgesæ•°æ®\r2.2 ç„¶åæ„å»ºnodeçš„æ•°æ®\r2.3 æ„å»ºggraphæ‰€éœ€çš„æ•°æ®\r\r3 ç”»å›¾\r3.1 åŸºç¡€ç»˜å›¾\r3.2 æ·»åŠ æ–‡å­—\r3.3 ä½¿ç”¨ä¸åŒçš„layout\r3.4 ä¸åŒçš„è¿æ¥çº¿\r3.5 ä½¿ç”¨ä¸åŒçš„ä¸»é¢˜\r\r\r\rggraphæ˜¯Thomas Lin Pedersenå¼€å‘çš„ç½‘ç»œå¯è§†åŒ–çš„åŒ….å®˜æ–¹æ–‡æ¡£åœ¨è¿™:https://ggraph.data-imaginist.com/index.html.\nå®ƒå’Œigraphä¸åŒ,igraphè™½ç„¶ä¹Ÿæœ‰ç½‘ç»œå¯è§†åŒ–,ä½†æ˜¯æ›´å¤šçš„è¿˜æ˜¯ç”¨äºç½‘ç»œåˆ†æ,å¯è§†åŒ–å¹¶ä¸æ˜¯å¤ªå‹å¥½.\nå¤§è‡´è®°å½•ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨å®ƒæ¥è¿›è¡Œç½‘ç»œå›¾çš„æ„å»º.\n1 å®‰è£…\réœ€è¦å®‰è£…ä¸¤ä¸ªåŒ….\ninstall.packages(\u0026quot;ggraph\u0026quot;)\rinstall.packages(\u0026quot;tidygraph\u0026quot;)\rlibrary(tidyverse)\r## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1\r## -- Attaching packages ------------------------------------------------------------- tidyverse 1.2.1 --\r## v ggplot2 3.2.1 v purrr 0.3.2\r## v tibble 2.1.3 v dplyr 0.8.3\r## v tidyr 1.0.0 v stringr 1.4.0\r## v readr 1.3.1 v forcats 0.4.0\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tibble\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tidyr\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 3.6.1\r## -- Conflicts ---------------------------------------------------------------- tidyverse_conflicts() --\r## x dplyr::filter() masks stats::filter()\r## x dplyr::lag() masks stats::lag()\rlibrary(tidygraph)\r## Warning: package \u0026#39;tidygraph\u0026#39; was built under R version 3.6.1\r## ## Attaching package: \u0026#39;tidygraph\u0026#39;\r## The following object is masked from \u0026#39;package:stats\u0026#39;:\r## ## filter\rlibrary(ggraph)\r## Warning: package \u0026#39;ggraph\u0026#39; was built under R version 3.6.1\r\r2 æ„å»ºæ‰€éœ€è¦çš„æ•°æ®\ræœ€ä¸ºç®€å•çš„åŠæ³•æ˜¯ä½¿ç”¨æ•°æ®åº“æ ¼å¼çš„æ•°æ®,è€Œä¸”å‰ä¸¤è¡Œåˆ†åˆ«ä¸ºfromå’Œto.æˆ‘ä»¬æ„å»ºä¸€ä¸ªç¤ºä¾‹æ•°æ®:\n2.1 æ„å»ºedgesæ•°æ®\rset.seed(0)\redges \u0026lt;- data.frame(from = sample(1:15, 80, replace = TRUE), to = sample(1:15, 80, replace = TRUE), stringsAsFactors = FALSE) %\u0026gt;% distinct()\rè¿™æ˜¯æœ€ç®€å•çš„ä¸€ä¸ªedgeä¿¡æ¯,æ¯ä¸€è¡Œå°±æ˜¯ä¸€ä¸ªedgeä¿¡æ¯,å½“ç„¶,æˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™æ¯ä¸€æ¡è¾¹éƒ½åŠ ä¸Šå±æ€§ä¿¡æ¯.\nedges \u0026lt;- data.frame(edges, edge.width = rnorm(n = nrow(edges), mean = 1, sd = 0.5), edge.colour = rnorm(n = nrow(edges), mean = 0, sd = 0.5),\rstringsAsFactors = FALSE)\redges %\u0026gt;% head\r## from to edge.width edge.colour\r## 1 14 6 0.2382166 0.225093551\r## 2 9 8 1.2969731 -0.009279916\r## 3 4 7 1.1664752 -0.159034187\r## 4 7 11 1.5315499 -0.464681074\r## 5 1 1 0.8479080 -0.743730155\r## 6 2 4 1.1850094 -0.537596148\r\r2.2 ç„¶åæ„å»ºnodeçš„æ•°æ®\rnode \u0026lt;- unique(c(edges$from, edges$to)) %\u0026gt;% sort()\rnode\r## [1] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15\rnodes \u0026lt;- data.frame(node, node.size = rnorm(n = length(node), mean = 1, sd = 0.5),\rnode.colour = sample(c(\u0026quot;Class A\u0026quot;, \u0026quot;Class B\u0026quot;), length(node), replace = TRUE), stringsAsFactors = FALSE)\rnodes %\u0026gt;% head\r## node node.size node.colour\r## 1 1 0.3733551 Class A\r## 2 2 1.3211207 Class B\r## 3 3 0.9776454 Class A\r## 4 4 0.1333908 Class B\r## 5 5 1.0010659 Class B\r## 6 6 0.6848498 Class A\r\r2.3 æ„å»ºggraphæ‰€éœ€çš„æ•°æ®\rå¾—åˆ°edgeså’Œnodesä¹‹å,éœ€è¦å°†å…¶è½¬ä¸ºggraphæ‰€éœ€è¦çš„æ ¼å¼.\ngraph_data \u0026lt;- tidygraph::tbl_graph(nodes = nodes, edges = edges, directed = FALSE)\rgraph_data\r## # A tbl_graph: 15 nodes and 67 edges\r## #\r## # An undirected multigraph with 1 component\r## #\r## # Node Data: 15 x 3 (active)\r## node node.size node.colour\r## \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; ## 1 1 0.373 Class A ## 2 2 1.32 Class B ## 3 3 0.978 Class A ## 4 4 0.133 Class B ## 5 5 1.00 Class B ## 6 6 0.685 Class A ## # ... with 9 more rows\r## #\r## # Edge Data: 67 x 4\r## from to edge.width edge.colour\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 6 14 0.238 0.225 ## 2 8 9 1.30 -0.00928\r## 3 4 7 1.17 -0.159 ## # ... with 64 more rows\r\r\r3 ç”»å›¾\r3.1 åŸºç¡€ç»˜å›¾\ræ‹¿åˆ°æ‰€éœ€æ•°æ®ä¹‹å,å¯ä»¥å¼€å§‹ç”»å›¾äº†,è·Ÿggplot2ä¸€æ ·,ä¹Ÿæ˜¯å›¾å±‚çš„ç”»æ³•,ä¸€å±‚å±‚è¿›è¡Œå åŠ .æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­.\nggraph(graph = graph_data) +\rgeom_edge_fan() +\rgeom_node_point()\r## Using `stress` as default layout\ré¦–å…ˆå¯ä»¥çœ‹åˆ°,éœ€è¦ä½¿ç”¨ggraphå¯åŠ¨ä¸€ä¸ªå›¾åƒ,ç„¶åå¿…é¡»çš„ä¸¤ä¸ªgeomåˆ†åˆ«æ˜¯geom_edge_xxå’Œgeom_node_xxxåˆ†åˆ«ç”¨æ¥å®šä¹‰è¾¹å’Œnode.ä»–ä»¬çš„ä½¿ç”¨åŠæ³•è·Ÿggplot2éå¸¸ç±»ä¼¼,å‚æ•°ä¹Ÿéƒ½å¾ˆç±»ä¼¼,åªæ˜¯åŠ ä¸Šäº†edgeå’Œnodeæ ‡ç­¾.\næˆ‘ä»¬ä¸‹é¢æ¥ç€å¯¹å›¾ç‰‡è¿›è¡Œç¾åŒ–.\nplot \u0026lt;- ggraph(graph = graph_data, layout = \u0026quot;linear\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void()\rplot\rä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹åˆ°,å¯¹äºedgeçš„å±æ€§çš„è®¾ç½®,éœ€è¦ä½¿ç”¨scale_edge_xxxç³»åˆ—å‡½æ•°,è€Œå¯¹äºnode,åˆ™ç›´æ¥ä½¿ç”¨åŸæ¥çš„ggplot2çš„scale_xxxç³»åˆ—å‡½æ•°å°±å¯ä»¥äº†.\n\r3.2 æ·»åŠ æ–‡å­—\ræ·»åŠ æ–‡å­—å¯ä»¥ä½¿ç”¨geom_node_text()å’Œgeom_node_label()å‡½æ•°.\nå¯¹äºlayoutä¸ºåœ†å½¢ç½‘çŠ¶æ¥è¯´,æˆ‘ä»¬éœ€è¦å°†nodeçš„è§’åº¦è¿›è¡Œä¸€å®šç¨‹åº¦çš„è°ƒæ•´.\nnode_name = paste(\u0026quot;Node\u0026quot;, node, sep = \u0026quot;_\u0026quot;)\rnode_name\r## [1] \u0026quot;Node_1\u0026quot; \u0026quot;Node_2\u0026quot; \u0026quot;Node_3\u0026quot; \u0026quot;Node_4\u0026quot; \u0026quot;Node_5\u0026quot; \u0026quot;Node_6\u0026quot; \u0026quot;Node_7\u0026quot; ## [8] \u0026quot;Node_8\u0026quot; \u0026quot;Node_9\u0026quot; \u0026quot;Node_10\u0026quot; \u0026quot;Node_11\u0026quot; \u0026quot;Node_12\u0026quot; \u0026quot;Node_13\u0026quot; \u0026quot;Node_14\u0026quot;\r## [15] \u0026quot;Node_15\u0026quot;\rangle \u0026lt;- 360 * (c(1:length(node_name)) - 0.5)/length(node_name)\rhjust \u0026lt;- ifelse(angle \u0026gt; 180, 1, 0)\rangle \u0026lt;- ifelse(angle \u0026gt; 180, 90 - angle + 180, 90 - angle)\rç„¶åæ·»åŠ nodeæ–‡å­—.\nplot +\rgeom_node_text(aes(x = x * 1.05,\ry = y * 1.15,\rlabel = node_name), angle = angle, hjust = hjust,\rcolour = \u0026quot;black\u0026quot;,\rsize = 3.5)\rå¯ä»¥çœ‹åˆ°æœ‰äº›æ–‡å­—è·‘åˆ°ç»˜å›¾åŒºåŸŸå¤–é¢äº†,è¿™æ—¶å€™éœ€è¦å°†åæ ‡è½´è¿›è¡Œæ‰©å±•å°±è¡Œäº†.\nplot +\rgeom_node_text(aes(x = x * 1.05,\ry = y * 1.15,\rlabel = node_name), angle = angle, hjust = hjust,\rcolour = \u0026quot;black\u0026quot;,\rsize = 3.5) +\rexpand_limits(x = c(-1.5, 1.5), y = c(-1.5, 1.5))\ræˆ‘ä»¬å¯ä»¥çœ‹çœ‹åŸæ¥çš„åæ ‡è½´æ˜¯ä»€ä¹ˆæ ·å­çš„.\nggraph(graph = graph_data, layout = \u0026quot;linear\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_bw()\ræˆ‘ä»¬å°†themeè®¾ç½®ä¸ºtheme_bw()å°±å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°åŸæ¥çš„åæ ‡ä½“ç³»äº†.\nå¯ä»¥çœ‹åˆ°legendçš„é¡ºåºæœ‰ç‚¹ä¹±.å¯ä»¥åœ¨guides()å‡½æ•°ä¸­è®¾ç½®.\nggraph(graph = graph_data, layout = \u0026quot;linear\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rguides(colour = guide_legend(order = 1),\rsize = guide_legend(order = 2),\rcolour = guide_edge_colourbar(order = 3)) +\rtheme_void()\r## Warning: Duplicated aesthetics after name standardisation: colour\ræ·»åŠ æ–‡å­—çš„æ—¶å€™,æ–‡å­—ä¹‹é—´,ä»¥åŠæ–‡å­—nodeä¹‹é—´,ä¼šå‡ºç°è¦†ç›–çš„é—®é¢˜.å¦‚ä¸‹å›¾æ‰€ç¤º:\nggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void() +\rgeom_node_text(aes(x = x,\ry = y,\rlabel = node_name,\rcolour = node.colour), size = 3.5) \r## Using `stress` as default layout\råœ¨ggplot2ä¸­,æˆ‘ä»¬ä½¿ç”¨ggrepelåŒ…å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜.åœ¨è¿™é‡Œ,æˆ‘ä»¬å¯ä»¥è®¾ç½®repelä¸ºTRUE.\nggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void() +\rgeom_node_text(aes(label = node_name,\rcolour = node.colour), size = 3.5, repel = TRUE) \r## Using `stress` as default layout\rå½“ç„¶,ä¹Ÿå¯ä»¥ä½¿ç”¨geom_node_label()æ¥æ ‡æ³¨.\nggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void() +\rgeom_node_label(aes(label = node_name,\rcolour = node.colour), size = 3.5, repel = TRUE) \r## Using `stress` as default layout\r\r3.3 ä½¿ç”¨ä¸åŒçš„layout\rå¯¹ç½‘ç»œæ¥è¯´,å¯ä»¥ä½¿ç”¨ä¸åŒçš„layout,layoutæ—¢å¯ä»¥é€šè¿‡å†ggraphä¸­é€šè¿‡è®¾ç½®layoutå‚æ•°å®ç°,ä¹Ÿå¯ä»¥é€šè¿‡å°†graphç›´æ¥èµ‹äºˆlayoutå±æ€§å®ç°.\nggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void()\r## Using `stress` as default layout\rggraph(graph = graph_data, layout = \u0026quot;linear\u0026quot;, circular = FALSE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rgeom_node_text(aes(colour = node.colour),\rhjust = 1,\rangle = 65,\rnudge_y = -0.3,\rlabel = node_name, size = 3.5) +\rexpand_limits(x = c(-1.5, 1.5), y = c(-1.5, 1.5)) +\rtheme_void()\rggraph(graph = graph_data, layout = \u0026quot;eigen\u0026quot;, circular = FALSE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void() +\rgeom_node_text(aes(x = x,\ry = y,\rlabel = node_name,\rcolour = node.colour), size = 3.5) \r\r3.4 ä¸åŒçš„è¿æ¥çº¿\rä¸Šé¢çš„ä¾‹å­nodeä¹‹é—´çš„è¿æ¥éƒ½æ˜¯æ›²çº¿(geom_edge_arc),å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„è¿æ¥æ–¹å¼,æ¯”å¦‚ç›´çº¿,è¿™æ—¶å€™éœ€è¦ä½¿ç”¨ä¸åŒçš„geom_edge_xxx()å‡½æ•°.\næ¯”å¦‚ç›´çº¿å¯ä»¥ä½¿ç”¨geom_edge_link(),æœ‰ä¸‰ä¸ªä¸åŒçš„å‡½æ•°,æš‚æ—¶æ²¡æœ‰ä»”ç»†çœ‹å·®åˆ«,è¯¦ç»†å·®åˆ«å¯ä»¥ä½¿ç”¨:?get_edgesæŸ¥çœ‹.\nggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_link(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void()\r## Using `stress` as default layout\rggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_link2(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void()\r## Using `stress` as default layout\rggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_link0(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void()\r## Using `stress` as default layout\rç”»æœ‰ä¸€å®šå¼¯åº¦çš„edgeå¯ä»¥ä½¿ç”¨geom_edge_fan()å‡½æ•°.\nggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_fan(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rtheme_void()\r## Using `stress` as default layout\r\r3.5 ä½¿ç”¨ä¸åŒçš„ä¸»é¢˜\rå¯ä»¥ä½¿ç”¨æš—é»‘ä¸»é¢˜,åƒå›¾ç‰‡æ˜¾ç¤ºçš„æ›´ç‚«é…·ä¸€äº›.\nggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;, high = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2)) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rggdark::dark_theme_void() +\rgeom_node_text(aes(label = node_name,\rcolour = node.colour), size = 3.5, repel = TRUE) \r## Using `stress` as default layout\r## Inverted geom defaults of fill and color/colour.\r## To change them back, use invert_geom_defaults().\rå› ä¸ºlegedçš„æŸäº›æ˜¾ç¤ºé¢œè‰²ä¸ºé»‘è‰²,è€Œä¸»é¢˜æ²¡æœ‰å°†å…¶ä¿®æ”¹è¿‡æ¥,å¯ä»¥æ‰‹åŠ¨è¿›è¡Œä¿®æ”¹.\nggraph(graph = graph_data, layout = \u0026quot;auto\u0026quot;, circular = TRUE) +\rgeom_edge_arc(aes(edge_colour = edge.colour, edge_width = edge.width)) +\rscale_edge_colour_gradient2(low = \u0026quot;#155F83FF\u0026quot;, mid = \u0026quot;white\u0026quot;,\rhigh = \u0026quot;#800000FF\u0026quot;) +\rscale_edge_width_continuous(range = c(0.2,2), guide = guide_legend(override.aes = list(colour = \u0026quot;white\u0026quot;, alpha =1))) +\rguides(colour = guide_legend(override.aes = list(size = 5))) +\rgeom_node_point(aes(colour = node.colour, size = node.size)) +\rscale_size_continuous(range = c(5,10)) +\rscale_colour_manual(values = c(\u0026quot;Class A\u0026quot; = \u0026quot;#8A9045FF\u0026quot;, \u0026quot;Class B\u0026quot; = \u0026quot;#155F83FF\u0026quot;)) +\rggdark::dark_theme_void() +\rgeom_node_text(aes(label = node_name,\rcolour = node.colour), size = 3.5, repel = TRUE) \r## Using `stress` as default layout\r\r\r","date":1574812800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574812800,"objectID":"8d316da0ab6870994ec8c004433e57d4","permalink":"/post/2019-11-27-r-ggraph/","publishdate":"2019-11-27T00:00:00Z","relpermalink":"/post/2019-11-27-r-ggraph/","section":"post","summary":"1 å®‰è£… 2 æ„å»ºæ‰€éœ€è¦çš„æ•°æ® 2.1 æ„å»ºedgesæ•°æ® 2.2 ç„¶åæ„å»ºnodeçš„æ•°æ® 2.3 æ„å»ºggraphæ‰€éœ€çš„æ•°æ® 3 ç”»å›¾ 3.1 åŸºç¡€ç»˜å›¾ 3.2 æ·»åŠ æ–‡å­— 3.3 ä½¿ç”¨ä¸åŒçš„lay","tags":["Blog","Chinese"],"title":"ggraphç”»ç½‘ç»œå›¾","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 å®‰è£…\r2 ä½¿ç”¨\r\r\rPythonä¸­æœ‰ä¸€ä¸ªæ¨¡ä»¿R ggplot2è¯­æ³•åˆ›å»ºçš„ç»˜å›¾åŒ…,plotnine.å®˜ç½‘åœ¨è¿™:\nhttps://plotnine.readthedocs.io/en/stable/\n1 å®‰è£…\rpip install plotinie\r\r2 ä½¿ç”¨\rfrom plotnine import *\rfrom plotnine.data import mtcars\rmtcars.head()\r## name mpg cyl disp hp ... qsec vs am gear carb\r## 0 Mazda RX4 21.0 6 160.0 110 ... 16.46 0 1 4 4\r## 1 Mazda RX4 Wag 21.0 6 160.0 110 ... 17.02 0 1 4 4\r## 2 Datsun 710 22.8 4 108.0 93 ... 18.61 1 1 4 1\r## 3 Hornet 4 Drive 21.4 6 258.0 110 ... 19.44 1 0 3 1\r## 4 Hornet Sportabout 18.7 8 360.0 175 ... 17.02 0 0 3 2\r## ## [5 rows x 12 columns]\réœ€è¦æ³¨æ„çš„æ˜¯,åœ¨pythonä¸­,+è¦æ”¾åœ¨æ¯ä¸€å¥çš„å‰é¢è€Œä¸æ˜¯åé¢.\n(ggplot(mtcars, aes(\u0026#39;wt\u0026#39;, \u0026#39;mpg\u0026#39;, color=\u0026#39;factor(gear)\u0026#39;))\r+ geom_point()\r+ stat_smooth(method=\u0026#39;lm\u0026#39;)\r+ facet_wrap(\u0026#39;~gear\u0026#39;))\r## \u0026lt;ggplot: (-9223372036762410300)\u0026gt;\r## ## D:\\software\\python\\lib\\site-packages\\plotnine\\scales\\scale.py:93: MatplotlibDeprecationWarning: ## The iterable function was deprecated in Matplotlib 3.1 and will be removed in 3.3. Use np.iterable instead.\r## if cbook.iterable(self.breaks) and cbook.iterable(self.labels):\r## D:\\software\\python\\lib\\site-packages\\numpy\\core\\fromnumeric.py:2389: FutureWarning: Method .ptp is deprecated and will be removed in a future version. Use numpy.ptp instead.\r## return ptp(axis=axis, out=out, **kwargs)\r## D:\\software\\python\\lib\\site-packages\\numpy\\core\\fromnumeric.py:2389: FutureWarning: Method .ptp is deprecated and will be removed in a future version. Use numpy.ptp instead.\r## return ptp(axis=axis, out=out, **kwargs)\r## D:\\software\\python\\lib\\site-packages\\numpy\\core\\fromnumeric.py:2389: FutureWarning: Method .ptp is deprecated and will be removed in a future version. Use numpy.ptp instead.\r## return ptp(axis=axis, out=out, **kwargs)\r## D:\\software\\python\\lib\\site-packages\\plotnine\\utils.py:553: MatplotlibDeprecationWarning: ## The iterable function was deprecated in Matplotlib 3.1 and will be removed in 3.3. Use np.iterable instead.\r## return cbook.iterable(var) and not is_string(var)\rå¯ä»¥çœ‹åˆ°è·Ÿggplot2è¯­æ³•å‡ ä¹ä¸€è‡´,éå¸¸æ–¹ä¾¿,å¤§å¤§å‡å°äº†å­¦ä¹ æˆæœ¬.\nå½“ç„¶ä¹Ÿå¯ä»¥å°†ç”Ÿæˆçš„å›¾ç‰‡èµ‹å€¼ç»™å˜é‡.\nplot = (ggplot(mtcars)\r+ geom_point(aes(x = \u0026quot;wt\u0026quot;, y = \u0026quot;mpg\u0026quot;, colour = \u0026quot;gear\u0026quot;))\r+ theme_bw()\r)\rplot\r## \u0026lt;ggplot: (-9223372036754654152)\u0026gt;\r## ## D:\\software\\python\\lib\\site-packages\\plotnine\\scales\\scale.py:93: MatplotlibDeprecationWarning: ## The iterable function was deprecated in Matplotlib 3.1 and will be removed in 3.3. Use np.iterable instead.\r## if cbook.iterable(self.breaks) and cbook.iterable(self.labels):\r## D:\\software\\python\\lib\\site-packages\\plotnine\\utils.py:553: MatplotlibDeprecationWarning: ## The iterable function was deprecated in Matplotlib 3.1 and will be removed in 3.3. Use np.iterable instead.\r## return cbook.iterable(var) and not is_string(var)\rä½†æ˜¯éœ€è¦æ³¨æ„:\nä»ggplotå¼€å§‹,åˆ°ç»˜å›¾ä»£ç ç»“æŸ,éƒ½éœ€è¦æ”¾åœ¨ä¸€ä¸ªå°æ‹¬å·é‡Œé¢.\nè¯­æ³•è·Ÿggplot2å‡ ä¹æ˜¯ç›¸åŒçš„,çœŸçš„æ˜¯éå¸¸æ–¹ä¾¿äº†!!\nå½“ç„¶,é—®é¢˜ä¹Ÿæ˜¯æœ‰çš„,å°±æ˜¯æ²¡æœ‰åƒRä¸­ä¸€æ ·çš„,ggplot2çš„æ‰©å±•åŒ…äº†,æ¯”å¦‚ggraphç­‰.\n\r","date":1574812800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574812800,"objectID":"a70b2000706615f4eccba66c0597743a","permalink":"/post/2019-11-27-plotnine/","publishdate":"2019-11-27T00:00:00Z","relpermalink":"/post/2019-11-27-plotnine/","section":"post","summary":"1 å®‰è£… 2 ä½¿ç”¨ Pythonä¸­æœ‰ä¸€ä¸ªæ¨¡ä»¿R ggplot2è¯­æ³•åˆ›å»ºçš„ç»˜å›¾åŒ…,plotnine.å®˜ç½‘åœ¨è¿™: https://plotnine.readthedocs.io/en/stable/ 1 å®‰è£… pip install plotinie 2 ä½¿ç”¨ from plotnine import * from plotnine.data import mtcars mtcars.head() ## name","tags":["Blog","Chinese"],"title":"Pythonæ¨¡ä»¿ggplot2çš„ç»˜å›¾åŒ…:plotnine","type":"post"},{"authors":null,"categories":["R"],"content":"\rå‚è€ƒæ–‡çŒ®1,2.\nç¤ºä¾‹ä»£ç :\n# Function to compute the smooth threshold curve\rsmooth.threshold=function(x,ta,s0,df){\rxp=x[x\u0026gt;(ta*s0)]; xn=x[x\u0026lt;(-ta*s0)]; dp=xp/ta-s0; dn=xn/(-ta)-s0;\rdp=s0/dp; dp=ta*(1+dp); dn=s0/dn; dn=ta*(1+dn);\rfp=pt(dp,df=df); fn=pt(dn,df=df); yp=-log10(2*(1-fp)); yn=-log10(2*(1-fn));\rreturn(cbind(c(xn,xp),c(yn,yp)));\r}\r# Get data\rlibrary(cp4p); data(LFQRatio2); tabl=LFQRatio2;\r## Warning: package \u0026#39;cp4p\u0026#39; was built under R version 3.6.1\r## Loading required package: MESS\r## Warning: package \u0026#39;MESS\u0026#39; was built under R version 3.6.1\r## Loading required package: multtest\r## Loading required package: BiocGenerics\r## Loading required package: parallel\r## ## Attaching package: \u0026#39;BiocGenerics\u0026#39;\r## The following objects are masked from \u0026#39;package:parallel\u0026#39;:\r## ## clusterApply, clusterApplyLB, clusterCall, clusterEvalQ,\r## clusterExport, clusterMap, parApply, parCapply, parLapply,\r## parLapplyLB, parRapply, parSapply, parSapplyLB\r## The following objects are masked from \u0026#39;package:stats\u0026#39;:\r## ## IQR, mad, sd, var, xtabs\r## The following objects are masked from \u0026#39;package:base\u0026#39;:\r## ## anyDuplicated, append, as.data.frame, basename, cbind,\r## colnames, dirname, do.call, duplicated, eval, evalq, Filter,\r## Find, get, grep, grepl, intersect, is.unsorted, lapply, Map,\r## mapply, match, mget, order, paste, pmax, pmax.int, pmin,\r## pmin.int, Position, rank, rbind, Reduce, rownames, sapply,\r## setdiff, sort, table, tapply, union, unique, unsplit, which,\r## which.max, which.min\r## Loading required package: Biobase\r## Welcome to Bioconductor\r## ## Vignettes contain introductory material; view with\r## \u0026#39;browseVignettes()\u0026#39;. To cite Bioconductor, see\r## \u0026#39;citation(\u0026quot;Biobase\u0026quot;)\u0026#39;, and for packages \u0026#39;citation(\u0026quot;pkgname\u0026quot;)\u0026#39;.\r## Loading required package: qvalue\r## Loading required package: limma\r## ## Attaching package: \u0026#39;limma\u0026#39;\r## The following object is masked from \u0026#39;package:BiocGenerics\u0026#39;:\r## ## plotMA\r# Get Fold-Change\rn1=3; n2=3;\rm1=apply(tabl[,1:n1],1,mean); m2=apply(tabl[,(n1+1):(n1+n2)],1,mean);\rFC=m1-m2;\r# Get standard deviations for t-test\rsd1=apply(tabl[,1:n1],1,sd)\rsd2=apply(tabl[,(n1+1):(n1+n2)],1,sd)\rsdd=sqrt(((sd1^2)+(sd2^2))/(n1+n2))\r# Compute the fudge factor with the method of Tusher, V., Tibshirani, R., and Chu, G. (2001)\rlibrary(siggenes) \r## Loading required package: splines\rff0=fudge2(FC,sdd)$s.zero;\r# Get degrees of freedom for significance testing\rdf=(n1+n2)-2;\r# Get t.stats and p.values t.stat=FC/sdd; p.value=2*(1-pt(abs(t.stat),df=df));\r####################################################\r# Prepare displays\rabs.inf=-3.5; abs.sup=3.5;\r#################################\r# Figure a\r#################################\r# Display the volcano plot on the interval [abs.inf,abs.sup]\rplot(FC,-log10(p.value),xlim=c(abs.inf,abs.sup),col=4);\r# Display the human proteins which should be identified as differentially abundant\rpoints(FC[(tabl$Organism==\u0026quot;human\u0026quot;)],-log10(p.value)[(tabl$Organism==\u0026quot;human\u0026quot;)],col=2,pch=3);\rconfidence_level=0.975\rff=0.5;\rht \u0026lt;- -log10(1-confidence_level);\rpoints(c(-ff,ff), c(10,10), type=\u0026#39;h\u0026#39;, col=\u0026#39;green\u0026#39;,lwd=2);\rlines(c(abs.inf,abs.sup), c(ht,ht), col=\u0026#39;green\u0026#39;,lwd=2);\r#################################\r# Figure b\r#################################\r# Display the volcano plot on the interval [abs.inf,abs.sup]\rplot(FC,-log10(p.value),xlim=c(abs.inf,abs.sup),col=4);\r# Display the human proteins which should be identified as differentially abundant\rpoints(FC[(tabl$Organism==\u0026quot;human\u0026quot;)],-log10(p.value)[(tabl$Organism==\u0026quot;human\u0026quot;)],col=2,pch=3);\rconfidence_level=0.975; ff=0.5;\rsmoothcurve=smooth.threshold(seq(abs.inf,abs.sup,by=0.0001),\rta=qt(confidence_level,df=df),s0=ff,df=df);\rlines(smoothcurve, col=\u0026#39;green\u0026#39;,lwd=2);\r#################################\r# Figure c\r#################################\r# Display the volcano plot on the interval [abs.inf,abs.sup]\rplot(FC,-log10(p.value),xlim=c(abs.inf,abs.sup),col=4);\r# Display the human proteins which should be identified as differentially abundant\rpoints(FC[(tabl$Organism==\u0026quot;human\u0026quot;)],-log10(p.value)[(tabl$Organism==\u0026quot;human\u0026quot;)],col=2,pch=3);\rconfidence_level=0.975; ff=0.5; ht \u0026lt;- -log10(1-confidence_level)\rpoints(c(-ff,ff), c(10,10), type=\u0026#39;h\u0026#39;, col=\u0026#39;black\u0026#39;,lwd=1)\rlines(c(abs.inf,abs.sup), c(ht,ht), col=\u0026#39;black\u0026#39;,lwd=1)\rconfidence_level=0.9; ff=0.6;\rsmoothcurve=smooth.threshold(seq(abs.inf,abs.sup,by=0.0001),ta=qt(confidence_level,df=df),s0=ff,df=df);\rlines(smoothcurve, col=\u0026#39;gray\u0026#39;,lwd=1)\rconfidence_level=0.75; ff=2;\rsmoothcurve=smooth.threshold(seq(abs.inf,abs.sup,by=0.0001),ta=qt(confidence_level,df=df),s0=ff,df=df);\rlines(smoothcurve, col=\u0026#39;gray\u0026#39;,lwd=1)\rconfidence_level=0.95; ff=0.6;\rsmoothcurve=smooth.threshold(seq(abs.inf,abs.sup,by=0.0001),ta=qt(confidence_level,df=df),s0=ff,df=df);\rlines(smoothcurve, col=\u0026#39;gray\u0026#39;,lwd=1)\rconfidence_level=0.97; ff=0.15;\rsmoothcurve=smooth.threshold(seq(abs.inf,abs.sup,by=0.0001),ta=qt(confidence_level,df=df),s0=ff,df=df);\rlines(smoothcurve, col=\u0026#39;green\u0026#39;,lwd=2)\r#################################\r# Figure d\r#################################\r# Display the volcano plot on the interval [abs.inf,abs.sup]\rplot(FC,-log10(p.value),xlim=c(abs.inf,abs.sup),col=4);\r# Display the human proteins which should be identified as differentially abundant\rpoints(FC[(tabl$Organism==\u0026quot;human\u0026quot;)],-log10(p.value)[(tabl$Organism==\u0026quot;human\u0026quot;)],col=2,pch=3);\r\rUses and misuses of the fudge factor in quantitative discovery proteomicsâ†©\n\rSignificance analysis of microarrays applied to the ionizing radiation responseâ†©\n\r\r\r","date":1574812800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574812800,"objectID":"408b5260bf200288187e4e5d5c58f7ec","permalink":"/post/2019-11-27-volcano-plot/","publishdate":"2019-11-27T00:00:00Z","relpermalink":"/post/2019-11-27-volcano-plot/","section":"post","summary":"å‚è€ƒæ–‡çŒ®1,2. ç¤ºä¾‹ä»£ç : # Function to compute the smooth threshold curve smooth.threshold=function(x,ta,s0,df){ xp=x[x\u0026gt;(ta*s0)]; xn=x[x\u0026lt;(-ta*s0)]; dp=xp/ta-s0; dn=xn/(-ta)-s0; dp=s0/dp; dp=ta*(1+dp); dn=s0/dn; dn=ta*(1+dn); fp=pt(dp,df=df); fn=pt(dn,df=df); yp=-log10(2*(1-fp)); yn=-log10(2*(1-fn)); return(cbind(c(xn,xp),c(yn,yp))); } # Get data library(cp4p); data(LFQRatio2); tabl=LFQRatio2; ## Warning: package \u0026#39;cp4p\u0026#39; was built under R version 3.6.1 ## Loading required package: MESS ## Warning: package \u0026#39;MESS\u0026#39; was built under R version 3.6.1 ## Loading required","tags":["Blog","Chinese"],"title":"SAM testç”¨äºå·®å¼‚æ ‡å¿—ç‰©çš„é€‰æ‹©","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 æ¨¡å—(module)\r2 åŒ…(package)\r3 å¸¸è§„å¯¼å…¥\r4 ä½¿ç”¨fromè¯­å¥å¯¼å…¥\r5 ä½¿ç”¨asè¯­å¥\r6 æˆ‘å€¾å‘çš„æ–¹å¼\r\r\r1 æ¨¡å—(module)\ræ¨¡å—ä¸€èˆ¬æ˜¯ä¸€ä¸ªpythonæ–‡ä»¶(.py),ç›´æ¥ä½¿ç”¨importè¯­å¥å°±å¯ä»¥å¯¼å…¥ä¸€ä¸ªæ¨¡å—.\n\r2 åŒ…(package)\råŒ…æ˜¯ä¸€ä¸ªç›®å½•,å¯ä»¥ä½¿ç”¨importè¯­å¥æˆ–è€…from + importè¯­å¥æ¥å¯¼å…¥.ä¹Ÿå¯ä»¥å†åé¢åŠ ä¸Šasè¯­å¥,å°†å¯¼å…¥çš„åŒ…æˆ–è€…æ¨¡å—é‡æ–°å‘½åä¸ºå…¶ä»–çš„åå­—.\n\r3 å¸¸è§„å¯¼å…¥\rç›´æ¥ä½¿ç”¨importè¯­å¥\nä¾‹å¦‚\nimport os\ros.getcwd()\r## \u0026#39;D:\\\\my github\\\\shen\\\\content\\\\en\\\\post\\\\2019-11-26-impot-module-package\u0026#39;\rå½“ç„¶,ä¹Ÿå¯ä»¥åŒæ—¶å¯¼å…¥å¤šä¸ªåŒ….æ¯ä¸ªåŒ…ä¸­é—´ä½¿ç”¨é€—å·åˆ†éš”å¼€.\nimport os,sys,time\rä½†æ˜¯,è¿™æ ·å¯¼å…¥å¤šä¸ªåŒ…çš„æ—¶å€™,ä¸€æ–¹é¢ä¸èƒ½ä½¿ç”¨aså°†åŒ…é‡æ–°å‘½å,å¦å¤–ä¹Ÿä¸ç¬¦åˆpythonçš„ç¼–ç¨‹é£æ ¼æŒ‡å¯¼,pythonå»ºè®®ä¸€è¡Œåªå¯¼å…¥ä¸€ä¸ªåŒ….\n\r4 ä½¿ç”¨fromè¯­å¥å¯¼å…¥\rå¾ˆå¤šæ—¶å€™,å¯èƒ½åªæƒ³å¯¼å…¥åŒ…çš„æŸä¸ªæ¨¡å—.è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨fromè¯­å¥è·Ÿimportè¯­å¥è”åˆä½¿ç”¨\nfrom functools import lru_cache#åªå¯¼å…¥lru_cacheæ¨¡å—\rimport functools#å¯¼å…¥functoolsæ‰€æœ‰çš„æ¨¡å—\rè¿™æ ·å°±å¯ä»¥ç›´æ¥ä½¿ç”¨lru_cacheæ¨¡å—äº†.\nå½“ç„¶,ä¹Ÿå¯ä»¥å¯¼å…¥è¿™ä¸ªåŒ…çš„æ‰€æœ‰æ¨¡å—.\nfrom os import *\rè¿™æ ·åšæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜,å°±æ˜¯æ‰“ä¹±äº†ä½ çš„å‘½åç©ºé—´,å› ä¸ºå¾ˆæœ‰å¯èƒ½ä½ è‡ªå·±å®šä¹‰çš„å‡½æ•°æˆ–è€…å˜é‡è·Ÿä½ å¯¼å…¥çš„åŒ…ä¸­çš„æ¨¡å—åæ—¶ç›¸åŒçš„,è¿™æ—¶å€™å°±æœ‰å¯èƒ½å‘ç”Ÿå†²çª,æ‰€ä»¥å¹¶ä¸æ¨èè¿™æ ·åš.\n\r5 ä½¿ç”¨asè¯­å¥\rä½¿ç”¨asè¯­å¥å¯ä»¥å°†å¯¼å…¥çš„åŒ…æˆ–è€…æ¨¡å—é‡æ–°å‘½å,å¯¹äºé‚£äº›åŒ…åå­—æ¯”è¾ƒé•¿è€Œä¸”ä¸å¤ªå¥½æ‰“å°çš„åŒ…æ¥è¯´,éå¸¸æœ‰ç”¨.\nimport numpy as np\rimport pandas as pd\rnp.array([1,2,3])\r## array([1, 2, 3])\rtest = np.array(np.arange(9))\rtest = test.reshape((3,3))\rtest\r## array([[0, 1, 2],\r## [3, 4, 5],\r## [6, 7, 8]])\rtest2 = pd.DataFrame(test)\rtest2\r## 0 1 2\r## 0 0 1 2\r## 1 3 4 5\r## 2 6 7 8\r\r6 æˆ‘å€¾å‘çš„æ–¹å¼\rè¿˜æ˜¯ä½¿ç”¨import + asçš„æ–¹å¼æ›´åŠ å¯é ,ç„¶åä½¿ç”¨pkg_name.function()çš„æ–¹å¼è¿›è¡Œè°ƒç”¨.\n\r","date":1574726400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574726400,"objectID":"1c4f29d839b1187db05c2c6d4da31bd7","permalink":"/post/2019-11-26-impot-module-package/","publishdate":"2019-11-26T00:00:00Z","relpermalink":"/post/2019-11-26-impot-module-package/","section":"post","summary":"1 æ¨¡å—(module) 2 åŒ…(package) 3 å¸¸è§„å¯¼å…¥ 4 ä½¿ç”¨fromè¯­å¥å¯¼å…¥ 5 ä½¿ç”¨asè¯­å¥ 6 æˆ‘å€¾å‘çš„æ–¹å¼ 1 æ¨¡å—(module) æ¨¡å—ä¸€èˆ¬æ˜¯ä¸€ä¸ª","tags":["Blog","Chinese"],"title":"PythonåŒ…åŠæ¨¡å—çš„å¯¼å…¥","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 å®‰è£…\r2 Numpyä¸­çš„æ•°æ®æ ¼å¼\r3 Numpy arrayåŸºç¡€\r3.1 Arrayçš„å±æ€§\r3.2 Arrayç´¢å¼•:è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ \r3.3 Arrayåˆ‡ç‰‡:è·å¾—ä¸€ä¸ªsubarray\r3.3.1 ä¸€ç»´array\r3.3.2 å¤šç»´array\r\r3.4 é‡å¡‘arrayçš„å½¢çŠ¶\r3.5 Arrayçš„åˆå¹¶å’Œåˆ†è£‚(Concatenation and Splitting)\r3.5.1 åˆå¹¶array\r3.5.2 åˆ†å‰²array\r\r\r4 åœ¨Numpy arrayä¸Šè¿›è¡Œè¿ç®—\r4.1 Universal Functions(UFuncs)\r4.2 é¢å‘æ•°ç»„çš„ç¼–ç¨‹\r4.2.1 Expressing Conditional Logic as Array Operations\r4.2.2 Numpyä¸­çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•\r4.2.3 æ’åº(sorting)\r4.2.4 Unique and Other Set Logic\r4.2.5 arrayæ•°æ®çš„è¾“å…¥å’Œçš„è¾“å‡º\r\r\r\r\r1 å®‰è£…\råœ¨ç»ˆç«¯ä¸­è¾“å…¥:\npip install numpy\rè°ƒç”¨numpy\nimport numpy as np\rnp.__version__\r## \u0026#39;1.16.4\u0026#39;\r\r2 Numpyä¸­çš„æ•°æ®æ ¼å¼\r\r\r\r\rData type\rDescription\r\r\r\rbool_ Boolean\r(True or False) stored as a byte\r\rint_ Default\rinteger type (same as C long; normally either int64 or int32)\r\rintc\rIdentical to C int (normally int32 or int64)\r\rintp\rInteger used for indexing (same as C ssize_t; normally either int32 or int64)\r\rint8\rByte (â€“128 to 127)\r\rint16\rInteger (â€“32768 to 32767)\r\rint32\rInteger (â€“2147483648 to 2147483647)\r\rint64\rInteger (â€“9223372036854775808 to 9223372036854775807)\r\ruint8\rUnsigned integer (0 to 255)\r\ruint16\rUnsigned integer (0 to 65535)\r\ruint32\rUnsigned integer (0 to 4294967295)\r\ruint64\rUnsigned integer (0 to 18446744073709551615)\r\rfloat_\rShorthand for float64\r\rfloat16\rHalf-precision float: sign bit, 5 bits exponent, 10 bits mantissa\r\rfloat32\rSingle-precision float: sign bit, 8 bits exponent, 23 bits mantissa\r\rfloat64\rDouble-precision float: sign bit, 11 bits exponent, 52 bits mantissa\r\rcomplex_\rShorthand for complex128\r\rcomplex64\rComplex number, represented by two 32-bit floats\r\rcomplex128\rComplex number, represented by two 64-bit floats\r\r\r\r\r3 Numpy arrayåŸºç¡€\r3.1 Arrayçš„å±æ€§\rå…ˆç”Ÿæˆä¸‰ä¸ªä¸åŒçš„array,ä¸€ç»´,äºŒç»´å’Œä¸‰ç»´array.\nimport numpy as np\rnp.random.seed(0)#è®¾ç½®seed,ä¿è¯é‡å¤æ€§\rx1 = np.random.randint(10, size = 6)#ä¸€ç»´\rx2 = np.random.randint(10, size = (3, 4))#äºŒç»´\rx3 = np.random.randint(10, size = (3, 4, 5))#ä¸‰ç»´\rx1\r## array([5, 0, 3, 3, 7, 9])\rx2\r## array([[3, 5, 2, 4],\r## [7, 6, 8, 8],\r## [1, 6, 7, 7]])\rx3\r## array([[[8, 1, 5, 9, 8],\r## [9, 4, 3, 0, 3],\r## [5, 0, 2, 3, 8],\r## [1, 3, 3, 3, 7]],\r## ## [[0, 1, 9, 9, 0],\r## [4, 7, 3, 2, 7],\r## [2, 0, 0, 4, 5],\r## [5, 6, 8, 4, 1]],\r## ## [[4, 9, 8, 1, 1],\r## [7, 9, 9, 3, 6],\r## [7, 2, 0, 3, 5],\r## [9, 4, 4, 6, 4]]])\ræ¯ä¸€ä¸ªarrayéƒ½æœ‰ndim,shapeå’Œsizeå±æ€§.\nprint(x1.ndim, x1.shape, x1.size)\r## 1 (6,) 6\rprint(x2.ndim, x2.shape, x2.size)\r## 2 (3, 4) 12\rprint(x3.ndim, x3.shape, x3.size)\r## 3 (3, 4, 5) 60\rä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹å‡ºæ¥è¿™ä¸‰ä¸ªå±æ€§åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ„æ€.\n\rndimå±æ€§:è¯¥æ•°æ®æ˜¯å‡ ç»´æ•°æ®.\n\rshapeå±æ€§:è¯¥æ•°æ®æ¯ä¸ªç»´åº¦çš„å¤§å°,è¿™ä¸ªå¯ä»¥çœ‹ä½œæ˜¯Rä¸­çš„dim()å‡½æ•°å¾—åˆ°çš„å†…å®¹.\n\rsizeå±æ€§:è¯¥æ•°æ®çš„æ€»çš„cellæ•°ç›®.\n\r\rdtypeå±æ€§æ˜¯æŒ‡arrayçš„æ•°æ®ç±»å‹.\nprint(x1.dtype, x2.dtype, x3.dtype)\r## int32 int32 int32\r\r3.2 Arrayç´¢å¼•:è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´ \rarrayçš„ç´¢å¼•è·Ÿpythonä¸­å†…ç½®çš„åˆ—è¡¨éå¸¸åƒ,å¯ä»¥ä½¿ç”¨ä½ç½®ç´¢å¼•,ä½†æ˜¯åŒæ ·æ³¨æ„ä»0å¼€å§‹ç®—èµ·.\nx1\r## array([5, 0, 3, 3, 7, 9])\rx1[0]\r## 5\rx1[-1]#å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ \r## 9\rå¯¹äºå¤šç»´,æ¯”å¦‚äºŒç»´array,åˆ™è·ŸRä¸­çš„æ•°æ®æ¡†ç±»ä¼¼,ä½¿ç”¨é€—å·åˆ†å¼€è¡Œå’Œåˆ—çš„ç´¢å¼•.\nx2\r## array([[3, 5, 2, 4],\r## [7, 6, 8, 8],\r## [1, 6, 7, 7]])\rx2[0,0]\r## 3\rx2[0,0] = 10\rx2\r## array([[10, 5, 2, 4],\r## [ 7, 6, 8, 8],\r## [ 1, 6, 7, 7]])\rx2[0,0]\r## 10\r\r3.3 Arrayåˆ‡ç‰‡:è·å¾—ä¸€ä¸ªsubarray\rç±»ä¼¼äºåˆ—è¡¨,å¯ä»¥è¿™æ ·åˆ‡ç‰‡:\nlist[startğŸ”šstep]\réœ€è¦å¼ºè°ƒä¸€æ¬¡å†,å–å‡ºçš„subarrayä¸åŒ…æ‹¬end.\n3.3.1 ä¸€ç»´array\rx = np.arange(10)\rx\r## array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\rx[:5]#å‰äº”ä¸ªå…ƒç´ \r## array([0, 1, 2, 3, 4])\rx[4:7]#å‰äº”ä¸ªå…ƒç´ \r## array([4, 5, 6])\rx[::2]#å‰äº”ä¸ªå…ƒç´ \r## array([0, 2, 4, 6, 8])\rx[::-1]#å°†arrayåå‘æ’åˆ—\r## array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])\r\r3.3.2 å¤šç»´array\rå¤šç»´æ•°ç»„è·Ÿä¸€è‡´æ•°ç»„ä¸€æ ·,åªæ˜¯éœ€è¦ä½¿ç”¨é€—å·æŠŠä¸åŒç»´åº¦çš„åˆ‡ç‰‡åˆ†å¼€å³å¯.\narray[startğŸ”šstep,start:end;step]\rx2\r## array([[10, 5, 2, 4],\r## [ 7, 6, 8, 8],\r## [ 1, 6, 7, 7]])\rx2[1:3, 1:3]\r## array([[6, 8],\r## [6, 7]])\rx2[::-1, ::-1]\r## array([[ 7, 7, 6, 1],\r## [ 8, 8, 6, 7],\r## [ 4, 2, 5, 10]])\rå¦‚æœå¯¹äºè¡Œæˆ–è€…åˆ—åªå–å‡ºä¸€ä¸ª,ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µå‘¢?\nx2\r## array([[10, 5, 2, 4],\r## [ 7, 6, 8, 8],\r## [ 1, 6, 7, 7]])\rx2[1:3, 0]\r## array([7, 1])\rx2[1:3, 0].ndim\r## 1\rå¯ä»¥çœ‹åˆ°,é™ç»´äº†.\n\r\r3.4 é‡å¡‘arrayçš„å½¢çŠ¶\rarrayçš„å½¢çŠ¶,ä¸Šé¢ç®€å•ä»‹ç»äº†,æŒ‡çš„å°±æ˜¯æ•°ç»„çš„å„ä¸ªç»´åº¦çš„å¤§å°.æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯reshapeæ–¹æ³•.\ngrid = np.arange(1, 10)\rgrid\r## array([1, 2, 3, 4, 5, 6, 7, 8, 9])\rgrid.reshape((3,3))\r## array([[1, 2, 3],\r## [4, 5, 6],\r## [7, 8, 9]])\r\r3.5 Arrayçš„åˆå¹¶å’Œåˆ†è£‚(Concatenation and Splitting)\r3.5.1 åˆå¹¶array\rå°†ä¸¤ä¸ªarrayåˆå¹¶ä¸ºä¸€ä¸ªarray,å¯ä»¥ä½¿ç”¨å‡½æ•°concatenate,æ˜¯numpyä¸­çš„å‡½æ•°.\nx = np.array([1, 2, 3])\ry = np.array([3, 2, 1])\rz = [99, 99, 99]\rnp.concatenate([x, y, z])\r## array([ 1, 2, 3, 3, 2, 1, 99, 99, 99])\rå¯ä»¥çœ‹åˆ°,éœ€è¦å°†arrayæ”¾åœ¨ä¸€ä¸ªlist(ä¸­æ‹¬å·)ä¸­.\nè¿˜å¯ä»¥ç”¨äºäºŒç»´arrayçš„åˆå¹¶.\ngrid = np.array([[1, 2, 3],\r[4, 5, 6]])\rgrid\r## array([[1, 2, 3],\r## [4, 5, 6]])\rnp.concatenate([grid, grid])\r## array([[1, 2, 3],\r## [4, 5, 6],\r## [1, 2, 3],\r## [4, 5, 6]])\rå¯ä»¥çœ‹åˆ°,è¿™æ ·ç±»ä¼¼äºRä¸­çš„æ•°æ®åº“çš„rbindåŠŸèƒ½,å°†arrayæŒ‰ç…§åˆ—è¿›è¡Œåˆå¹¶.\né‚£ä¹ˆå¦‚ä½•å®ç°cbindæ•ˆæœå‘¢?\nnp.concatenate([grid, grid], axis=1)\r## array([[1, 2, 3, 1, 2, 3],\r## [4, 5, 6, 4, 5, 6]])\rå…¶å®è¿˜å¯ä»¥ä½¿ç”¨æ›´ä¸ºå½¢è±¡çš„å‡½æ•°,np.vstack(ç›¸å½“äºRä¸­çš„rbind),å’Œnp.hstack(ç›¸å½“äºRä¸­çš„cbind).\nx = np.array([1, 2, 3])\rgrid = np.array([[9, 8, 7],\r[6, 5, 4]])\rnp.vstack([x, grid])\r## array([[1, 2, 3],\r## [9, 8, 7],\r## [6, 5, 4]])\ry = np.array([[99],\r[99]])\rnp.hstack([grid, y])\r## array([[ 9, 8, 7, 99],\r## [ 6, 5, 4, 99]])\r\r3.5.2 åˆ†å‰²array\råˆ†å‰²arrayæœ‰å‡ ä¸ªå‡½æ•°.\nnp.split,np.hsplit,å’Œnp.vsplit.çœ‹å‡ ä¸ªä¾‹å­å°±æ˜ç™½äº†.\nx = [1, 2, 3, 99, 99, 3, 2, 1]\rx\r## [1, 2, 3, 99, 99, 3, 2, 1]\rx1, x2, x3 = np.split(x, [3, 5])\rx1\r## array([1, 2, 3])\rx2\r## array([99, 99])\rx3\r## array([3, 2, 1])\rå¯¹äºå‡½æ•°split,ç¬¬ä¸€å‚æ•°æ˜¯è¦åˆ†å‰²çš„åˆ—è¡¨,ç¬¬äºŒä¸ªå‚æ•°éœ€è¦æ˜¯ä¸€ä¸ªlist,ä»£è¡¨ä»å“ªåˆ†å‰²,æ¯”å¦‚è¿™é‡Œé¢çš„[3,5],å°±ä»£è¡¨ç€å°†åˆ—è¡¨åˆ†å‰²ä¸ºä¸‰æ®µ,åˆ†åˆ«æ˜¯[:3],[3:5],[5:].\nåŒæ ·å¯¹äºhsplitå’Œvsplitä¹Ÿå°±æ¯”è¾ƒå¥½ç†è§£äº†,åˆ†åˆ«æ˜¯å¯¹å¤šç»´arrayè¿›è¡Œå‚ç›´å’Œæ°´å¹³åˆ‡å‰².\ngrid = np.arange(16).reshape((4, 4))\rgrid\r## array([[ 0, 1, 2, 3],\r## [ 4, 5, 6, 7],\r## [ 8, 9, 10, 11],\r## [12, 13, 14, 15]])\rupper, lower = np.vsplit(grid, [2])\rprint(upper)\r## [[0 1 2 3]\r## [4 5 6 7]]\rprint(lower)\r## [[ 8 9 10 11]\r## [12 13 14 15]]\rleft, right = np.hsplit(grid, [2])\rprint(left)\r## [[ 0 1]\r## [ 4 5]\r## [ 8 9]\r## [12 13]]\rprint(right)\r## [[ 2 3]\r## [ 6 7]\r## [10 11]\r## [14 15]]\r\r\r\r4 åœ¨Numpy arrayä¸Šè¿›è¡Œè¿ç®—\rå¯¹arrayè¿›è¡Œè¿ç®—æœ‰ä¸€ç‚¹éå¸¸é‡è¦,å°±æ˜¯è¿›è¡Œå‘é‡åŒ–æ“ä½œ(vectorized operations),è·ŸRä¸€æ ·.è¿™æ ·çš„å¥½å¤„æ—¶å¯ä»¥æé«˜è¿ç®—é€Ÿåº¦.\n4.1 Universal Functions(UFuncs)\rä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­,ç»™å®šä¸€ç»„æ•°,è®¡ç®—æ¯ä¸ªæ•°çš„å€’æ•°.å¦‚æœç”¨ä»¥å‰çš„æ€ç»´,é‚£ä¹ˆåº”è¯¥å¯¹æ¯ä¸€ä¸ªæ•°åˆ†åˆ«è®¡ç®—å€’æ•°,ç„¶åå¾ªç¯.ä½†æ˜¯å…¶å®å¤§å¯ä¸å¿….\nimport numpy as np\rvalues = np.arange(1,10)\rvalues\r## array([1, 2, 3, 4, 5, 6, 7, 8, 9])\r1/values\r## array([1. , 0.5 , 0.33333333, 0.25 , 0.2 ,\r## 0.16666667, 0.14285714, 0.125 , 0.11111111])\rè¿™åœ¨Rä¸­çš„åŸºç¡€æ•°æ®æ ¼å¼,å‘é‡ä¸­å°±å¯ä»¥è¿è¡Œçš„,ä½†æ˜¯å¯¹pythonçš„åŸºç¡€æ•°æ®æ ¼å¼,åˆ—è¡¨å’Œtupleæ˜¯ä¸å¯ä»¥çš„.\nlist(range(1,10))\r# 1/list(range(1,10))\r## [1, 2, 3, 4, 5, 6, 7, 8, 9]\rä¹Ÿå°±æ˜¯è¯´åˆ—è¡¨æ˜¯ä¸æ”¯æŒå‘é‡åŒ–æ“ä½œçš„,åªæœ‰åœ¨numpyçš„arrayä¸Šæ‰å¯ä»¥.\næ‰€ä»¥,å¯ä»¥å°†numpyä¸­çš„ä¸€ç»´arrayæƒ³è±¡æˆæ˜¯Rä¸­çš„å‘é‡,è¿™æ ·å°±å¥½è®°ä½å¤šäº†.\né‚£ä¹ˆ,åŒæ ·çš„,ä¸¤ä¸ªä¸€ç»´arrayä¹Ÿå¯ä»¥åƒRå‘é‡ä¸€æ ·,åšå‘é‡åŒ–çš„æ“ä½œ.æ¯”å¦‚+,Ã·ç­‰.ä½†æ˜¯ä¸¤ä¸ªarrayçš„é•¿åº¦å¿…é¡»ç›¸ç­‰,å¦åˆ™æŠ¥é”™.\nnp.arange(1,10)/np.arange(2,11)\r## array([0.5 , 0.66666667, 0.75 , 0.8 , 0.83333333,\r## 0.85714286, 0.875 , 0.88888889, 0.9 ])\rnp.arange(1,10) + np.arange(2,11)\r## array([ 3, 5, 7, 9, 11, 13, 15, 17, 19])\rnp.arange(1,10) - np.arange(2,11)\r## array([-1, -1, -1, -1, -1, -1, -1, -1, -1])\rå½“ç„¶,å‘é‡åŒ–çš„æ“ä½œå¹¶ä¸å±€é™äºä¸€ç»´çš„array,å¯¹äºäºŒç»´çš„arrayåŒæ ·é€‚ç”¨,åªè¦å°†å…¶å¯¹æ¯”ä¸ºRä¸­çš„æ•°æ®æ¡†å³å¯.å½“ç„¶,ä¹Ÿå¯ä»¥äºŒç»´å’Œä¸€ç»´æ“ä½œ,è¿™æ—¶å€™æ˜¯æŒ‰ç…§æ¯è¡Œéƒ½å¯¹åŒä¸€ä¸ªä¸€ç»´arrayåˆ†åˆ«æ“ä½œè¿›è¡Œçš„.\ntest = np.arange(1,10)\rtest = test.reshape((3,3))\rtest2 = np.arange(2,11).reshape((3,3)) test3 = np.array([1,2,3])\rtest\r## array([[1, 2, 3],\r## [4, 5, 6],\r## [7, 8, 9]])\rtest2\r## array([[ 2, 3, 4],\r## [ 5, 6, 7],\r## [ 8, 9, 10]])\rtest3\r## array([1, 2, 3])\rtest + test2\r## array([[ 3, 5, 7],\r## [ 9, 11, 13],\r## [15, 17, 19]])\rtest/test2\r## array([[0.5 , 0.66666667, 0.75 ],\r## [0.8 , 0.83333333, 0.85714286],\r## [0.875 , 0.88888889, 0.9 ]])\rtest/test3\r## array([[1. , 1. , 1. ],\r## [4. , 2.5, 2. ],\r## [7. , 4. , 3. ]])\rå†æ¥çœ‹ä¸€ä¸ªä¾‹å­:\nimport numpy as np\rx = np.random.randn(8)\ry = np.random.randn(8)\rx\r## array([ 1.25441407, 1.41910204, -0.74385608, -2.5174371 , -1.50709602,\r## 1.14907613, -1.19357825, 1.14104245])\ry\r## array([ 1.50944508, 1.06777513, -0.68658948, 0.01487332, -0.3756659 ,\r## -0.03822364, 0.36797447, -0.0447237 ])\rnp.maximum(x, y)\r## array([ 1.50944508, 1.41910204, -0.68658948, 0.01487332, -0.3756659 ,\r## 1.14907613, 0.36797447, 1.14104245])\rå¯ä»¥çœ‹åˆ°,np.maximum()å‡½æ•°å¯¹ä¸¤ä¸ªarrayçš„åŒä¸€ä½ç½®ä¸Šçš„æ•°å–æœ€å¤§å€¼,è¿”å›ä¸è¾“å…¥arrayé•¿åº¦ç›¸åŒçš„array.\nå¦‚æœä¸¤ä¸ªarrayé•¿åº¦ä¸åŒ,åˆ™æŠ¥é”™.\nå¸¸è§çš„æ¥å—ä¸€ä¸ªarrayçš„ufuncs:\n\r\r\r\rFunction\rDescription\r\r\r\rabs,fabs\rCompute the absolute value element-wise for integer, floating-point, or complex values\r\rsqrt\rCompute the square root of each element (equivalent to arr ** 0.5)\r\rsquare\rCompute the square of each element (equivalent to arr ** 2)\r\rexp\rCompute the exponent ex of each element\r\rlog, log10, log2, log1p\rNatural logarithm (base e), log base 10, log base 2, and log(1 + x), respectively\r\rsign\rCompute the sign of each element: 1 (positive), 0 (zero), or â€“1 (negative)\r\rceil\rCompute the ceiling of each element (i.e., the smallest integer greater than or equal to that\r\r\r\rnumber)\rfloor | Compute the floor of each element (i.e., the largest integer less than or equal to each element)\rrint | Round elements to the nearest integer, preserving the dtype\rmodf | Return fractional and integral parts of array as a separate array\risnan | Return boolean array indicating whether each value is NaN (Not a Number)\risfinite, isinf | Return boolean array indicating whether each element is finite (non-inf, non-NaN) or infinite,\rrespectively\rcos, cosh,sin,sinh,tan,tanh | Regular and hyperbolic trigonometric functions\rarccos, arccosh, arcsin, arcsinh, arctan, arctanh | Inverse trigonometric functions logical_not Compute truth value of not x element-wise (equivalent to ~arr).\nå¸¸è§çš„æ¥å—ä¸¤ä¸ªarrayçš„ufuncs:\n\r\rFunction\rDescription\r\r\r\radd\rAdd corresponding elements in arrays\r\rsubtract\rSubtract elements in second array from first array\r\rmultiply\rMultiply array elements\r\rdivide, floor_divide\rDivide or floor divide (truncating the remainder)\r\rpower\rRaise elements in first array to powers indicated in second array\r\rmaximum, fmax\rElement-wise maximum; fmax ignores NaN\r\rminimum, fmin\rElement-wise minimum; fmin ignores NaN\r\rmod\rElement-wise modulus (remainder of division)\r\r\r\rcopysign Copy sign of values in second argument to values in first argument\rgreater, greater_equal, less, less_equal, equal, not_equal | Perform element-wise comparison, yielding boolean array (equivalent to infix operators \u0026gt;, \u0026gt;=, \u0026lt;, \u0026lt;=, ==, !=)\rlogical_and, logical_or, logical_xor | Compute element-wise truth value of logical operation (equivalent to infix operators \u0026amp; |, ^)\n\r4.2 é¢å‘æ•°ç»„çš„ç¼–ç¨‹\rä¸€èˆ¬æ¥è¯´,ä½¿ç”¨å‘é‡åŒ–æ“ä½œ,ä¼šæ¯”loopå¾ªç¯è‡³å°‘å¿«ä¸Šä¸€ä¸ªæ•°é‡çº§.\n4.2.1 Expressing Conditional Logic as Array Operations\rimport numpy as np\rxarr = np.array([1.1, 1.2, 1.3, 1.4, 1.5])\ryarr = np.array([2.1, 2.2, 2.3, 2.4, 2.5])\rcond = np.array([True, False, True, True, False])\rresult = [(x if c else y) for x, y, c in zip(xarr, yarr, cond)]\rresult\r## [1.1, 2.2, 1.3, 1.4, 2.5]\rè¿™ç§åŠæ³•é—®é¢˜å¾ˆå¤š.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨np.where()å‡½æ•°æ¥åš.\nresult = np.where(cond, xarr, yarr)\rresult\r## array([1.1, 2.2, 1.3, 1.4, 2.5])\rarr = np.random.randn(4, 4)\rarr\r## array([[-0.30237513, -2.2244036 , 0.72400636, 0.35900276],\r## [ 1.07612104, 0.19214083, 0.85292596, 0.01835718],\r## [ 0.42830357, 0.99627783, -0.49114966, 0.71267817],\r## [ 1.11334035, -2.15367459, -0.41611148, -1.07089699]])\rarr \u0026gt; 0\r## array([[False, False, True, True],\r## [ True, True, True, True],\r## [ True, True, False, True],\r## [ True, False, False, False]])\rnp.where(arr \u0026gt; 2, 2, -2)\r## array([[-2, -2, -2, -2],\r## [-2, -2, -2, -2],\r## [-2, -2, -2, -2],\r## [-2, -2, -2, -2]])\rnp.where(arr \u0026gt; 0, 2, arr)\r## array([[-0.30237513, -2.2244036 , 2. , 2. ],\r## [ 2. , 2. , 2. , 2. ],\r## [ 2. , 2. , -0.49114966, 2. ],\r## [ 2. , -2.15367459, -0.41611148, -1.07089699]])\rnp.random.randn()å‡½æ•°ç”¨æ¥éšæœºäº§ç”ŸäºŒç»´çš„array.\n\r4.2.2 Numpyä¸­çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•\réšæœºäº§ç”Ÿæ­£æ€åˆ†å¸ƒæ•°æ®.\narr = np.random.randn(5, 4)\rarr\r## array([[ 0.22113881, -1.12305712, -1.05075796, 1.01207905],\r## [ 1.54371643, -0.40211489, 0.8647491 , -0.22686923],\r## [ 0.81116027, 0.28779461, -0.53846816, 1.9084621 ],\r## [-0.475776 , 1.44073112, -1.14907568, 0.80571455],\r## [ 1.75610703, 0.97297991, -1.55111911, 0.19114348]])\rarr.mean()\r## 0.2649269161929305\rnp.mean(arr)\r## 0.2649269161929305\rarr.max()\r## 1.9084621003056945\rnp.max(arr)\r## 1.9084621003056945\rarr.min()\r## -1.5511191116398637\rnp.min(arr)\r## -1.5511191116398637\rarr.sum()\r## 5.298538323858611\rnp.sum(arr)\r## 5.298538323858611\rå¯¹äºè¿™äº›æ–¹æ³•,éƒ½æœ‰ä¸€ä¸ªå‚æ•°,axis,ç”¨æ¥æŒ‡ç¤ºæ˜¯å¦æŒ‰è¡Œæˆ–è€…æŒ‰åˆ—è¿›è¡Œè®¡ç®—.0ä»£è¡¨æŒ‰è¡Œ,1ä»£è¡¨æŒ‰åˆ—.\narr.mean(axis=0)\r## array([ 0.77126931, 0.23526673, -0.68493436, 0.73810599])\rarr.mean(axis=1)\r## array([-0.2351493 , 0.44487035, 0.61723721, 0.1553985 , 0.34227783])\rarr = np.array([0, 1, 2, 3, 4, 5, 6, 7])\rarr\r## array([0, 1, 2, 3, 4, 5, 6, 7])\rarr.cumsum()#ç´¯ä¹˜\r## array([ 0, 1, 3, 6, 10, 15, 21, 28], dtype=int32)\rarr = np.array([[0, 1, 2], [3, 4, 5], [6, 7, 8]])\rarr\r## array([[0, 1, 2],\r## [3, 4, 5],\r## [6, 7, 8]])\rarr.cumsum(axis=0)\r## array([[ 0, 1, 2],\r## [ 3, 5, 7],\r## [ 9, 12, 15]], dtype=int32)\rarr.cumsum(axis=1)\r## array([[ 0, 1, 3],\r## [ 3, 7, 12],\r## [ 6, 13, 21]], dtype=int32)\rarrayå¸¸ç”¨ç»Ÿè®¡æ–¹æ³•æ€»ç»“\n\r\r\r\rMethod\rmeaning\r\r\r\rsum\rSum of all the elements in the array or along an axis; zero-length arrays have sum 0\r\rmean\rArithmetic mean; zero-length arrays have NaN mean\r\rstd, var\rStandard deviation and variance, respectively, with optional degrees of freedom adjustment (default\r\r\r\rdenominator n)\rmin, max | Minimum and maximum\rargmin, argmax | Indices of minimum and maximum elements, respectively\rcumsum | Cumulative sum of elements starting from 0\rcumprod | Cumulative product of elements starting from 1\n\r4.2.3 æ’åº(sorting)\rä½¿ç”¨sortæ–¹æ³•æ¥å¯¹arrayè¿›è¡Œæ’åº.\narr = np.random.randn(6)\rarr\r## array([ 1.60477607, -1.42002593, -2.44378268, -2.05633855, -0.99225755,\r## 1.01128532])\rarr.sort()\rarr\r## array([-2.44378268, -2.05633855, -1.42002593, -0.99225755, 1.01128532,\r## 1.60477607])\rarr = np.random.randn(5, 3)\rarr\r## array([[ 1.40044008, -0.65499168, -0.25579069],\r## [-0.71438561, -0.50083877, 0.05564534],\r## [-0.48896178, -0.37992245, 0.25973465],\r## [-1.68134864, -0.91679481, -0.1192241 ],\r## [-0.44627728, -2.14335544, 0.01003777]])\rarr.sort(axis=0)\rarr.sort(axis=1)\r\r4.2.4 Unique and Other Set Logic\rnames = np.array([\u0026#39;Bob\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Will\u0026#39;, \u0026#39;Bob\u0026#39;, \u0026#39;Will\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Joe\u0026#39;])\rnames\r## array([\u0026#39;Bob\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Will\u0026#39;, \u0026#39;Bob\u0026#39;, \u0026#39;Will\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Joe\u0026#39;], dtype=\u0026#39;\u0026lt;U4\u0026#39;)\rnp.unique(names)\r## array([\u0026#39;Bob\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Will\u0026#39;], dtype=\u0026#39;\u0026lt;U4\u0026#39;)\rsorted(names)\r## [\u0026#39;Bob\u0026#39;, \u0026#39;Bob\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Will\u0026#39;, \u0026#39;Will\u0026#39;]\rsorted(set(names))\r## [\u0026#39;Bob\u0026#39;, \u0026#39;Joe\u0026#39;, \u0026#39;Will\u0026#39;]\ræ€»ç»“\n\r\r\r\rFunctions\rmeaning\r\r\r\runique(x)\rCompute the sorted, unique elements in x\r\rintersect1d(x, y)\rCompute the sorted, common elements in x and y\r\runion1d(x, y)\rCompute the sorted union of elements\r\rin1d(x, y)\rCompute a boolean array indicating whether each element of x is contained in y\r\rsetdiff1d(x, y)\rSet difference, elements in x that are not in y\r\rsetxor1d(x, y)\rSet symmetric differences; elements that are in either of the arrays, but not both\r\r\r\r\r4.2.5 arrayæ•°æ®çš„è¾“å…¥å’Œçš„è¾“å‡º\rè·ŸRçš„saveå’Œloadæ¯”è¾ƒåƒ.\narr = np.arange(10)\rarr\r## array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\rnp.save(file=\u0026#39;some_array\u0026#39;, arr=arr)\ré»˜è®¤çš„åç¼€æ°‘ä¸º.npy.ç„¶åå¯ä»¥ä½¿ç”¨np.load()å‡½æ•°load.\nnp.load(\u0026#39;some_array.npy\u0026#39;)\r## array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\r\r\r\r","date":1574553600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574553600,"objectID":"fe845c62a5cf24cc157bb529dc2c5882","permalink":"/post/2019-11-24-python-numpy-summary/","publishdate":"2019-11-24T00:00:00Z","relpermalink":"/post/2019-11-24-python-numpy-summary/","section":"post","summary":"1 å®‰è£… 2 Numpyä¸­çš„æ•°æ®æ ¼å¼ 3 Numpy arrayåŸºç¡€ 3.1 Arrayçš„å±æ€§ 3.2 Arrayç´¢å¼•:è·å¾—å…¶ä¸­å•ä¸ªå…ƒç´  3.3 Arrayåˆ‡ç‰‡:è·å¾—ä¸€ä¸ªsubarra","tags":["Blog","Chinese"],"title":"Python NumPyåŒ…æ€»ç»“","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 å®‰è£…pandas\r2 Pandasæ•°æ®ç»“æ„ä»‹ç»\r2.1 series\r2.2 DataFrame(æ•°æ®æ¡†)\r2.2.1 æ•°æ®æ¡†çš„ç´¢å¼•å’Œåˆ‡ç‰‡æ“ä½œ\r\r2.3 ç´¢å¼•(index)å¯¹è±¡\r2.3.1 Index as immutable array\r2.3.2 indexä½œä¸ºä¸€ä¸ªæœ‰é¡ºåºçš„set\r\r\r3 ç´¢å¼•å’Œé€‰æ‹©\r3.1 Seriesä¸­çš„æ•°æ®é€‰æ‹©\r3.1.1 seriesä½œä¸ºå­—å…¸\r3.1.2 seriesä½œä¸ºä¸€ç»´çš„array\r3.1.3 ç´¢å¼•å™¨(indexers):loc,ilocå’Œix\r\r3.2 æ•°æ®æ¡†ä¸­çš„æ•°æ®é€‰æ‹©\r3.2.1 å°†æ•°æ®åº“çœ‹ä½œå­—å…¸\r3.2.2 å°†æ•°æ®æ¡†ä½œä¸ºäºŒç»´çš„array\r\r\r4 Pandasä¸­çš„æ•°æ®æ“ä½œ\r4.1 Index alignment in Series\r4.2 Index alignment in DataFrame\r4.3 æ•°æ®æ¡†å’Œseriesä¹‹é—´çš„æ“ä½œ\r\r5 å¯¼å…¥æ•°æ®\r\r\rnumpyå’Œpandasæ˜¯ä½¿ç”¨pythonè¿›è¡Œæ•°æ®åˆ†æçš„ä¸¤ä¸ªåŸºæœ¬å·¥å…·ã€‚numpyåœ¨çº¿æ€§ä»£æ•°ä¸­è¿ç”¨è¾ƒå¤šï¼Œè€Œpandasåˆ™æ›´å¤šçš„ç”¨æ¥åˆ†æè¡¨ç»“æ„çš„æ•°æ®ã€‚numpyä¸pandaséƒ½æœ‰ä¸€ç»´å’ŒäºŒç»´æ•°æ®ç»“æ„ã€‚\n1 å®‰è£…pandas\rä½¿ç”¨pipå¯ä»¥å¿«é€Ÿçš„å®‰è£…pandas.\nåœ¨ç»ˆç«¯è¿›è¡Œæ“ä½œ.\npip install pandas\rimport pandas as pd\réœ€è¦åŒæ—¶å®‰è£…numpyåŒ….\nè€Œå·²æŸ¥çœ‹æ¯ä¸ªåŒ…çš„ç‰ˆæœ¬.\npd.__version__\r## \u0026#39;0.24.2\u0026#39;\r\r2 Pandasæ•°æ®ç»“æ„ä»‹ç»\r2.1 series\rseriesæ˜¯ä¸€ç»´æ•°ç»„,ç±»ä¼¼äºRä¸­çš„å‘é‡.å¯ä»¥ä½¿ç”¨Series()å‡½æ•°æ„å»º.å¯ä»¥å°†åˆ—è¡¨æˆ–è€…å­—å…¸è½¬å˜ä¸ºseries.åœ¨å­—å…¸ä¸­,é”®æ˜¯æ²¡æœ‰é¡ºåºçš„,ä½†æ˜¯è½¬å˜ä¸ºseriesä¹‹å,å°±æ˜¯æœ‰é¡ºåºçš„äº†.ä¸ä»…å¯ä»¥æŒ‰ç…§åå­—æ¥ç´¢å¼•,ä¹Ÿå¯ä»¥æŒ‰ç…§é¡ºåºæ¥ç´¢å¼•äº†.è¿™æ ·è·ŸRä¸­çš„å‘é‡æ›´åŠ ç±»ä¼¼äº†.\ndata = pd.Series([1,2,3,4])\rdata\r## 0 1\r## 1 2\r## 2 3\r## 3 4\r## dtype: int64\rpopulation_dict = {\u0026#39;California\u0026#39;: 38332521,\r\u0026#39;Texas\u0026#39;: 26448193,\r\u0026#39;New York\u0026#39;: 19651127,\r\u0026#39;Florida\u0026#39;: 19552860,\r\u0026#39;Illinois\u0026#39;: 12882135}\rdata3 = pd.Series(population_dict)\rdata3\r## California 38332521\r## Texas 26448193\r## New York 19651127\r## Florida 19552860\r## Illinois 12882135\r## dtype: int64\rdata3[0]\r## 38332521\rä»–æ˜¯è‡ªå¸¦ç´¢å¼•çš„.ç¬¬ä¸€â€œåˆ—â€æ˜¯ç´¢å¼•,ç¬¬äºŒåˆ—æ˜¯value.åˆ†åˆ«éƒ½æ˜¯ä»–çš„å±æ€§.å› æ­¤å¯ä»¥è®¿é—®.\né»˜è®¤çš„ç´¢å¼•æ˜¯æ•°å­—ç´¢å¼•,ä»0å¼€å§‹,å½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç´¢å¼•.\ndata2 = pd.Series([0,1,2,3], index=[\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;])\rdata2\r## a 0\r## b 1\r## c 2\r## d 3\r## dtype: int64\rindex = data.index\rvalue = data.values\rindex\r## RangeIndex(start=0, stop=4, step=1)\rvalue\r## array([1, 2, 3, 4], dtype=int64)\rtype(index)\r## \u0026lt;class \u0026#39;pandas.core.indexes.range.RangeIndex\u0026#39;\u0026gt;\rtype(value)\r## \u0026lt;class \u0026#39;numpy.ndarray\u0026#39;\u0026gt;\rè·ŸRä¸­çš„å‘é‡ä¸€æ ·,å¯ä»¥é€šè¿‡ä¸­æ‹¬å·,æ¥ç´¢å¼•,åˆ‡ç‰‡series.å¯¹äºç´¢å¼•ä¸ºæ–‡å­—çš„,è¿˜æ”¯æŒæ–‡å­—è¿ç»­ç´¢å¼•.\ndata[0]\r## 1\rdata[1:3]\r## 1 2\r## 2 3\r## dtype: int64\rdata2[\u0026#39;a\u0026#39;]\r## 0\rdata3[\u0026#39;California\u0026#39;:\u0026#39;Illinois\u0026#39;]\r## California 38332521\r## Texas 26448193\r## New York 19651127\r## Florida 19552860\r## Illinois 12882135\r## dtype: int64\r\r2.2 DataFrame(æ•°æ®æ¡†)\ræ•°æ®æ¡†å°±è·ŸRä¸­çš„æ•°æ®æ¡†æˆ–è€…è¯´matrixå°±æ›´åƒäº†.æ˜¯äºŒç»´æ•°æ®.\nåˆ›å»ºæ•°æ®æ¡†.å¯ä»¥ä»å­—å…¸è½¬å˜è€Œæ¥.\narea_dict = {\u0026#39;California\u0026#39;: 423967, \u0026#39;Texas\u0026#39;: 695662, \u0026#39;New York\u0026#39;: 141297,\r\u0026#39;Florida\u0026#39;: 170312, \u0026#39;Illinois\u0026#39;: 149995}\rarea = pd.Series(area_dict)\rarea\r## California 423967\r## Texas 695662\r## New York 141297\r## Florida 170312\r## Illinois 149995\r## dtype: int64\rdata3\r## California 38332521\r## Texas 26448193\r## New York 19651127\r## Florida 19552860\r## Illinois 12882135\r## dtype: int64\rarea\r## California 423967\r## Texas 695662\r## New York 141297\r## Florida 170312\r## Illinois 149995\r## dtype: int64\rtype(data3)\r## \u0026lt;class \u0026#39;pandas.core.series.Series\u0026#39;\u0026gt;\rtype(area)\r## \u0026lt;class \u0026#39;pandas.core.series.Series\u0026#39;\u0026gt;\rstates = pd.DataFrame({\u0026#39;population\u0026#39;: data3,\r\u0026#39;area\u0026#39;: area})\rstates\r## population area\r## California 38332521 423967\r## Texas 26448193 695662\r## New York 19651127 141297\r## Florida 19552860 170312\r## Illinois 12882135 149995\rè¿™æ˜¯ä¸€ä¸ªä¸¤åˆ—çš„æ•°æ®æ¡†,å…¶ä¸­åˆ—åå°±æ˜¯åŸæ¥å­—å…¸çš„é”®.\næ•°æ®æ¡†ä¹Ÿæœ‰indexå’Œvalueå±æ€§.\nstates.index\r## Index([\u0026#39;California\u0026#39;, \u0026#39;Texas\u0026#39;, \u0026#39;New York\u0026#39;, \u0026#39;Florida\u0026#39;, \u0026#39;Illinois\u0026#39;], dtype=\u0026#39;object\u0026#39;)\rstates.values\r## array([[38332521, 423967],\r## [26448193, 695662],\r## [19651127, 141297],\r## [19552860, 170312],\r## [12882135, 149995]], dtype=int64)\rstates.columns\r## Index([\u0026#39;population\u0026#39;, \u0026#39;area\u0026#39;], dtype=\u0026#39;object\u0026#39;)\rcolumnså±æ€§å¯ä»¥çœ‹ä½œæ˜¯æ•°æ®æ¡†çš„åˆ—å,è€Œindexå±æ€§å¯ä»¥çœ‹ä½œæ˜¯å…¶è¡Œå.\n2.2.1 æ•°æ®æ¡†çš„ç´¢å¼•å’Œåˆ‡ç‰‡æ“ä½œ\rå¦‚ä½•å¯¹æ•°æ®æ¡†è¿›è¡Œç´¢å¼•å’Œæ“ä½œå‘¢?\nå–å‡ºæ•°æ®æ¡†çš„è¡Œ.\nç›´æ¥ç”¨ä¸­æ‹¬å·ç„¶åç”¨æ•°å­—åŠ å†’å·å³å¯.å’Œpythonå…¶ä»–éƒ¨åˆ†ä¸€æ ·,åŒ…æ‹¬å·¦åŠéƒ¨åˆ†,ä¸åŒ…æ‹¬å³åŠéƒ¨åˆ†.å–å‡ºè¡Œä¹‹å,è¿˜æ˜¯ä¸€ä¸ªæ•°æ®æ¡†.ä¸ä¼šå­˜åœ¨é™ç»´.\nstates[0:1]\r## population area\r## California 38332521 423967\rstates[0:2]\r## population area\r## California 38332521 423967\r## Texas 26448193 695662\rtype(states[0:1])\r## \u0026lt;class \u0026#39;pandas.core.frame.DataFrame\u0026#39;\u0026gt;\rå–å‡ºæ•°æ®æ¡†çš„åˆ—.\nstates[\u0026quot;area\u0026quot;]\r## California 423967\r## Texas 695662\r## New York 141297\r## Florida 170312\r## Illinois 149995\r## Name: area, dtype: int64\rtype(states[\u0026quot;area\u0026quot;])\r## \u0026lt;class \u0026#39;pandas.core.series.Series\u0026#39;\u0026gt;\rå¦‚æœå–å‡ºæŸä¸€åˆ—,éœ€è¦ä½¿ç”¨åˆ—åè¿›è¡Œæå–,å¹¶ä¸”æå–ä¹‹å,ç›´æ¥é™ç»´,å˜æˆäº†series.\nè·Ÿä¸ºå¤æ‚çš„åˆ‡ç‰‡æ“ä½œ,éœ€è¦ä½¿ç”¨æ•°æ®æ¡†çš„å±æ€§,locå’Œiloc.\rlocå’Œilocçš„ä¸åŒåœ¨äºå‰è€…ç”¨åˆ—åå’Œè¡Œåæ¥è¿›è¡Œåˆ‡ç‰‡å’Œç´¢å¼•,è€Œåè€…åˆ™ä½¿ç”¨index.\rlocåé¢éœ€è¦è·Ÿç€ä¸­æ‹¬å·,ç„¶åç¬¬ä¸€ä¸ªå‚æ•°ç”¨æ¥æè¿°.\nå¦‚æœåªé€‰æ‹©ä¸€è¡Œæˆ–è€…ä¸€åˆ—,æˆ–è€…æ˜¯è¿ç»­çš„åˆ‡ç‰‡(ä¸­é—´ç”¨å†’å·),æ˜¯å¯ä»¥ä¸å†™ä¸ºåˆ—è¡¨æ ¼å¼,ä½†æ˜¯å¦‚æœæ˜¯å¤šä¸ªè¯,éœ€è¦ç”¨åˆ—è¡¨å½¢å¼.\nstates.loc\r## \u0026lt;pandas.core.indexing._LocIndexer object at 0x00000000521F5318\u0026gt;\rstates.loc[\u0026quot;California\u0026quot;, [\u0026quot;area\u0026quot;]]\r## area 423967\r## Name: California, dtype: int64\rtype(states.loc[\u0026quot;California\u0026quot;, [\u0026quot;area\u0026quot;]])\r## \u0026lt;class \u0026#39;pandas.core.series.Series\u0026#39;\u0026gt;\rstates.loc[\u0026quot;California\u0026quot;:\u0026quot;Texas\u0026quot;, [\u0026quot;area\u0026quot;]]\r## area\r## California 423967\r## Texas 695662\rtype(states.loc[\u0026quot;California\u0026quot;:\u0026quot;Texas\u0026quot;, [\u0026quot;area\u0026quot;]])\r## \u0026lt;class \u0026#39;pandas.core.frame.DataFrame\u0026#39;\u0026gt;\rstates.iloc\r## \u0026lt;pandas.core.indexing._iLocIndexer object at 0x00000000533D84A8\u0026gt;\rstates.iloc[0,0]\r## 38332521\rtype(states.iloc[0,0])\r## \u0026lt;class \u0026#39;numpy.int64\u0026#39;\u0026gt;\rstates.iloc[0:1,0:1]\r## population\r## California 38332521\rstates.iloc[[0,2],[0,1]]\r## population area\r## California 38332521 423967\r## New York 19651127 141297\rtype(states.iloc[[0,2],[0,1]])\r## \u0026lt;class \u0026#39;pandas.core.frame.DataFrame\u0026#39;\u0026gt;\r\r\r2.3 ç´¢å¼•(index)å¯¹è±¡\rserieså’Œæ•°æ®æ¡†æ ¼å¼éƒ½æœ‰ä¸€ä¸ªindexå¯¹è±¡,ç”¨æ¥æŒ‡ç¤ºæ•°æ®,å¯¹äºæ•°æ®æ¡†æ¥è¯´å…¶å®æ˜¯è¡Œå.\nind = pd.Index([2, 3, 5, 7, 11])\rind\r## Int64Index([2, 3, 5, 7, 11], dtype=\u0026#39;int64\u0026#39;)\rtype(ind)\r## \u0026lt;class \u0026#39;pandas.core.indexes.numeric.Int64Index\u0026#39;\u0026gt;\r2.3.1 Index as immutable array\rç´¢å¼•å¯¹è±¡å¯ä»¥åƒä¸€ä¸ªarrayä¸€æ ·æ“ä½œ.æ¯”å¦‚ç´¢å¼•å’Œåˆ‡ç‰‡.\nind\r## Int64Index([2, 3, 5, 7, 11], dtype=\u0026#39;int64\u0026#39;)\rind[0]\r## 2\rind[:2]\r## Int64Index([2, 3], dtype=\u0026#39;int64\u0026#39;)\rindexå¯¹è±¡è¿˜æœ‰å¾ˆå¤šarrayçš„å±æ€§.\nprint(ind.size, ind.shape, ind.ndim, ind.dtype)\r## 5 (5,) 1 int64\rå…¶ä¸­ndimå¯ä»¥ç”¨æ¥çœ‹æ•°æ®æ¡†çš„è¡Œæ•°å’Œåˆ—æ•°.\nä½†æ˜¯indexå¯¹è±¡çš„å€¼ä¸èƒ½å¤Ÿæ”¹å˜.è¿™ä¸€ç‚¹è·Ÿarrayæ˜¯ä¸åŒçš„.\n\r2.3.2 indexä½œä¸ºä¸€ä¸ªæœ‰é¡ºåºçš„set\rindexå¯¹è±¡å¾ˆå¤šæ—¶å€™è·Ÿpythonå†…ç½®çš„setå¯¹è±¡å¾ˆç±»ä¼¼.å¯ä»¥åšå¹¶é›†,äº¤é›†ä»¥åŠæŸ¥æ‰¾ä¸åŒç­‰æ“ä½œ.\nindA = pd.Index([1, 3, 5, 7, 9])\rindB = pd.Index([2, 3, 5, 7, 11])\rindA \u0026amp; indB # äº¤é›†\r## Int64Index([3, 5, 7], dtype=\u0026#39;int64\u0026#39;)\rindA | indB # å¹¶é›†\r## Int64Index([1, 2, 3, 5, 7, 9, 11], dtype=\u0026#39;int64\u0026#39;)\rindA ^ indB # ä¸¤ä¸ªé›†åˆä¸­äº’ä¸ç›¸åŒçš„éƒ¨åˆ†\r## Int64Index([1, 2, 9, 11], dtype=\u0026#39;int64\u0026#39;)\r\r\r\r3 ç´¢å¼•å’Œé€‰æ‹©\rå¯¹pandasä¸­çš„serieså’Œæ•°æ®æ¡†æ•°æ®åšç´¢å¼•å’Œé€‰æ‹©.ä¸Šé¢ç®€å•ä»‹ç»ä¸€äº›,è¿™é‡Œåšè¯¦ç»†çš„ç³»ç»Ÿä»‹ç».æ¯”å¦‚ç´¢å¼•(indexing),åˆ‡ç‰‡(slcing),ç­›é€‰(masking)ç­‰.\n3.1 Seriesä¸­çš„æ•°æ®é€‰æ‹©\rseriesè·Ÿpythonå†…ç½®çš„å­—å…¸éå¸¸çš„ç±»ä¼¼.ä¹Ÿè·ŸNumpyä¸­çš„arrayéå¸¸åƒ.\n3.1.1 seriesä½œä¸ºå­—å…¸\rå¯ä»¥ä½¿ç”¨é”®è¿›è¡Œé€‰æ‹©.\nimport pandas as pd\rdata = pd.Series([0.25, 0.5, 0.75, 1.0],\rindex=[\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;])\rdata[\u0026quot;a\u0026quot;]\r## 0.25\rå½“ç„¶å…¶ä»–çš„ä¸€äº›æ“ä½œä¹Ÿå¯ä»¥ç”¨äºseries.\n\u0026#39;a\u0026#39; in data\r## True\rdata.keys()\r## Index([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;, \u0026#39;d\u0026#39;], dtype=\u0026#39;object\u0026#39;)\rlist(data.items())\r## [(\u0026#39;a\u0026#39;, 0.25), (\u0026#39;b\u0026#39;, 0.5), (\u0026#39;c\u0026#39;, 0.75), (\u0026#39;d\u0026#39;, 1.0)]\rdata[\u0026quot;e\u0026quot;] = 1.25\rdata\r## a 0.25\r## b 0.50\r## c 0.75\r## d 1.00\r## e 1.25\r## dtype: float64\r\r3.1.2 seriesä½œä¸ºä¸€ç»´çš„array\rå¯ä»¥æŒ‰ç…§arrayçš„åŠæ³•å¯¹seriesè¿›è¡Œåˆ‡ç‰‡.\ndata[\u0026#39;a\u0026#39;:\u0026#39;c\u0026#39;]\r## a 0.25\r## b 0.50\r## c 0.75\r## dtype: float64\rdata[0:2]\r## a 0.25\r## b 0.50\r## dtype: float64\rdata \u0026gt; 0.3\r## a False\r## b True\r## c True\r## d True\r## e True\r## dtype: bool\rdata \u0026lt; 0.8\r## a True\r## b True\r## c True\r## d False\r## e False\r## dtype: bool\rdata + 1\r## a 1.25\r## b 1.50\r## c 1.75\r## d 2.00\r## e 2.25\r## dtype: float64\rdata[(data \u0026gt; 0.3) \u0026amp; (data \u0026lt; 0.8)]\r##ä¸è¿ç»­åˆ‡ç‰‡\r## b 0.50\r## c 0.75\r## dtype: float64\rdata[[\u0026#39;a\u0026#39;, \u0026#39;e\u0026#39;]]\r## a 0.25\r## e 1.25\r## dtype: float64\réœ€è¦æ³¨æ„çš„æ˜¯,å¦‚æœä½¿ç”¨é”®è¿›è¡Œåˆ‡ç‰‡æ“ä½œ,æœ€åä¸€ä¸ªæ˜¯åŒ…æ‹¬åœ¨æœ€ç»ˆç»“æœä¸­çš„,è€Œå¦‚æœä½¿ç”¨æ•°å­—ä½ç½®è¿›è¡Œåˆ‡ç‰‡,æœ€åä¸åŒ…æ‹¬åœ¨ç»“æœä¸­\n\r3.1.3 ç´¢å¼•å™¨(indexers):loc,ilocå’Œix\rseriesä¸­æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯,ä¹Ÿæ˜¯æ¯”è¾ƒè®©äººå›°æƒ‘çš„æ˜¯,å¦‚æœindexæ˜¯æ•°å­—,é‚£ä¹ˆç´¢å¼•çš„æ—¶å€™,ç»™å‡ºæ•°å­—,æ˜¯æŒ‰ç…§indexåå­—è¿›è¡Œç´¢å¼•çš„,ä½†æ˜¯å¦‚æœä½¿ç”¨æ•°å­—åˆ‡ç‰‡,åˆ™æ˜¯æŒ‰ç…§ä½ç½®è¿›è¡Œçš„.ä¸¾ä¸ªä¾‹å­:\ndata = pd.Series([\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;], index=[1, 3, 5])\rdata\r# explicit index when indexing\r## 1 a\r## 3 b\r## 5 c\r## dtype: object\rdata[1]\r## \u0026#39;a\u0026#39;\rdata[1:3]\r## 3 b\r## 5 c\r## dtype: object\rä¸ºäº†é¿å…åœ¨é€‰å–æ•°æ®æ—¶é€ æˆè¯¯å·®,æ‰€ä»¥seriesä¹Ÿæä¾›äº†å±æ€§:ç´¢å¼•å™¨æ¥è¿›è¡Œåˆ‡ç‰‡.\nå¯¹äºlocå±æ€§,é‡Œé¢éƒ½æ˜¯æŒ‰ç…§indexåå­—æ¥ç´¢å¼•çš„,ä¸æ˜¯ä½ç½®.\ndata.loc[1]\r## \u0026#39;a\u0026#39;\rdata.loc[1:3]\r## 1 a\r## 3 b\r## dtype: object\rdata.loc[[1,3]]\r## 1 a\r## 3 b\r## dtype: object\rå¯¹äºilocå±æ€§,åˆ™é‡Œé¢éƒ½æ˜¯æŒ‰ç…§ä½ç½®æ¥è¿›è¡Œç´¢å¼•å’Œåˆ‡ç‰‡çš„.\ndata.iloc[1]\r## \u0026#39;b\u0026#39;\rdata.iloc[1:3]\r## 3 b\r## 5 c\r## dtype: object\rç¬¬ä¸‰ä¸ªå±æ€§,ix,ä»–æ˜¯ä¸Šé¢ä¸¤ç§å±æ€§çš„æ··åˆ,å¯¹äºserieså¯¹è±¡æ¥è¯´,idxå±æ€§æ˜¯å’Œilocä¸€æ ·çš„,ä»–ä¸»è¦æ˜¯ç”¨äºæ•°æ®æ¡†å¯¹è±¡çš„.\npythonæ¨èå¤§å®¶è¿˜æ˜¯ä½¿ç”¨åå­—è¿›è¡Œç´¢å¼•å’Œåˆ‡ç‰‡(explicit is better than implicit).\n\r\r3.2 æ•°æ®æ¡†ä¸­çš„æ•°æ®é€‰æ‹©\rå¤§å¤šæ•°æƒ…å†µä¸‹,æ•°æ®æ¡†æ›´åƒæ˜¯ä¸€ä¸ªäºŒç»´çš„array,æœ‰æ—¶å€™ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯å­—å…¸.\n3.2.1 å°†æ•°æ®åº“çœ‹ä½œå­—å…¸\rarea = pd.Series({\u0026#39;California\u0026#39;: 423967, \u0026#39;Texas\u0026#39;: 695662,\r\u0026#39;New York\u0026#39;: 141297, \u0026#39;Florida\u0026#39;: 170312,\r\u0026#39;Illinois\u0026#39;: 149995})\rpop = pd.Series({\u0026#39;California\u0026#39;: 38332521, \u0026#39;Texas\u0026#39;: 26448193,\r\u0026#39;New York\u0026#39;: 19651127, \u0026#39;Florida\u0026#39;: 19552860,\r\u0026#39;Illinois\u0026#39;: 12882135})\rdata = pd.DataFrame({\u0026#39;area\u0026#39;:area, \u0026#39;pop\u0026#39;:pop})\rdata\r## area pop\r## California 423967 38332521\r## Texas 695662 26448193\r## New York 141297 19651127\r## Florida 170312 19552860\r## Illinois 149995 12882135\rdata.ndim\r## 2\rdata.columns\r## Index([\u0026#39;area\u0026#39;, \u0026#39;pop\u0026#39;], dtype=\u0026#39;object\u0026#39;)\rdata.index\r## Index([\u0026#39;California\u0026#39;, \u0026#39;Texas\u0026#39;, \u0026#39;New York\u0026#39;, \u0026#39;Florida\u0026#39;, \u0026#39;Illinois\u0026#39;], dtype=\u0026#39;object\u0026#39;)\rå¯ä»¥ç›´æ¥ä½¿ç”¨åˆ—åæ¥è·å¾—æŸä¸€åˆ—.å¾—åˆ°çš„æ˜¯serieså¯¹è±¡.\ndata[\u0026#39;area\u0026#39;]\r## California 423967\r## Texas 695662\r## New York 141297\r## Florida 170312\r## Illinois 149995\r## Name: area, dtype: int64\rtype(data[\u0026#39;area\u0026#39;])\r## \u0026lt;class \u0026#39;pandas.core.series.Series\u0026#39;\u0026gt;\rè¿˜å¯ä»¥ä½¿ç”¨å±æ€§æ ¼å¼(attribute-style)æ ¼å¼æ¥è·å¾—æŸåˆ—.\ndata.area\r## California 423967\r## Texas 695662\r## New York 141297\r## Florida 170312\r## Illinois 149995\r## Name: area, dtype: int64\rtype(data.area)\r## \u0026lt;class \u0026#39;pandas.core.series.Series\u0026#39;\u0026gt;\rå¾—åˆ°çš„ä¹Ÿæ˜¯serieså¯¹è±¡.\nä¸¤è€…å¾—åˆ°çš„æ˜¯å®Œå…¨ä¸€æ ·çš„.\ndata.area is data[\u0026#39;area\u0026#39;]\r## True\rä½†æ˜¯è¿™ç§æ–¹æ³•è¿˜æ˜¯ä¸å¤ªå¥½,æ¯”å¦‚:\nåˆ—åä¸æ˜¯string,è€Œæ˜¯æ•°å­—.\n\råˆ—åå’Œæ•°æ®æ¡†è‡ªå¸¦æ–¹æ³•æˆ–è€…å±æ€§é‡å.\n\r\rå¦‚æœåˆ—åå’Œæ–¹æ³•æœ‰å†²çª,é‚£ä¹ˆä½¿ç”¨.å¾—åˆ°çš„å°±æ˜¯æ–¹æ³•è€Œä¸æ˜¯åˆ—.\ndata.pop is data[\u0026#39;pop\u0026#39;]\r## False\rdata[\u0026#39;density\u0026#39;] = data[\u0026#39;pop\u0026#39;] / data[\u0026#39;area\u0026#39;]\rdata\r## area pop density\r## California 423967 38332521 90.413926\r## Texas 695662 26448193 38.018740\r## New York 141297 19651127 139.076746\r## Florida 170312 19552860 114.806121\r## Illinois 149995 12882135 85.883763\r\r3.2.2 å°†æ•°æ®æ¡†ä½œä¸ºäºŒç»´çš„array\rdata.values\r## array([[4.23967000e+05, 3.83325210e+07, 9.04139261e+01],\r## [6.95662000e+05, 2.64481930e+07, 3.80187404e+01],\r## [1.41297000e+05, 1.96511270e+07, 1.39076746e+02],\r## [1.70312000e+05, 1.95528600e+07, 1.14806121e+02],\r## [1.49995000e+05, 1.28821350e+07, 8.58837628e+01]])\ræˆ‘ä»¬å¯ä»¥å¯¹æ•°æ®æ¡†è¿›è¡Œç±»ä¼¼äºarrayçš„æ“ä½œ,æ¯”å¦‚å€’ç½®:\ndata.T\r## California Texas New York Florida Illinois\r## area 4.239670e+05 6.956620e+05 1.412970e+05 1.703120e+05 1.499950e+05\r## pop 3.833252e+07 2.644819e+07 1.965113e+07 1.955286e+07 1.288214e+07\r## density 9.041393e+01 3.801874e+01 1.390767e+02 1.148061e+02 8.588376e+01\rTæ˜¯ä¸€ä¸ªå±æ€§,è€Œä¸æ˜¯æ–¹æ³•,æ‰€ä»¥åé¢ä¸éœ€è¦ä½¿ç”¨æ‹¬å·.\ndata.values[0]\r## array([4.23967000e+05, 3.83325210e+07, 9.04139261e+01])\rtype(data.values[0])\r## \u0026lt;class \u0026#39;numpy.ndarray\u0026#39;\u0026gt;\rdata[\u0026#39;area\u0026#39;]\r## California 423967\r## Texas 695662\r## New York 141297\r## Florida 170312\r## Illinois 149995\r## Name: area, dtype: int64\rtype(data[\u0026#39;area\u0026#39;])\r## \u0026lt;class \u0026#39;pandas.core.series.Series\u0026#39;\u0026gt;\rè¿˜æ˜¯ä½¿ç”¨loc,ilocå’Œixå±æ€§è¿›è¡Œé€‰æ‹©æ›´åŠ é«˜æ ¡.\ndata.iloc[:3, :2]\r## area pop\r## California 423967 38332521\r## Texas 695662 26448193\r## New York 141297 19651127\rdata.loc[:\u0026#39;Illinois\u0026#39;, :\u0026#39;pop\u0026#39;]\r## area pop\r## California 423967 38332521\r## Texas 695662 26448193\r## New York 141297 19651127\r## Florida 170312 19552860\r## Illinois 149995 12882135\rixå±æ€§å…è®¸è¿›è¡Œæ··åˆåˆ‡ç‰‡,ä¹Ÿå°±æ˜¯åˆ—å’Œè¡Œåˆ†åˆ«ä½¿ç”¨æ•°å­—ä½ç½®å’Œåå­—è¿›è¡Œåˆ‡ç‰‡.\ndata.ix[:3, :\u0026#39;pop\u0026#39;]\r## area pop\r## California 423967 38332521\r## Texas 695662 26448193\r## New York 141297 19651127\r## ## D:\\software\\python\\python.exe:1: DeprecationWarning: ## .ix is deprecated. Please use\r## .loc for label based indexing or\r## .iloc for positional indexing\r## ## See the documentation here:\r## http://pandas.pydata.org/pandas-docs/stable/indexing.html#ix-indexer-is-deprecated\rdata.density\r## California 90.413926\r## Texas 38.018740\r## New York 139.076746\r## Florida 114.806121\r## Illinois 85.883763\r## Name: density, dtype: float64\rdata.density \u0026gt; 100\r## California False\r## Texas False\r## New York True\r## Florida True\r## Illinois False\r## Name: density, dtype: bool\rdata.loc[data.density \u0026gt; 100, [\u0026#39;pop\u0026#39;, \u0026#39;density\u0026#39;]]\r## pop density\r## New York 19651127 139.076746\r## Florida 19552860 114.806121\rä¹Ÿå¯ä»¥ä¿®æ”¹æ•°æ®æ¡†.\ndata.iloc[0, 2] = 90\rdata\r## area pop density\r## California 423967 38332521 90.000000\r## Texas 695662 26448193 38.018740\r## New York 141297 19651127 139.076746\r## Florida 170312 19552860 114.806121\r## Illinois 149995 12882135 85.883763\r\r\r\r4 Pandasä¸­çš„æ•°æ®æ“ä½œ\r4.1 Index alignment in Series\rimport numpy as np\rimport pandas as pd\rarea = pd.Series({\u0026#39;Alaska\u0026#39;: 1723337, \u0026#39;Texas\u0026#39;: 695662,\r\u0026#39;California\u0026#39;: 423967}, name=\u0026#39;area\u0026#39;)\rpopulation = pd.Series({\u0026#39;California\u0026#39;: 38332521, \u0026#39;Texas\u0026#39;: 26448193,\r\u0026#39;New York\u0026#39;: 19651127}, name=\u0026#39;population\u0026#39;)\rpopulation / area\r## Alaska NaN\r## California 90.413926\r## New York NaN\r## Texas 38.018740\r## dtype: float64\rarea.index | population.index\r## Index([\u0026#39;Alaska\u0026#39;, \u0026#39;California\u0026#39;, \u0026#39;New York\u0026#39;, \u0026#39;Texas\u0026#39;], dtype=\u0026#39;object\u0026#39;)\rseriesè¿˜å¯ä»¥ç›¸åŠ .\nA = pd.Series([2, 4, 6], index=[0, 1, 2])\rB = pd.Series([1, 3, 5], index=[1, 2, 3])\rA + B\r## 0 NaN\r## 1 5.0\r## 2 9.0\r## 3 NaN\r## dtype: float64\rç›¸åŠ çš„æ—¶å€™,æŒ‰ç…§åå­—ç›¸åŒçš„è¿›è¡ŒåŠ æ³•è¿ç®—,å¦‚æœåªæœ‰å…¶ä¸­ä¸€æ–¹æœ‰,é‚£ä¹ˆä¼šè¿”å›0å€¼.\nè¿˜å¯ä»¥ä½¿ç”¨æ–¹æ³•æ¥ä»£æ›¿è¿ç®—ç¬¦.\nA.add(B, fill_value=0)\r## 0 2.0\r## 1 5.0\r## 2 9.0\r## 3 5.0\r## dtype: float64\r\r4.2 Index alignment in DataFrame\råŒæ ·çš„,æ•°æ®æ¡†ä¹Ÿå¯ä»¥ç›¸åŠ ,æŒ‰ç…§è¡Œåå’Œåˆ—å.\nrng = np.random.RandomState(42)\rser = pd.Series(rng.randint(0, 10, 4))\rA = pd.DataFrame(rng.randint(0, 20, (2, 2)),\rcolumns=list(\u0026#39;AB\u0026#39;))\rA\r## A B\r## 0 6 18\r## 1 10 10\rB = pd.DataFrame(rng.randint(0, 10, (3, 3)),\rcolumns=list(\u0026#39;BAC\u0026#39;))\rB\r## B A C\r## 0 7 4 3\r## 1 7 7 2\r## 2 5 4 1\rA + B\r## A B C\r## 0 10.0 25.0 NaN\r## 1 17.0 17.0 NaN\r## 2 NaN NaN NaN\råŒæ ·å¯ä»¥ä½¿ç”¨addæ–¹æ³•.\nA.stack()\r## 0 A 6\r## B 18\r## 1 A 10\r## B 10\r## dtype: int32\rA\r## A B\r## 0 6 18\r## 1 10 10\rfill = A.stack().mean()\rfill\r## 11.0\rA.add(B, fill_value=fill)\r## A B C\r## 0 10.0 25.0 14.0\r## 1 17.0 17.0 13.0\r## 2 15.0 16.0 12.0\rlists Python operators and their equivalent Pandas object methods\n\r\rPython operator\rPandas method(s)\r\r\r\r+\radd()\r\r-\rsub(), subtract()\r\r*\rmul(), multiply()\r\r/\rtruediv(), div(), divide()\r\r//\rfloordiv()\r\r%\rmod()\r\r**\rpow()\r\r\r\r\r4.3 æ•°æ®æ¡†å’Œseriesä¹‹é—´çš„æ“ä½œ\rA = rng.randint(10, size=(3, 4))\rA\r## array([[7, 5, 1, 4],\r## [0, 9, 5, 8],\r## [0, 9, 2, 6]])\rtype(A)\r## \u0026lt;class \u0026#39;numpy.ndarray\u0026#39;\u0026gt;\rA[0]\r## array([7, 5, 1, 4])\rA - A[0]\r## array([[ 0, 0, 0, 0],\r## [-7, 4, 4, 4],\r## [-7, 4, 1, 2]])\rdf = pd.DataFrame(A, columns=list(\u0026#39;QRST\u0026#39;))\rdf\r## Q R S T\r## 0 7 5 1 4\r## 1 0 9 5 8\r## 2 0 9 2 6\rdf.iloc[0]##ç¬¬ä¸€è¡Œ\r## Q 7\r## R 5\r## S 1\r## T 4\r## Name: 0, dtype: int32\rdf - df.iloc[0]\r## Q R S T\r## 0 0 0 0 0\r## 1 -7 4 4 4\r## 2 -7 4 1 2\r\r\r5 å¯¼å…¥æ•°æ®\rå’ŒRç±»ä¼¼,å¯ä»¥ä½¿ç”¨pandasè¯»å–ä¸åŒæ ¼å¼çš„æœ¬åœ°çš„æ•°æ®.å‡½æ•°æ€»ç»“å¦‚ä¸‹:\n\r\rFunction\rMeaning\r\r\r\rread_csv()\rä»CSVæ–‡ä»¶å¯¼å…¥æ•°æ®\r\rpd.read_table(filename)\rä»é™å®šåˆ†éš”ç¬¦çš„æ–‡æœ¬æ–‡ä»¶å¯¼å…¥æ•°æ®\r\rpd.read_excel(filename)\rä»Excelæ–‡ä»¶å¯¼å…¥æ•°æ®\r\rpd.read_sql(query, connection_object)\rä»SQLè¡¨/åº“å¯¼å…¥æ•°æ®\r\rpd.read_json(json_string)\rä»JSONæ ¼å¼çš„å­—ç¬¦ä¸²å¯¼å…¥æ•°æ®\r\rpd.read_html(url)\rè§£æURLã€å­—ç¬¦ä¸²æˆ–è€…HTMLæ–‡ä»¶ï¼ŒæŠ½å–å…¶ä¸­çš„tablesè¡¨æ ¼\r\rpd.read_clipboard()\rä»ä½ çš„ç²˜è´´æ¿è·å–å†…å®¹ï¼Œå¹¶ä¼ ç»™read_table()\r\rpd.DataFrame(dict)\rä»å­—å…¸å¯¹è±¡å¯¼å…¥æ•°æ®ï¼ŒKeyæ˜¯åˆ—åï¼ŒValueæ˜¯æ•°æ®\r\r\r\rå’ŒRä¸­å‡½æ•°ä¸€æ ·,å¦‚æœæƒ³è¦çŸ¥é“æ¯ä¸ªå‡½æ•°çš„æ‰€æœ‰å‚æ•°åŠå«ä¹‰,å¯ä»¥ä½¿ç”¨help()å‡½æ•°æ¥è·å¾—.\nimport os as os\ros.getcwd()\r## \u0026#39;D:\\\\my github\\\\shen\\\\content\\\\en\\\\post\\\\2019-11-23-python-pandas-summary\u0026#39;\rtest = {\u0026quot;a\u0026quot;:1, \u0026quot;b\u0026quot;:2}\rtest\r## {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2}\rtest2 = pd.DataFrame(test, index = [1,2])\r# help(pd.DataFrame)\rtest2\r## a b\r## 1 1 2\r## 2 1 2\r\r","date":1574467200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574467200,"objectID":"cf0711d2ee48b4773b383daa4ffb472f","permalink":"/post/2019-11-23-python-pandas-summary/","publishdate":"2019-11-23T00:00:00Z","relpermalink":"/post/2019-11-23-python-pandas-summary/","section":"post","summary":"1 å®‰è£…pandas 2 Pandasæ•°æ®ç»“æ„ä»‹ç» 2.1 series 2.2 DataFrame(æ•°æ®æ¡†) 2.2.1 æ•°æ®æ¡†çš„ç´¢å¼•å’Œåˆ‡ç‰‡æ“ä½œ 2.3 ç´¢å¼•(index)å¯¹è±¡ 2.3.1 Index as immutable array 2.3.2 i","tags":["Blog","Chinese"],"title":"Python pandasåŒ…æ€»ç»“","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 å¯¹è±¡\r1.1 å¤šæ€(polymorphism)\r1.2 å¤šæ€å’Œæ–¹æ³•\r1.3 å°è£…(encapsulation)\r1.4 ç»§æ‰¿\r\r2 ç±»\r2.1 ç±»åˆ°åº•æ˜¯ä»€ä¹ˆ?\r2.2 åˆ›å»ºè‡ªå®šä¹‰ç±»\r2.3 å±æ€§,å‡½æ•°å’Œæ–¹æ³•\r2.4 éšè—\r2.5 ç±»çš„å‘½åç©ºé—´\r2.6 æŒ‡å®šè¶…ç±»\r2.7 æ·±å…¥æ¢è®¨ç»§æ‰¿\r\r\r\råœ¨æœ¬æ–‡ä¸­ï¼Œå­¦ä¹ å¦‚ä½•åˆ›å»ºå¯¹è±¡ï¼Œè¿˜å°†å­¦ä¹ å¤šæ€ã€å°è£…ã€æ–¹æ³•ã€å±æ€§ã€è¶…ç±»å’Œç»§æ‰¿ã€‚\n1 å¯¹è±¡\rå¯¹è±¡å¤§è‡´æ„å‘³ç€ä¸€ç³»åˆ—æ•°æ®ï¼ˆå±æ€§ï¼‰ä»¥åŠä¸€å¥—è®¿é—®å’Œæ“ä½œè¿™äº›æ•°æ®çš„æ–¹æ³•ã€‚ä½¿ç”¨å¯¹è±¡è€Œéå…¨å±€å˜é‡å’Œå‡½æ•°çš„åŸå› æœ‰å¤šä¸ªï¼Œä¸‹é¢åˆ—å‡ºäº†ä½¿ç”¨å¯¹è±¡çš„æœ€é‡è¦çš„å¥½å¤„ã€‚\n\rå¤šæ€:å¯å¯¹ä¸åŒç±»å‹çš„å¯¹è±¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œè€Œè¿™äº›æ“ä½œå°±åƒâ€œè¢«æ–½äº†é­”æ³•â€ä¸€æ ·èƒ½å¤Ÿæ­£å¸¸è¿è¡Œã€‚\n\rå°è£…:å¯¹å¤–éƒ¨éšè—æœ‰å…³å¯¹è±¡å·¥ä½œåŸç†çš„ç»†èŠ‚ã€‚\n\rç»§æ‰¿:å¯åŸºäºé€šç”¨ç±»åˆ›å»ºå‡ºä¸“ç”¨ç±»ã€‚\n\r\r1.1 å¤šæ€(polymorphism)\rè¿™å¤§è‡´æ„å‘³ç€å³ä¾¿ä½ ä¸çŸ¥é“å˜é‡æŒ‡å‘çš„æ˜¯å“ªç§å¯¹è±¡ï¼Œä¹Ÿèƒ½å¤Ÿå¯¹å…¶æ‰§è¡Œæ“ä½œï¼Œä¸”æ“ä½œçš„è¡Œä¸ºå°†éšå¯¹è±¡æ‰€å±çš„ç±»å‹ï¼ˆç±»ï¼‰è€Œå¼‚ã€‚è¿™è·ŸRä¸­çš„å¯¹è±¡æ˜¯ä¸€è‡´çš„,æ¯”å¦‚é€šç”¨å‡½æ•°plot()å¯ä»¥å¯¹å¤šç§ä¸åŒç§ç±»çš„å¯¹è±¡è¿›è¡Œæ“ä½œ.\n\r1.2 å¤šæ€å’Œæ–¹æ³•\rä¸å¯¹è±¡å±æ€§ç›¸å…³è”çš„å‡½æ•°ç§°ä¸ºæ–¹æ³•.æ¯”å¦‚å¯¹äºå­—ç¬¦ä¸²,åˆ—è¡¨å’Œå­—å…¸éƒ½æœ‰å¾ˆå¤šé¥­å›Šå‘.\n\u0026#39;abc\u0026#39;.count(\u0026#39;a\u0026#39;)\r## 1\r[1, 2, \u0026#39;a\u0026#39;].count(\u0026#39;a\u0026#39;)\r## 1\ræ–¹æ³•countæ—¢å¯ä»¥ç”¨ç”¨äºå­—ç¬¦ä¸²å¯¹è±¡,ä¹Ÿå¯ä»¥ç”¨äºåˆ—è¡¨å¯¹è±¡.\nåŒæ ·çš„,å¦‚æœæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«countæ–¹æ³•çš„å¯¹è±¡,æˆ‘ä»¬ä¹Ÿå¯ä»¥åƒå­—ç¬¦ä¸²å’Œåˆ—è¡¨ä¸€æ ·ä½¿ç”¨countæ–¹æ³•.\nè¿˜æœ‰,æ¯”å¦‚è¿ç®—ç¬¦+,æ—¢å¯ä»¥ç”¨äºæ•´æ•°ä¹Ÿå¯ä»¥ç”¨äºå­—ç¬¦ä¸².å¦å¤–åƒå‡½æ•°len(),ä¹Ÿéƒ½å¯ä»¥ç”¨äºä¸åŒçš„å¯¹è±¡.\n\ræ–°çš„å‡½æ•°: repr: å°†å¯¹è±¡è½¬æ¢ä¸ºä¾›è§£é‡Šå™¨è¯»å–çš„å½¢å¼.å‚è€ƒä¸‹é¢è¿æ¥:https://www.runoob.com/python/python-func-repr.html\n\r\r1.3 å°è£…(encapsulation)\rå°è£…ï¼ˆencapsulationï¼‰æŒ‡çš„æ˜¯å‘å¤–éƒ¨éšè—ä¸å¿…è¦çš„ç»†èŠ‚ã€‚\nä¸€ä¸ªç®€å•çš„ä¾‹å­:\no = OpenObject() # å¯¹è±¡å°±æ˜¯è¿™æ ·åˆ›å»ºçš„\ro.set_name(\u0026#39;Sir Lancelot\u0026#39;)\ro.get_name()\rå¦‚ä½•å°†åç§°â€œå°è£…â€åœ¨å¯¹è±¡ä¸­å‘¢ï¼Ÿæ²¡é—®é¢˜ï¼Œå°†å…¶ä½œä¸ºä¸€ä¸ªå±æ€§å³å¯ã€‚å±æ€§æ˜¯å½’å±äºå¯¹è±¡çš„å˜é‡ï¼Œå°±åƒæ–¹æ³•ä¸€æ ·ã€‚å®é™…ä¸Šï¼Œæ–¹æ³•å·®ä¸å¤šå°±æ˜¯ä¸å‡½æ•°ç›¸å…³è”çš„å±æ€§.\nå¯¹è±¡çš„æ–¹æ³•å¯èƒ½ä¿®æ”¹è¿™äº›å±æ€§ï¼Œå› æ­¤å¯¹è±¡å°†ä¸€ç³»åˆ—å‡½æ•°ï¼ˆæ–¹æ³•ï¼‰ç»„åˆèµ·æ¥ï¼Œå¹¶èµ‹äºˆå®ƒä»¬è®¿é—®ä¸€äº›å˜é‡ï¼ˆå±æ€§ï¼‰çš„æƒé™ï¼Œè€Œå±æ€§å¯ç”¨äºåœ¨ä¸¤æ¬¡å‡½æ•°è°ƒç”¨ä¹‹é—´å­˜å‚¨å€¼ã€‚\n\r1.4 ç»§æ‰¿\rå¦‚æœä½ å·²ç»æœ‰äº†ä¸€ä¸ªç±»ï¼Œå¹¶è¦åˆ›å»ºä¸€ä¸ªä¸ä¹‹å¾ˆåƒçš„ç±»ï¼ˆå¯èƒ½åªæ˜¯æ–°å¢äº†å‡ ä¸ªæ–¹æ³•ï¼‰ï¼Œè¯¥å¦‚ä½•åŠå‘¢ï¼Ÿåˆ›å»ºè¿™ä¸ªæ–°ç±»æ—¶ï¼Œä½ ä¸æƒ³å¤åˆ¶æ—§ç±»çš„ä»£ç ï¼Œå°†å…¶ç²˜è´´åˆ°æ–°ç±»ä¸­ã€‚\nä¾‹å¦‚ï¼Œä½ å¯èƒ½å·²ç»æœ‰äº†ä¸€ä¸ªåä¸ºShapeçš„ç±»ï¼Œå®ƒçŸ¥é“å¦‚ä½•å°†è‡ªå·±ç»˜åˆ¶åˆ°å±å¹•ä¸Šã€‚ç°åœ¨ä½ æƒ³åˆ›å»ºä¸€ä¸ªåä¸ºRectangleçš„ç±»ï¼Œä½†å®ƒä¸ä»…çŸ¥é“å¦‚ä½•å°†è‡ªå·±ç»˜åˆ¶åˆ°å±å¹•ä¸Šï¼Œè€Œä¸”è¿˜çŸ¥é“å¦‚ä½•è®¡ç®—å…¶é¢ç§¯ã€‚ä½ ä¸æƒ³é‡æ–°ç¼–å†™æ–¹æ³•drawï¼Œå› ä¸ºShapeå·²ç»æœ‰ä¸€ä¸ªè¿™æ ·çš„æ–¹æ³•ï¼Œä¸”æ•ˆæœå¾ˆå¥½ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•åŠå‘¢ï¼Ÿè®©Rectangleç»§æ‰¿Shapeçš„æ–¹æ³•ï¼Œä½¿å¾—å¯¹Rectangleå¯¹è±¡è°ƒç”¨æ–¹æ³•drawæ—¶ï¼Œå°†è‡ªåŠ¨è°ƒç”¨Shapeç±»çš„è¿™ä¸ªæ–¹æ³•.\n\r\r2 ç±»\r2.1 ç±»åˆ°åº•æ˜¯ä»€ä¹ˆ?\ræœ¬ä¹¦å‰é¢åå¤æåˆ°äº†ç±»ï¼Œå¹¶å°†å…¶ç”¨ä½œç±»å‹çš„åŒä¹‰è¯ã€‚ä»å¾ˆå¤šæ–¹é¢æ¥è¯´ï¼Œè¿™æ­£æ˜¯ç±»çš„å®šä¹‰â€“ä¸€ç§å¯¹è±¡ã€‚æ¯ä¸ªå¯¹è±¡éƒ½å±äºç‰¹å®šçš„ç±»ï¼Œå¹¶è¢«ç§°ä¸ºè¯¥ç±»çš„å®ä¾‹ã€‚\nä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨çª—å¤–çœ‹åˆ°ä¸€åªé¸Ÿï¼Œè¿™åªé¸Ÿå°±æ˜¯â€œé¸Ÿç±»â€çš„ä¸€ä¸ªå®ä¾‹ã€‚é¸Ÿç±»æ˜¯ä¸€ä¸ªéå¸¸é€šç”¨ï¼ˆæŠ½è±¡ï¼‰çš„ç±»ï¼Œå®ƒæœ‰å¤šä¸ªå­ç±»ï¼šä½ çœ‹åˆ°çš„é‚£åªé¸Ÿå¯èƒ½å±äºå­ç±»â€œäº‘é›€â€ã€‚ä½ å¯å°†â€œé¸Ÿç±»â€è§†ä¸ºç”±æ‰€æœ‰é¸Ÿç»„æˆçš„é›†åˆï¼Œè€Œâ€œäº‘é›€â€æ˜¯å…¶ä¸€ä¸ªå­é›†ã€‚ä¸€ä¸ªç±»çš„å¯¹è±¡ä¸ºå¦ä¸€ä¸ªç±»çš„å¯¹è±¡çš„å­é›†æ—¶ï¼Œå‰è€…å°±æ˜¯åè€…çš„å­ç±»ã€‚å› æ­¤â€œäº‘é›€â€ä¸ºâ€œé¸Ÿç±»â€çš„å­ç±»ï¼Œè€Œâ€œé¸Ÿç±»â€ä¸ºâ€œäº‘é›€â€çš„è¶…ç±»ã€‚\né€šè¿‡è¿™æ ·çš„é™ˆè¿°ï¼Œå­ç±»å’Œè¶…ç±»å°±å¾ˆå®¹æ˜“ç†è§£ã€‚ä½†åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œå­ç±»å…³ç³»æ„å‘³æ·±é•¿ï¼Œå› ä¸ºç±»æ˜¯ç”±å…¶æ”¯æŒçš„æ–¹æ³•å®šä¹‰çš„ã€‚ç±»çš„æ‰€æœ‰å®ä¾‹éƒ½æœ‰è¯¥ç±»çš„æ‰€æœ‰æ–¹æ³•ï¼Œå› æ­¤å­ç±»çš„æ‰€æœ‰å®ä¾‹éƒ½æœ‰è¶…ç±»çš„æ‰€æœ‰æ–¹æ³•ã€‚æœ‰é‰´äºæ­¤ï¼Œè¦å®šä¹‰å­ç±»ï¼Œåªéœ€å®šä¹‰å¤šå‡ºæ¥çš„æ–¹æ³•ï¼ˆè¿˜å¯èƒ½é‡å†™ä¸€äº›æ—¢æœ‰çš„æ–¹æ³•ï¼‰ã€‚\rä¾‹å¦‚ï¼ŒBirdç±»å¯èƒ½æä¾›æ–¹æ³•flyï¼Œè€ŒPenguinç±»ï¼ˆBirdçš„ä¸€ä¸ªå­ç±»ï¼‰å¯èƒ½æ–°å¢æ–¹æ³•eat_fishã€‚åˆ›å»ºPenguinç±»æ—¶ï¼Œä½ è¿˜å¯èƒ½æƒ³é‡å†™è¶…ç±»çš„æ–¹æ³•ï¼Œå³æ–¹æ³•flyã€‚é‰´äºä¼é¹…ä¸èƒ½é£ï¼Œå› æ­¤åœ¨Penguinçš„å®ä¾‹ä¸­ï¼Œæ–¹æ³•flyåº”ä»€ä¹ˆéƒ½ä¸åšæˆ–å¼•å‘å¼‚å¸¸ï¼ˆå‚è§ç¬¬8ç« ï¼‰ã€‚\n\r2.2 åˆ›å»ºè‡ªå®šä¹‰ç±»\rä¸€ä¸ªç®€å•çš„ä¾‹å­.\n__metaclass__ = type # å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Python 2ï¼Œè¯·åŒ…å«è¿™è¡Œä»£ç \rclass Person:\rdef set_name(self, name):\rself.name = name\rdef get_name(self):\rreturn self.name\rdef greet(self):\rprint(\u0026quot;Hello, world! I\u0026#39;m {}.\u0026quot;.format(self.name))\rè¿™ä¸ªç¤ºä¾‹åŒ…å«ä¸‰ä¸ªæ–¹æ³•å®šä¹‰ï¼Œå®ƒä»¬ç±»ä¼¼äºå‡½æ•°å®šä¹‰ï¼Œä½†ä½äºclassè¯­å¥å†…ã€‚Personå½“ç„¶æ˜¯ç±»çš„åç§°.ä½¿ç”¨classè¯­å¥æ¥åˆ›å»ºè‡ªå®šä¹‰ç±»,å¹¶ä¸”åˆ›å»ºäº†ç‹¬ç«‹çš„å‘½åç©ºé—´,ç”¨äºåœ¨å…¶ä¸­å®šä¹‰å‡½æ•°.\né‚£ä¹ˆå‚æ•°selfæ˜¯ä»€ä¹ˆå‘¢?ä»–æŒ‡å‘å¯¹è±¡æœ¬èº«.é‚£ä¹ˆé‚£ä¸ªæ˜¯å¯¹è±¡å‘¢?\nä¸‹é¢é€šè¿‡åˆ›å»ºä¸¤ä¸ªå®ä¾‹æ¥è¯´æ˜è¿™ä¸€ç‚¹.\nfoo = Person()\rbar = Person()\rfoo.set_name(\u0026#39;Luke Skywalker\u0026#39;)\rbar.set_name(\u0026#39;Anakin Skywalker\u0026#39;)\rfoo.greet()\r## Hello, world! I\u0026#39;m Luke Skywalker.\rbar.greet()\r## Hello, world! I\u0026#39;m Anakin Skywalker.\rå¯¹fooè°ƒç”¨set_nameå’Œgreetæ—¶ï¼Œfooéƒ½ä¼šä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°è‡ªåŠ¨ä¼ é€’ç»™å®ƒä»¬ã€‚æˆ‘å°†è¿™ä¸ªå‚æ•°å‘½åä¸ºselfï¼Œè¿™éå¸¸è´´åˆ‡ã€‚å®é™…ä¸Šï¼Œå¯ä»¥éšä¾¿ç»™è¿™ä¸ª\rå‚æ•°å‘½åï¼Œä½†é‰´äºå®ƒæ€»æ˜¯æŒ‡å‘å¯¹è±¡æœ¬èº«ï¼Œå› æ­¤ä¹ æƒ¯ä¸Šå°†å…¶å‘½åä¸ºselfã€‚\næ˜¾ç„¶ï¼Œselfå¾ˆæœ‰ç”¨ï¼Œç”šè‡³å¿…ä¸å¯å°‘ã€‚å¦‚æœæ²¡æœ‰å®ƒï¼Œæ‰€æœ‰çš„æ–¹æ³•éƒ½æ— æ³•è®¿é—®å¯¹è±¡æœ¬èº«â€”â€”è¦æ“ä½œçš„å±æ€§æ‰€å±çš„å¯¹è±¡ã€‚ä¸ä»¥å‰ä¸€æ ·ï¼Œä¹Ÿå¯ä»¥ä»å¤–éƒ¨è®¿é—®è¿™äº›å±æ€§ã€‚\nfoo.name\r## \u0026#39;Luke Skywalker\u0026#39;\rbar.name\r## \u0026#39;Anakin Skywalker\u0026#39;\r\r2.3 å±æ€§,å‡½æ•°å’Œæ–¹æ³•\rå®é™…ä¸Šï¼Œæ–¹æ³•å’Œå‡½æ•°çš„åŒºåˆ«è¡¨ç°åœ¨å‰ä¸€èŠ‚æåˆ°çš„å‚æ•°selfä¸Šã€‚æ–¹æ³•ï¼ˆæ›´å‡†ç¡®åœ°è¯´æ˜¯å…³è”çš„æ–¹æ³•ï¼‰å°†å…¶ç¬¬ä¸€ä¸ªå‚æ•°å…³è”åˆ°å®ƒæ‰€å±çš„å®ä¾‹ï¼Œå› æ­¤æ— éœ€æä¾›è¿™ä¸ªå‚æ•°ã€‚æ— ç–‘å¯ä»¥å°†å±æ€§å…³è”åˆ°ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œä½†è¿™æ ·å°±æ²¡æœ‰ç‰¹æ®Šçš„selfå‚æ•°äº†ã€‚\næˆ‘ä»¬å†çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­:\nclass Class:\rdef method(self):\rprint(\u0026#39;I have a self!\u0026#39;)\rdef function():\rprint(\u0026quot;I don\u0026#39;t...\u0026quot;)\ræˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªå«åšClassçš„ç±»,ç„¶åç»™å…¶åˆ›å»ºäº†ä¸€ä¸ªå«åšmethodçš„æ–¹æ³•.å¦å¤–,æˆ‘ä»¬è¿˜åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°,å«åšfunction.\ninstance = Class()\rinstance.method()\r## I have a self!\rç„¶ååˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å®ä¾‹,ç„¶åè°ƒç”¨methodæ–¹æ³•.\næˆ‘ä»¬è¿˜å¯ä»¥æŠŠè¯¥å®ä¾‹çš„æ–¹æ³•ä¿®æ”¹ä¸ºå¦å¤–çš„æ–¹æ³•.\ninstance.method = function\rinstance.method()\r## I don\u0026#39;t...\r\r2.4 éšè—\ré»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»å¤–éƒ¨è®¿é—®å¯¹è±¡çš„å±æ€§.\nclass Bird:\rname = \u0026#39;Bird\u0026#39;\rsong = \u0026#39;Squaawk!\u0026#39;\rdef sing(self):\rprint(self.song)\rtest = Bird() test.name\r## \u0026#39;Bird\u0026#39;\rtest.song\r## \u0026#39;Squaawk!\u0026#39;\rå¯ä»¥çœ‹åˆ°,åœ¨classä¸‹é¢,å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ–¹å¼æ¥å®šä¹‰ç±»çš„å±æ€§.é‚£ä¹ˆå¦‚ä½•å°†ç±»çš„å±æ€§å®šä¹‰ä¸ºç§æœ‰,ä»è€Œåœ¨å¤–éƒ¨æ— æ³•è®¿é—®å‘¢?ç§æœ‰å±æ€§ä¸èƒ½ä»å¯¹è±¡å¤–éƒ¨è®¿é—®ï¼Œè€Œåªèƒ½é€šè¿‡å­˜å–å™¨æ–¹æ³•ï¼ˆå¦‚get_nameå’Œset_nameï¼‰æ¥è®¿é—®ã€‚\nè¦è®©æ–¹æ³•æˆ–å±æ€§æˆä¸ºç§æœ‰çš„ï¼ˆä¸èƒ½ä»å¤–éƒ¨è®¿é—®ï¼‰ï¼Œåªéœ€è®©å…¶åç§°ä»¥ä¸¤ä¸ªä¸‹åˆ’çº¿æ‰“å¤´å³å¯ã€‚\nä¸¾ä¸ªç®€å•ä¾‹å­:\nclass Secretive:\rdef __inaccessible(self):\rprint(\u0026quot;Bet you can\u0026#39;t see me ...\u0026quot;)\rdef accessible(self):\rprint(\u0026quot;The secret message is:\u0026quot;)\rself.__inaccessible()\rç°åœ¨ä»å¤–éƒ¨ä¸èƒ½è®¿é—®__inaccessibleï¼Œä½†åœ¨ç±»ä¸­ï¼ˆå¦‚accessibleä¸­ï¼‰ä¾ç„¶å¯ä»¥ä½¿ç”¨å®ƒã€‚\ns = Secretive()\rs.accessible()\r## The secret message is:\r## Bet you can\u0026#39;t see me ...\rs._Secretive__inaccessible()\r## Bet you can\u0026#39;t see me ...\ræ€»ä¹‹ï¼Œä½ æ— æ³•ç¦æ­¢åˆ«äººè®¿é—®å¯¹è±¡çš„ç§æœ‰æ–¹æ³•å’Œå±æ€§ï¼Œä½†è¿™ç§åç§°ä¿®æ”¹æ–¹å¼å‘å‡ºäº†å¼ºçƒˆçš„ä¿¡å·ï¼Œè®©ä»–ä»¬ä¸è¦è¿™æ ·åšã€‚\n\r2.5 ç±»çš„å‘½åç©ºé—´\rä¸‹é¢ä¸¤æ¡è¯­å¥å¤§è‡´ç­‰ä»·ï¼š\ndef foo(x): return x * x\rfoo = lambda x: x * x\rå®ƒä»¬éƒ½åˆ›å»ºä¸€ä¸ªè¿”å›å‚æ•°å¹³æ–¹çš„å‡½æ•°ï¼Œå¹¶å°†è¿™ä¸ªå‡½æ•°å…³è”åˆ°å˜é‡fooã€‚å¯ä»¥åœ¨å…¨å±€ï¼ˆæ¨¡å—ï¼‰ä½œç”¨åŸŸå†…å®šä¹‰åç§°fooï¼Œä¹Ÿå¯ä»¥åœ¨å‡½æ•°æˆ–æ–¹æ³•å†…å®šä¹‰ã€‚å®šä¹‰ç±»æ—¶æƒ…å†µäº¦å¦‚æ­¤ï¼šåœ¨classè¯­å¥ä¸­å®šä¹‰çš„ä»£ç éƒ½æ˜¯åœ¨ä¸€ä¸ªç‰¹æ®Šçš„å‘½åç©ºé—´ï¼ˆç±»çš„å‘½åç©ºé—´ï¼‰å†…æ‰§è¡Œçš„ï¼Œè€Œç±»çš„æ‰€æœ‰æˆå‘˜éƒ½å¯è®¿é—®è¿™ä¸ªå‘½\råç©ºé—´ã€‚ç±»å®šä¹‰å…¶å®å°±æ˜¯è¦æ‰§è¡Œçš„ä»£ç æ®µï¼Œå¹¶éæ‰€æœ‰çš„Pythonç¨‹åºå‘˜éƒ½çŸ¥é“è¿™ä¸€ç‚¹ï¼Œä½†çŸ¥é“è¿™ä¸€ç‚¹å¾ˆæœ‰å¸®åŠ©ã€‚\næ¯ä¸ªå®ä¾‹éƒ½å¯è®¿é—®è¿™ä¸ªç±»ä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œå°±åƒæ–¹æ³•ä¸€æ ·ã€‚\n\r2.6 æŒ‡å®šè¶…ç±»\ræœ¬ç« å‰é¢è®¨è®ºè¿‡ï¼Œå­ç±»æ‰©å±•äº†è¶…ç±»çš„å®šä¹‰ã€‚è¦æŒ‡å®šè¶…ç±»ï¼Œå¯åœ¨classè¯­å¥ä¸­çš„ç±»åååŠ ä¸Šè¶…ç±»åï¼Œå¹¶å°†å…¶ç”¨åœ†æ‹¬å·æ‹¬èµ·ã€‚\nclass Filter:\rdef init(self):\rself.blocked = []\rdef filter(self, sequence):\rreturn [x for x in sequence if x not in self.blocked]\rclass SPAMFilter(Filter): # SPAMFilteræ˜¯Filterçš„å­ç±»\rdef init(self): # é‡å†™è¶…ç±»Filterçš„æ–¹æ³•init\rself.blocked = [\u0026#39;SPAM\u0026#39;]\r\r2.7 æ·±å…¥æ¢è®¨ç»§æ‰¿\rè¦ç¡®å®šä¸€ä¸ªç±»æ˜¯å¦æ˜¯å¦ä¸€ä¸ªç±»çš„å­ç±»ï¼Œå¯ä½¿ç”¨å†…ç½®å‡½æ•°issubclassã€‚\nå¦‚æœä½ æœ‰ä¸€ä¸ªç±»ï¼Œå¹¶æƒ³çŸ¥é“å®ƒçš„åŸºç±»ï¼Œå¯è®¿é—®å…¶ç‰¹æ®Šå±æ€§__bases__ã€‚\nåŒæ ·ï¼Œè¦ç¡®å®šå¯¹è±¡æ˜¯å¦æ˜¯ç‰¹å®šç±»çš„å®ä¾‹ï¼Œå¯ä½¿ç”¨isinstanceã€‚\nå¦‚æœä½ è¦è·æ‚‰å¯¹è±¡å±äºå“ªä¸ªç±»ï¼Œå¯ä½¿ç”¨å±æ€§__class__ã€‚\n\r\r","date":1574467200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574467200,"objectID":"854c247bb9c3525e6e39c9c493ea0613","permalink":"/post/2019-11-23-python-object/","publishdate":"2019-11-23T00:00:00Z","relpermalink":"/post/2019-11-23-python-object/","section":"post","summary":"1 å¯¹è±¡ 1.1 å¤šæ€(polymorphism) 1.2 å¤šæ€å’Œæ–¹æ³• 1.3 å°è£…(encapsulation) 1.4 ç»§æ‰¿ 2 ç±» 2.1 ç±»åˆ°åº•æ˜¯ä»€ä¹ˆ? 2.2 åˆ›å»ºè‡ªå®šä¹‰ç±» 2.3 å±æ€§,å‡½æ•°","tags":["Blog","Chinese"],"title":"Pythonä¸­å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰å¯¹è±¡","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 è‡ªå®šä¹‰å‡½æ•°\r1.1 ç»™å‡½æ•°ç¼–å†™æ–‡æ¡£\r1.2 ä½œç”¨åŸŸ\r1.3 å…³é”®å­—å‚æ•°å’Œé»˜è®¤å€¼\r1.4 æ”¶é›†å‚æ•°\r1.5 åˆ†é…å‚æ•°\r\r2 ä½œç”¨åŸŸ\r3 å‡½æ•°å¼ç¼–ç¨‹\r3.1 lambdaè¡¨è¾¾å¼\r3.2 redunce()å‡½æ•°ä¼šå¯¹å‚æ•°åºåˆ—ä¸­å…ƒç´ è¿›è¡Œç´¯ç§¯ã€‚\r\r4 æ€»ç»“\r\r\r1 è‡ªå®šä¹‰å‡½æ•°\rPythonä¸­ä½¿ç”¨defè¯­å¥æ¥åˆ›å»ºè‡ªå®šä¹‰å‡½æ•°.\ndef hello(name):\rprint(\u0026quot;hello\u0026quot;, name)\r#hello() hello(\u0026quot;shenxiaotao\u0026quot;)\r## hello shenxiaotao\rå’ŒRä¸€æ ·,å¯ä»¥ç»™å‚æ•°é»˜è®¤å€¼.\ndef hello(name = \u0026quot;xiaotao\u0026quot;):\rprint(\u0026quot;hello\u0026quot;, name)\r#hello() hello()\r## hello xiaotao\r1.1 ç»™å‡½æ•°ç¼–å†™æ–‡æ¡£\råœ¨defè¯­å¥åé¢,å°±å¯ä»¥æ·»åŠ è¯¥å‡½æ•°çš„æ–‡æ¡£è¯´æ˜.ç§°ä¹‹ä¸ºæ–‡æ¡£å­—ç¬¦ä¸²(docstring).\ndef square(x):\r\u0026#39;Calculates the square of the number x.\u0026#39;\rreturn x * x\ræ–‡æ¡£å­—ç¬¦ä¸²å¦‚æœåªæœ‰ä¸€è¡Œ,å¯ä»¥ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥,å¦‚æœæœ‰å¤šè¡Œ,éœ€è¦ä½¿ç”¨ä¸‰å¼•å·æ‹¬èµ·æ¥.\né€šè¿‡ä¸‹åˆ—è¯­å¥è®¿é—®æ–‡æ¡£å­—ç¬¦ä¸².\nsquare.__doc__\r## \u0026#39;Calculates the square of the number x.\u0026#39;\r_doc_å…¶å®æ—¶å‡½æ•°ä¸€ä¸ªæ–¹æ³•.åŒä¸‹åˆ’çº¿ä»£è¡¨ä»–æ˜¯å‡½æ•°çš„ä¸€ä¸ªç‰¹æ®Šå±æ€§.\nä¹Ÿå¯ä»¥ä½¿ç”¨help()å‡½æ•°è·å¾—ä¿¡æ¯.\nhelp(square)\r## Help on function square in module __main__:\r## ## square(x)\r## Calculates the square of the number x.\rä¸€ä¸ªç‰¹æ®Šçš„è¯­å¥,returnè·ŸRä¸­ä¸€æ ·,ä¹Ÿæ˜¯å¯ä»¥æå‰ç»“æŸå‡½æ•°çš„.\ndef test():\rprint(\u0026quot;test\u0026quot;)\rreturn\rprint(\u0026quot;test2\u0026quot;)\rtest()\r## test\r\råœ¨defè¯­å¥ä¸­ï¼Œä½äºå‡½æ•°ååé¢çš„å˜é‡é€šå¸¸ç§°ä¸ºå½¢å‚ï¼Œè€Œè°ƒç”¨å‡½æ•°æ—¶æä¾›çš„å€¼ç§°ä¸ºå®å‚ï¼Œä½†æœ¬ä¹¦åŸºæœ¬ä¸å¯¹æ­¤åšä¸¥æ ¼çš„åŒºåˆ†ã€‚åœ¨å¾ˆé‡è¦çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¼šå°†å®å‚ç§°ä¸ºå€¼ï¼Œä»¥ä¾¿å°†å…¶ä¸ç±»ä¼¼äºå˜é‡çš„å½¢å‚åŒºåˆ†å¼€æ¥ã€‚\n\r\r1.2 ä½œç”¨åŸŸ\rè·ŸRä¸€æ ·,pythonä¸­ä¹Ÿæ˜¯å­˜åœ¨å±€éƒ¨å’Œå…¨å±€ä½œç”¨åŸŸ,åœ¨å‡½æ•°å†…éƒ¨å¯¹å˜é‡è¿›è¡Œæ“ä½œéƒ½æ˜¯åœ¨è¯¥å‡½æ•°çš„å±€éƒ¨ä½œç”¨åŸŸè¿›è¡Œæ“ä½œçš„,ä¸ä¼šå¯¹å‡½æ•°å¤–éƒ¨çš„å…¶ä»–å±€éƒ¨ä½œç”¨åŸŸä»¥åŠå…¨å±€ä½œç”¨åŸŸé€ æˆå½±å“.\n\rä½¿ç”¨åˆ‡ç‰‡å¯ä»¥å¯¹åˆ—è¡¨ç­‰åˆ›å»ºç¬¦æœ¬,è¿™æ ·å¯ä»¥é¿å…åœ¨ä¿®æ”¹æŸä¸€ä¸ªå˜é‡æ—¶,å¯¹è¯¥å˜é‡å…³è”çš„åˆ—è¡¨ä¹Ÿå‘ç”Ÿäº†å˜åŒ–.\n\r\rå‡½æ•°å†…çš„å±€éƒ¨åç§°ï¼ˆåŒ…æ‹¬å‚æ•°ï¼‰ä¼šä¸å‡½æ•°å¤–çš„åç§°ï¼ˆå³å…¨å±€åç§°ï¼‰å†²çªå—ï¼Ÿç­”æ¡ˆæ˜¯ä¸ä¼šã€‚\n\r\r1.3 å…³é”®å­—å‚æ•°å’Œé»˜è®¤å€¼\rä½¿ç”¨åç§°æŒ‡å®šçš„å‚æ•°ç§°ä¸ºå…³é”®å­—å‚æ•°ï¼Œä¸»è¦ä¼˜ç‚¹æ˜¯æœ‰åŠ©äºæ¾„æ¸…å„ä¸ªå‚æ•°çš„ä½œç”¨ã€‚å…³é”®å­—å‚æ•°æœ€å¤§çš„ä¼˜ç‚¹åœ¨äºï¼Œå¯ä»¥æŒ‡å®šé»˜è®¤å€¼ã€‚\n\r1.4 æ”¶é›†å‚æ•°\råœ¨Rä¸­,æˆ‘ä»¬çŸ¥é“,æœ‰æ—¶å€™éœ€è¦ç”¨æˆ·æä¾›é•¿åº¦ä¸åŒçš„å‚æ•°,è¿™åœ¨Rä¸­,æ˜¯é€šè¿‡ä½¿ç”¨...æ¥å®ç°çš„,é‚£å†pythonä¸­å‘¢?æ˜¯é€šè¿‡åœ¨å‚æ•°åå­—å‰åŠ ä¸€ä¸ª*å®ç°çš„.\ndef print_params(*params):\rprint(params)\rprint_params(\u0026quot;shen\u0026quot;)\r## (\u0026#39;shen\u0026#39;,)\rprint_params(\u0026quot;shen\u0026quot;, \u0026quot;wang\u0026quot;)\r## (\u0026#39;shen\u0026#39;, \u0026#39;wang\u0026#39;)\rprint_params(1, 2, 3)\r## (1, 2, 3)\rå¦‚æœæŸä¸ªå‚æ•°å‰é¢åŠ äº†æ˜Ÿå·,é‚£ä¹ˆè¯¥å‚æ•°ä¸‹çš„æ‰€æœ‰å®å‚,ä¼šè¢«æ”¾åœ¨ä¸€ä¸ªå…ƒç»„ä¸­.\ndef print_params_2(title, *params):\rprint(title)\rprint(params)\rprint_params_2(\u0026#39;Params:\u0026#39;, 1, 2, 3)\r## Params:\r## (1, 2, 3)\rå¸¦æ˜Ÿå·çš„å‚æ•°å°†ä¼šæ”¶é›†ä¹‹åçš„æ‰€æœ‰è¾“å…¥çš„å‚æ•°.\nå¦‚æœéœ€è¦å°†å¸¦æ˜Ÿå·å‚æ•°æ”¾åœ¨ä¸­é—´,é‚£ä¹ˆå…¶åé¢çš„å‚æ•°åœ¨è°ƒç”¨æ—¶,å¿…é¡»æŒ‡æ˜å½¢å‚.\ndef in_the_middle(x, *y, z):\rprint(x, y, z)\rin_the_middle(1,2,3, z = 4)\r## 1 (2, 3) 4\rå‹å·æ—¶ä¸ä¼šæ”¶é›†å…³é”®å­—å‚æ•°çš„,å¦‚æœè¦æ”¶é›†,å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ˜Ÿå·.\ndef print_params_3(**params):\rprint(params)\rprint_params_3(x = 1, y = 2, z = 3)\r## {\u0026#39;x\u0026#39;: 1, \u0026#39;y\u0026#39;: 2, \u0026#39;z\u0026#39;: 3}\rå¯ä»¥çœ‹åˆ°,è¿™æ—¶å€™å°†å…¶ä½œä¸ºå­—å…¸ä½¿ç”¨.\n\r1.5 åˆ†é…å‚æ•°\rå‰é¢ä»‹ç»äº†å¦‚ä½•å°†å‚æ•°æ”¶é›†åˆ°å…ƒç»„å’Œå­—å…¸ä¸­ï¼Œä½†ç”¨åŒæ ·çš„ä¸¤ä¸ªè¿ç®—ç¬¦ï¼ˆ*å’Œ**ï¼‰ä¹Ÿå¯æ‰§è¡Œç›¸åçš„æ“ä½œã€‚\ndef add(x, y):\rreturn x + y\rparams = (1, 2)\radd(*params)\r## 3\r\r\r2 ä½œç”¨åŸŸ\rå˜é‡åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¯å°†å…¶è§†ä¸ºæŒ‡å‘å€¼çš„åç§°ã€‚å› æ­¤ï¼Œæ‰§è¡Œèµ‹å€¼è¯­å¥x=1åï¼Œåç§°xæŒ‡å‘å€¼1ã€‚è¿™å‡ ä¹ä¸ä½¿ç”¨å­—å…¸æ—¶ä¸€æ ·ï¼ˆå­—å…¸ä¸­çš„é”®æŒ‡å‘å€¼ï¼‰ï¼Œåªæ˜¯ä½ ä½¿ç”¨çš„æ˜¯â€œçœ‹ä¸è§â€çš„å­—å…¸ã€‚\nè¿™ç§â€œçœ‹ä¸è§çš„å­—å…¸â€ç§°ä¸ºå‘½åç©ºé—´æˆ–ä½œç”¨åŸŸã€‚é‚£ä¹ˆæœ‰å¤šå°‘ä¸ªå‘½åç©ºé—´å‘¢ï¼Ÿé™¤å…¨å±€ä½œç”¨åŸŸå¤–ï¼Œæ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½å°†åˆ›å»ºä¸€ä¸ªã€‚\nåœ¨å‡½æ•°å†…ä½¿ç”¨çš„å˜é‡ç§°ä¸ºå±€éƒ¨å˜é‡ï¼ˆä¸ä¹‹ç›¸å¯¹çš„æ˜¯å…¨å±€å˜é‡ï¼‰ã€‚å‚æ•°ç±»ä¼¼äºå±€éƒ¨å˜é‡ï¼Œå› æ­¤å‚æ•°ä¸å…¨å±€å˜é‡åŒåä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚\nåˆ°ç›®å‰ä¸ºæ­¢ä¸€åˆ‡é¡ºåˆ©ã€‚ä½†å¦‚æœè¦åœ¨å‡½æ•°ä¸­è®¿é—®å…¨å±€å˜é‡å‘¢ï¼Ÿå¦‚æœåªæ˜¯æƒ³è¯»å–è¿™ç§å˜é‡çš„å€¼ï¼ˆä¸é‡æ–°å…³è”å®ƒï¼‰ï¼Œé€šå¸¸ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚\n\rä½†æ˜¯,åœ¨å‡½æ•°ä¸­è®¿é—®å…¨å±€å˜é‡æ˜¯ä¼—å¤šbugçš„æ ¹æºã€‚åŠ¡å¿…æ…ç”¨å…¨å±€å˜é‡ã€‚\n\rè¯»å–å…¨å±€å˜é‡çš„å€¼é€šå¸¸ä¸ä¼šæœ‰é—®é¢˜ï¼Œä½†è¿˜æ˜¯å­˜åœ¨å‡ºç°é—®é¢˜çš„å¯èƒ½æ€§ã€‚å¦‚æœæœ‰ä¸€ä¸ªå±€éƒ¨å˜é‡æˆ–å‚æ•°ä¸ä½ è¦è®¿é—®çš„å…¨å±€å˜é‡åŒåï¼Œå°±æ— æ³•ç›´æ¥è®¿é—®å…¨å±€å˜é‡ï¼Œå› ä¸ºå®ƒè¢«å±€éƒ¨å˜é‡é®ä½äº†ã€‚\nå¦‚æœéœ€è¦ï¼Œå¯ä½¿ç”¨å‡½æ•°globalsæ¥è®¿é—®å…¨å±€å˜é‡ã€‚è¿™ä¸ªå‡½æ•°ç±»ä¼¼äºvarsï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å…¨å±€å˜é‡çš„å­—å…¸ã€‚ï¼ˆlocalsè¿”å›ä¸€ä¸ªåŒ…å«å±€éƒ¨å˜é‡çš„å­—å…¸ã€‚ï¼‰\né‡æ–°å…³è”å…¨å±€å˜é‡ï¼ˆä½¿å…¶æŒ‡å‘æ–°å€¼ï¼‰æ˜¯å¦ä¸€ç äº‹ã€‚åœ¨å‡½æ•°å†…éƒ¨ç»™å˜é‡èµ‹å€¼æ—¶ï¼Œè¯¥å˜é‡é»˜è®¤ä¸ºå±€éƒ¨å˜é‡ï¼Œé™¤éä½ æ˜ç¡®åœ°å‘Šè¯‰Pythonå®ƒæ˜¯å…¨å±€å˜é‡ã€‚é‚£ä¹ˆå¦‚ä½•å°†è¿™ä¸€ç‚¹å‘ŠçŸ¥Pythonå‘¢ï¼Ÿ\nx = 1\rdef change_global():\rglobal x\rx = x + 1\rchange_global()\rx\r## 2\rå¯ä»¥çœ‹åˆ°,éœ€è¦ä½¿ç”¨globalè¯­å¥æ¥ç”³æ˜,ä»è€Œæ”¹å˜å…¨å±€å˜é‡.\n\r3 å‡½æ•°å¼ç¼–ç¨‹\rè‡³æ­¤ï¼Œä½ å¯èƒ½ä¹ æƒ¯äº†åƒä½¿ç”¨å…¶ä»–å¯¹è±¡ï¼ˆå­—ç¬¦ä¸²ã€æ•°ã€åºåˆ—ç­‰ï¼‰ä¸€æ ·ä½¿ç”¨å‡½æ•°ï¼šå°†å…¶èµ‹ç»™å˜é‡ï¼Œå°†å…¶ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ï¼Œä»¥åŠä»å‡½æ•°è¿”å›å®ƒä»¬ã€‚åœ¨æœ‰äº›è¯­è¨€ï¼ˆå¦‚schemeå’ŒLispï¼‰ä¸­ï¼Œå‡ ä¹æ‰€æœ‰çš„ä»»åŠ¡éƒ½æ˜¯ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨å‡½æ•°æ¥å®Œæˆçš„ã€‚åœ¨Python ä¸­ï¼Œé€šå¸¸ä¸ä¼šå¦‚æ­¤å€šé‡å‡½æ•°ï¼ˆè€Œæ˜¯åˆ›å»ºè‡ªå®šä¹‰å¯¹è±¡ï¼Œè¿™å°†åœ¨ä¸‹ä¸€ç« è¯¦ç»†ä»‹ç»ï¼‰ï¼Œä½†å®Œå…¨å¯ä»¥è¿™æ ·åšã€‚Pythonæä¾›äº†ä¸€äº›æœ‰åŠ©äºè¿›è¡Œè¿™ç§å‡½æ•°å¼ç¼–ç¨‹çš„å‡½æ•°ï¼šmapã€filterå’Œreduceã€‚åœ¨è¾ƒæ–°çš„Pythonç‰ˆæœ¬ä¸­ï¼Œå‡½æ•°mapå’Œfilterçš„ç”¨é€”å¹¶ä¸å¤§ï¼Œåº”è¯¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼æ¥æ›¿ä»£å®ƒä»¬ã€‚ä½ å¯ä½¿ç”¨mapå°†åºåˆ—çš„æ‰€æœ‰å…ƒç´ ä¼ é€’ç»™å‡½æ•°ã€‚\nå…¶ä¸­map()å‡½æ•°å’ŒRä¸­çš„applyå®¶æ—æˆ–è€…purrrçš„map()å®¶æ—å‡½æ•°éå¸¸åƒ,æœ‰ç‚¹æ˜¯å‘é‡åŒ–å¤„ç†çš„æ„Ÿè§‰.\nä¸¾ä¸ªä¾‹å­.\n[str(i) for i in range(10)]\r## [\u0026#39;0\u0026#39;, \u0026#39;1\u0026#39;, \u0026#39;2\u0026#39;, \u0026#39;3\u0026#39;, \u0026#39;4\u0026#39;, \u0026#39;5\u0026#39;, \u0026#39;6\u0026#39;, \u0026#39;7\u0026#39;, \u0026#39;8\u0026#39;, \u0026#39;9\u0026#39;]\rè¿˜å¯ä»¥å†™ä½œ:\nmap(str, range(10))\r## \u0026lt;map object at 0x00000000525EBF08\u0026gt;\rlist(map(str, range(10)))\r## [\u0026#39;0\u0026#39;, \u0026#39;1\u0026#39;, \u0026#39;2\u0026#39;, \u0026#39;3\u0026#39;, \u0026#39;4\u0026#39;, \u0026#39;5\u0026#39;, \u0026#39;6\u0026#39;, \u0026#39;7\u0026#39;, \u0026#39;8\u0026#39;, \u0026#39;9\u0026#39;]\rmap()å‡½æ•°ç›´æ¥è¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨,å› æ­¤éœ€è¦ä½¿ç”¨list()å‡½æ•°å°†ä»–è½¬å˜ä¸ºlist.ä½¿ç”¨Rå¯ä»¥è¿™ä¹ˆå†™.\nsapply(c(0:9), as.character)\r## [1] \u0026quot;0\u0026quot; \u0026quot;1\u0026quot; \u0026quot;2\u0026quot; \u0026quot;3\u0026quot; \u0026quot;4\u0026quot; \u0026quot;5\u0026quot; \u0026quot;6\u0026quot; \u0026quot;7\u0026quot; \u0026quot;8\u0026quot; \u0026quot;9\u0026quot;\runlist(purrr::map(c(0:9), as.character))\r## [1] \u0026quot;0\u0026quot; \u0026quot;1\u0026quot; \u0026quot;2\u0026quot; \u0026quot;3\u0026quot; \u0026quot;4\u0026quot; \u0026quot;5\u0026quot; \u0026quot;6\u0026quot; \u0026quot;7\u0026quot; \u0026quot;8\u0026quot; \u0026quot;9\u0026quot;\rfilter()å‡½æ•°éå¸¸å¥½ç”¨,æ˜¯ä¸€ä¸ªç”¨æ¥ç­›é€‰çš„å‡½æ•°.ç”¨äºè¿‡æ»¤åºåˆ—ï¼Œè¿‡æ»¤æ‰ä¸ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›ç”±ç¬¦åˆæ¡ä»¶å…ƒç´ ç»„æˆçš„æ–°åˆ—è¡¨ã€‚\nä½¿ç”¨æ–¹æ³•:\nfilter(function, iterable)\r\rfunction:å‡½æ•°.\n\riterable:å¯è¿­ä»£çš„å¯¹è±¡.\n\r\rä¸¾ä¸ªä¾‹å­:\ndef biggerThan10(x):\rif x \u0026gt; 10:\rreturn(True)\relse:\rreturn(False)\rbiggerThan10(10)\r## False\rfilter(biggerThan10, range(0,15,1))\r## \u0026lt;filter object at 0x00000000525F1508\u0026gt;\rlist(filter(biggerThan10, range(0,15,1)))\r## [11, 12, 13, 14]\rfilter()è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªè¿­ä»£å™¨,éœ€è¦å°†å…¶è½¬å˜ä¸ºlist.\nå½“ç„¶,ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼,è¿™æ ·å°±ä¸è¦è‡ªå®šä¹‰å‡½æ•°äº†.\n[x for x in range(0,15,1) if x \u0026gt;10]\r## [11, 12, 13, 14]\rä»£ç çœ‹èµ·æ¥æ›´ä¸ºç®€æ´,å¹¶ä¸”ä¹Ÿæ›´åŠ æ¸…æ™°.\n3.1 lambdaè¡¨è¾¾å¼\rPythonæä¾›äº†ä¸€ç§åä¸ºlambdaè¡¨è¾¾å¼çš„åŠŸèƒ½ï¼Œè®©ä½ èƒ½å¤Ÿåˆ›å»ºå†…åµŒçš„ç®€å•å‡½æ•°ï¼ˆä¸»è¦ä¾›mapã€filterå’Œreduceä½¿ç”¨ï¼‰ã€‚\næ¯”å¦‚ä¸Šé¢çš„map()å’Œfilter()å‡½æ•°çš„ä¾‹å­å°±å¯ä»¥æ”¹ä¸ºä¸‹é¢:\nlist(filter(lambda x: x \u0026gt; 10, range(0, 15,1)))\r## [11, 12, 13, 14]\rå¯ä»¥çœ‹åˆ°ä½¿ç”¨lambdaè¡¨è¾¾å¼,å…¶å®æ˜¯åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„åŒ¿åå‡½æ•°,èµ·åˆ°çš„ä½œç”¨å’ŒåŒ¿åå‡½æ•°æ˜¯ç›¸åŒçš„,åªä¸è¿‡æ›´åŠ ç®€æ´æ˜“è¯»è€Œå·².\nå½“ç„¶,å…¶å®å¤§éƒ¨åˆ†æƒ…å†µä¸‹,ä½¿ç”¨åˆ—è¡¨æ¨å¯¼ä¹Ÿéå¸¸ç®€æ´,æ‰€ä»¥å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å°±å¯ä»¥äº†.ä½†æ˜¯ç‰¹æ®Šä¾‹å­åœ¨å‡½æ•°reduce()ä¸­.\n\r3.2 redunce()å‡½æ•°ä¼šå¯¹å‚æ•°åºåˆ—ä¸­å…ƒç´ è¿›è¡Œç´¯ç§¯ã€‚\rå‡½æ•°å°†ä¸€ä¸ªæ•°æ®é›†åˆï¼ˆé“¾è¡¨ï¼Œå…ƒç»„ç­‰ï¼‰ä¸­çš„æ‰€æœ‰æ•°æ®è¿›è¡Œä¸‹åˆ—æ“ä½œï¼šç”¨ä¼ ç»™ reduce ä¸­çš„å‡½æ•° functionï¼ˆæœ‰ä¸¤ä¸ªå‚æ•°ï¼‰å…ˆå¯¹é›†åˆä¸­çš„ç¬¬ 1ã€2ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œå¾—åˆ°çš„ç»“æœå†ä¸ç¬¬ä¸‰ä¸ªæ•°æ®ç”¨function å‡½æ•°è¿ç®—ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªç»“æœã€‚\nä½¿ç”¨æ–¹æ³•:\nreduce(function, iterable[, initializer])\rå‚æ•°:\n\rfunction: å‡½æ•°.\n\riterable: å¯è¿­ä»£å¯¹è±¡.\n\rinitializer: å¯é€‰,åˆå§‹å‚æ•°.\n\r\rä¾‹å­:\nnumbers = [72, 101, 108, 108, 111, 44, 32, 119, 111, 114, 108, 100, 33]\rfrom functools import reduce\rreduce(lambda x, y: x + y, numbers)\r## 1161\r\r\r4 æ€»ç»“\ræ–°çš„å‡½æ•°:\n\r\r\r\rFunction\rMeaning\r\r\r\rmap(func, seq[, seq, ...])\rå¯¹åºåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰§è¡Œå‡½æ•°\r\rfilter(func, seq)\rè¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«å¯¹å…¶æ‰§è¡Œå‡½æ•°æ—¶ç»“æœä¸ºçœŸçš„æ‰€æœ‰å…ƒç´ \r\rreduce(func, seq[, initial])\rç­‰ä»·äºfunc(func(func(seq[0], seq[1]), seq[2]), â€¦)\r\rsum(seq)\rè¿”å›seq ä¸­æ‰€æœ‰å…ƒç´ çš„å’Œ\r\rapply(func[, args[, kwargs]])\rè°ƒç”¨å‡½æ•°ï¼ˆè¿˜æä¾›è¦ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°ï¼‰\r\r\r\r\r","date":1574380800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574380800,"objectID":"1c785d36d5a44c47bfcc05615fae64fc","permalink":"/post/2019-11-22-python-function/","publishdate":"2019-11-22T00:00:00Z","relpermalink":"/post/2019-11-22-python-function/","section":"post","summary":"1 è‡ªå®šä¹‰å‡½æ•° 1.1 ç»™å‡½æ•°ç¼–å†™æ–‡æ¡£ 1.2 ä½œç”¨åŸŸ 1.3 å…³é”®å­—å‚æ•°å’Œé»˜è®¤å€¼ 1.4 æ”¶é›†å‚æ•° 1.5 åˆ†é…å‚æ•° 2 ä½œç”¨åŸŸ 3 å‡½æ•°å¼ç¼–ç¨‹ 3.1 lambdaè¡¨è¾¾å¼ 3.2 redunce()å‡½æ•°","tags":["Blog","Chinese"],"title":"Pythonä¸­å¦‚ä½•åˆ›å»ºå‡½æ•°","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 æ¡ä»¶,å¾ªç¯åŠå…¶ä»–è¯­å¥\r1.1 printå’Œimportå‡½æ•°\r1.1.1 æ‰“å°å¤šä¸ªå­—ç¬¦ä¸²\r1.1.2 ä½¿ç”¨importå¯¼å…¥æ¨¡å—\r\r1.2 Pythonä¸­çš„èµ‹å€¼\r1.2.1 åºåˆ—è§£åŒ…\r1.2.2 é“¾å¼èµ‹å€¼\r1.2.3 å¢å¼ºèµ‹å€¼\r\r1.3 æ¡ä»¶å’Œæ¡ä»¶è¯­å¥\r1.3.1 Ifè¯­å¥\r1.3.2 elseå­å¥\r1.3.3 elifå­å¥\r1.3.4 æ›´å¤æ‚çš„æ¡ä»¶\r1.3.5 æ–­ç‚¹ç”¨äºdebug\r\r1.4 å¾ªç¯\r1.4.1 whileå¾ªç¯\r1.4.2 forå¾ªç¯\r1.4.3 è¿­ä»£å­—å…¸\r1.4.4 ä¸€äº›è¿­ä»£å·¥å…·\r\r1.5 ç®€å•æ¨å¯¼\r1.5.1 ä¸‰æ¡æœ‰ç”¨çš„è¯­å¥\r\r\r2 æ€»ç»“\r2.1 æ–°çš„å‡½æ•°\r\r3 è¯¾å ‚çš„ç¤ºä¾‹ä»£ç \r3.1 zip()å‡½æ•°çš„ä¾‹å­\r3.2 ç»™æœ¬åœ°å†™æ–‡ä»¶çš„ä¾‹å­\r3.3 å¾ªç¯è¯­å¥ä¾‹å­\r\r\r\r1 æ¡ä»¶,å¾ªç¯åŠå…¶ä»–è¯­å¥\r1.1 printå’Œimportå‡½æ•°\r1.1.1 æ‰“å°å¤šä¸ªå­—ç¬¦ä¸²\réœ€è¦å°†å¤šä¸ªè¦æ‰“å°çš„å­—ç¬¦ä¸²ç”¨é€—å·éš”å¼€.\nprint(\u0026#39;Age:\u0026#39;, 42)\r## Age: 42\ré»˜è®¤å­—ç¬¦ä¸²ä¹‹é—´çš„åˆ†éš”ç¬¦ä¸ºç©ºæ ¼.å¯ä»¥ä½¿ç”¨sepå‚æ•°è‡ªå®šä¹‰.\nprint(\u0026quot;I\u0026quot;, \u0026quot;am\u0026quot;, \u0026quot;Xiaotao Shen\u0026quot;)\r## I am Xiaotao Shen\rprint(\u0026quot;I\u0026quot;, \u0026quot;am\u0026quot;, \u0026quot;Xiaotao Shen\u0026quot;, sep = \u0026quot;,\u0026quot;)\r## I,am,Xiaotao Shen\r\r1.1.2 ä½¿ç”¨importå¯¼å…¥æ¨¡å—\rå¯¼å…¥æ¨¡å—ä¸€èˆ¬ä½¿ç”¨å¦‚ä¸‹è¯­å¥:\nimport somemodule\rfrom somemodule import somefunction\rfrom somemodule import somefunction, anotherfunction, yetanotherfunction\rfrom somemodule import *\ræœ€åä¸€ç§æ˜¯å¯¼å…¥è¯¥æ¨¡å—çš„æ‰€æœ‰å‡½æ•°.\nå¦‚æœæŸä¸ªå‡½æ•°ååœ¨ä¸¤ä¸ªæ¨¡å—ç§éƒ½æœ‰,é‚£ä¹ˆä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼å¯¼å…¥æ¨¡å—ä¹‹å,ä½¿ç”¨ä¸‹é¢æ–¹æ³•è¿›è¡Œè°ƒç”¨:\nmodule1.function(...)\rmodule2.function(...)\rå¦å¤–ä¸€ç§æ–¹æ³•å°±æ˜¯åœ¨å¥å°¾æ·»åŠ aså¹¶æŒ‡å®šåˆ«å.å¯ä»¥å°†æ¨¡å—æˆ–è€…å‡½æ•°å‘½åä¸ºå…¶ä»–åå­—.\nimport math as foobar\rfoobar.sqrt(4)\r## 2.0\rfrom math import sqrt as foobar\rfoobar(4)\r## 2.0\rfrom module1 import open as open1\rfrom module2 import open as open2\r\r\r1.2 Pythonä¸­çš„èµ‹å€¼\r1.2.1 åºåˆ—è§£åŒ…\råŒæ—¶ç»™å¤šä¸ªå˜é‡èµ‹å€¼:\nx, y, z = 1, 2, 3\rx\r## 1\ry\r## 2\rz\r## 3\ræœ€å¤§çš„ç”¨å¤„åœ¨äºå¯ä»¥åŒæ—¶äº¤æ¢å¤šä¸ªå˜é‡çš„å€¼:\nx, y = y, x\rprint(x, y, z)\r## 2 1 3\rå®é™…ä¸Š,è¿™é‡Œæ‰§è¡Œçš„æ“ä½œç§°ä¸ºåºåˆ—è§£åŒ…(æˆ–å¯è¿­ä»£å¯¹è±¡è§£åŒ…)ï¼šå°†ä¸€ä¸ªåºåˆ—(æˆ–ä»»ä½•å¯è¿­ä»£å¯¹è±¡)è§£åŒ…,å¹¶å°†å¾—åˆ°çš„å€¼å­˜å‚¨åˆ°ä¸€ç³»åˆ—å˜é‡ä¸­.ä¸‹é¢ç”¨ä¾‹å­è¿›è¡Œè§£é‡Š.\nvalues = 1, 2, 3\rx, y, z = values\rprint(x, y, z)\r## 1 2 3\råªè¦æ˜¯å¯ä»¥ç”¨äºè¿­ä»£çš„å¯¹è±¡,æ¯”å¦‚å…ƒç»„,åˆ—è¡¨,å­—å…¸ç­‰ç­‰,éƒ½å¯ä»¥ç”¨è¿™ç§æ–¹æ³•.\n##å­—å…¸\rscoundrel = {\u0026#39;name\u0026#39;: \u0026#39;Robin\u0026#39;, \u0026#39;girlfriend\u0026#39;: \u0026#39;Marion\u0026#39;}\rscoundrel.popitem()\r## (\u0026#39;girlfriend\u0026#39;, \u0026#39;Marion\u0026#39;)\rkey, value = scoundrel.popitem()\rkey\r## \u0026#39;name\u0026#39;\rvalue\r##åˆ—è¡¨\r## \u0026#39;Robin\u0026#39;\rtest = [\u0026quot;a\u0026quot;,\u0026quot;b\u0026quot;,\u0026quot;c\u0026quot;]\rx, y, z = test\rprint(x, y, z)\r##å­—ç¬¦ä¸²\r## a b c\rx,y,z,w = \u0026quot;shen\u0026quot;\rprint(x,y,z,w)\r## s h e n\rè¦è§£åŒ…çš„åºåˆ—åŒ…å«çš„å…ƒç´ ä¸ªæ•°å¿…é¡»ä¸ä½ åœ¨ç­‰å·å·¦è¾¹åˆ—å‡ºçš„ç›®æ ‡ä¸ªæ•°ç›¸åŒ,å¦åˆ™Pythonå°†å¼•å‘å¼‚å¸¸.\nå¦‚æœåœ¨å·¦è¾¹çš„æŸä¸ªå˜é‡åå‰é¢åŠ ä¸Šå‹å·(*),é‚£ä¹ˆè¯¥å˜é‡ä¼šæœ€ç»ˆå˜ä¸ºä¸€ä¸ªåˆ—è¡¨.\na, *b, c = \u0026quot;abc\u0026quot;\ra\r## \u0026#39;a\u0026#39;\rb\r## [\u0026#39;b\u0026#39;]\rc\r## \u0026#39;c\u0026#39;\r\r1.2.2 é“¾å¼èµ‹å€¼\ré“¾å¼èµ‹å€¼æ˜¯ä¸€ç§å¿«æ·æ–¹å¼,ç”¨äºå°†å¤šä¸ªå˜é‡å…³è”åˆ°åŒä¸€ä¸ªå€¼.\nx = y = somefunction()\rç­‰ä»·äº:\nx = somefunction()\ry = somefunction()\r\r1.2.3 å¢å¼ºèµ‹å€¼\rx = 1\rx = x + 1\rx\r## 2\rç­‰ä»·äºä¸‹åˆ—ä»£ç :\nx = 1\rx += x\rx\r## 2\rè¿™ç§å†™æ³•åœ¨å¾ªç¯ä¸­è§çš„ä¼šæ¯”è¾ƒå¤š.\n\r\r1.3 æ¡ä»¶å’Œæ¡ä»¶è¯­å¥\råœ¨pythonä¸­è¢«è§†ä¸ºFalseçš„å†…å®¹:\nFalse None 0 \u0026quot;\u0026quot; () [] {}\ræ¢è€Œè¨€ä¹‹,æ ‡å‡†å€¼Falseå’ŒNoneã€å„ç§ç±»å‹(åŒ…æ‹¬æµ®ç‚¹æ•°ã€å¤æ•°ç­‰)çš„æ•°å€¼0ã€ç©ºåºåˆ—(å¦‚ç©ºå­—ç¬¦ä¸²ã€ç©ºå…ƒç»„å’Œç©ºåˆ—è¡¨)ä»¥åŠç©ºæ˜ å°„(å¦‚ç©ºå­—å…¸)éƒ½è¢«è§†ä¸ºå‡,è€Œå…¶ä»–å„ç§å€¼éƒ½è¢«è§†ä¸ºçœŸ,åŒ…æ‹¬ç‰¹æ®Šå€¼True.\nå¸ƒå°”å€¼Trueå’ŒFalseå±äºç±»å‹bool,è€Œboolä¸listã€strå’Œtupleä¸€æ ·,éƒ½æ˜¯å‡½æ•°,å¯ç”¨æ¥è½¬æ¢å…¶ä»–çš„å€¼.\nbool(1)\r## True\rbool(0)\r## False\rx = \u0026quot;a\u0026quot;\rx\r## \u0026#39;a\u0026#39;\rtest = \u0026quot;xiaotao\u0026quot;\rtest\r## \u0026#39;xiaotao\u0026#39;\r1.3.1 Ifè¯­å¥\rè¿™æ„å‘³ç€å¦‚æœæ¡ä»¶(ifå’Œå†’å·ä¹‹é—´çš„è¡¨è¾¾å¼)ä¸ºå‰é¢å®šä¹‰çš„çœŸ,å°±æ‰§è¡Œåç»­ä»£ç å—(è¿™é‡Œæ˜¯ä¸€æ¡printè¯­å¥)ï¼›å¦‚æœæ¡ä»¶ä¸ºå‡.\ntest = \u0026quot;xiaotao\u0026quot;\rtest\r## \u0026#39;xiaotao\u0026#39;\rtest.endswith(\u0026quot;shen\u0026quot;)\r## False\rtest.endswith(\u0026quot;tao\u0026quot;)\r## True\rif test.endswith(\u0026quot;tao\u0026quot;):\rprint(\u0026quot;Yes\u0026quot;)\r## Yes\r\r1.3.2 elseå­å¥\rå¦‚æœifè¯­å¥ä¸æˆç«‹,å¯ä»¥æ‰§è¡Œelseå­å¥çš„å†…å®¹.\nname = \u0026quot;xiaotao\u0026quot;\rname\r## \u0026#39;xiaotao\u0026#39;\rif name == \u0026quot;xiaotao\u0026quot;:\rprint(\u0026quot;Welcome, Xiaotao\u0026quot;)\relse:\rprint(\u0026quot;Hello, stranger\u0026quot;)\r## Welcome, Xiaotao\r\r1.3.3 elifå­å¥\rè¦æ£€æŸ¥å¤šä¸ªæ¡ä»¶,å¯ä½¿ç”¨elif.elifæ˜¯else ifçš„ç¼©å†™,ç”±ä¸€ä¸ªifå­å¥å’Œä¸€ä¸ªelseå­å¥ç»„åˆè€Œæˆ,ä¹Ÿå°±æ˜¯åŒ…å«æ¡ä»¶çš„elseå­å¥.\nname = \u0026quot;shen\u0026quot;\rif name == \u0026quot;wang\u0026quot;:\rprint(\u0026quot;Welcome, wang\u0026quot;)\relif name == \u0026quot;shen\u0026quot;:\rprint(\u0026quot;Welcome, Xiaotao\u0026quot;)\relse:\rprint(\u0026quot;Hello, stranger.\u0026quot;)\r## Welcome, Xiaotao\r\r1.3.4 æ›´å¤æ‚çš„æ¡ä»¶\rä¸‹é¢é‡ç‚¹è¯´è¯´æ¡ä»¶æœ¬èº«.\næ¯”è¾ƒè¿ç®—ç¬¦.\r\råœ¨æ¡ä»¶è¡¨è¾¾å¼ä¸­,æœ€åŸºæœ¬çš„è¿ç®—ç¬¦å¯èƒ½æ˜¯æ¯”è¾ƒè¿ç®—ç¬¦,å®ƒä»¬ç”¨äºæ‰§è¡Œæ¯”è¾ƒ.\n\r\rEquation\rMeaning\r\r\r\rx == y\rxç­‰äºy\r\rx \u0026lt; y\rxå°äºy\r\rx \u0026gt; y\rxå¤§äºy\r\rx \u0026gt;= y\rxå¤§äºæˆ–ç­‰äºy\r\rx \u0026lt;= y\rxå°äºæˆ–ç­‰äºy\r\rx != y\rxä¸ç­‰äºy\r\rx is y\rxå’Œyæ˜¯åŒä¸€ä¸ªå¯¹è±¡\r\rx is not y\rxå’Œyæ˜¯ä¸åŒçš„å¯¹è±¡\r\rx in y\rxæ˜¯å®¹å™¨(å¦‚åºåˆ—)yçš„æˆå‘˜\r\rx not in y\rxä¸æ˜¯å®¹å™¨(å¦‚åºåˆ—)yçš„æˆå‘˜\r\r\r\rä¸èµ‹å€¼ä¸€æ ·,Pythonä¹Ÿæ”¯æŒé“¾å¼æ¯”è¾ƒï¼šå¯åŒæ—¶ä½¿ç”¨å¤šä¸ªæ¯”è¾ƒè¿ç®—ç¬¦,å¦‚0 \u0026lt; age \u0026lt; 100.\n\ris:ç›¸åŒè¿ç®—ç¬¦\r\rä»–å’Œ==è¿˜æ˜¯æœ‰åŒºåˆ«çš„.\nx = y = [1, 2, 3]\rz = [1, 2, 3]\rx == y\r## True\rx == z\r## True\rx is y\r## True\ry is x\r## True\rx is z\r## False\rz is y\r## False\rxå’Œzç›¸ç­‰,ä½†x is zçš„ç»“æœå´ä¸ºFalse.ä¸ºä½•ä¼šè¿™æ ·å‘¢?å› ä¸ºisæ£€æŸ¥ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒ(è€Œä¸æ˜¯ç›¸ç­‰).å˜é‡xå’ŒyæŒ‡å‘åŒä¸€ä¸ªåˆ—è¡¨,è€ŒzæŒ‡å‘å¦ä¸€ä¸ªåˆ—è¡¨(å…¶ä¸­åŒ…å«çš„å€¼ä»¥åŠè¿™äº›å€¼çš„æ’åˆ—é¡ºåºéƒ½ä¸å‰ä¸€ä¸ªåˆ—è¡¨ç›¸åŒ).è¿™ä¸¤ä¸ªåˆ—è¡¨è™½ç„¶ç›¸ç­‰,ä½†å¹¶éåŒä¸€ä¸ªå¯¹è±¡.\n\rin:æˆå‘˜èµ„æ ¼è¿ç®—ç¬¦\n\rå­—ç¬¦ä¸²å’Œåºåˆ—çš„æ¯”è¾ƒ\n\r\rå­—ç¬¦ä¸²æ˜¯æ ¹æ®å­—ç¬¦çš„å­—æ¯æ’åˆ—é¡ºåºè¿›è¡Œæ¯”è¾ƒçš„.\n\u0026quot;alpha\u0026quot; \u0026lt; \u0026quot;beta\u0026quot;\r## True\rå¸ƒå°”è¿ç®—ç¬¦\r\rand, orè¿˜æœ‰not.\n\r1.3.5 æ–­ç‚¹ç”¨äºdebug\rPythonä¸­å¦‚ä½•è¿›è¡Œè¯Šæ–­å’Œdebug.\nå¯ä»¥ä½¿ç”¨å…³é”®å­—assert\nage = 10\rassert 0 \u0026lt; age \u0026lt; 100\rage = -1\rassert 0 \u0026lt; age \u0026lt; 100\rå¦‚æœçŸ¥é“å¿…é¡»æ»¡è¶³ç‰¹å®šæ¡ä»¶,ç¨‹åºæ‰èƒ½æ­£ç¡®åœ°è¿è¡Œ,å¯åœ¨ç¨‹åºä¸­æ·»åŠ assertè¯­å¥å……å½“æ£€æŸ¥ç‚¹,è¿™å¾ˆæœ‰å¸®åŠ©.\nè¿™é‡Œç±»ä¼¼ä¸Rä¸­çš„stop()å‡½æ•°.\nage = -1\rassert 0 \u0026lt; age \u0026lt; 100, \u0026#39;The age must be realistic\r\r\r1.4 å¾ªç¯\r1.4.1 whileå¾ªç¯\rx = 1\rwhile x \u0026lt;= 10:\rprint(x)\rx += 1\r## 1\r## 2\r## 3\r## 4\r## 5\r## 6\r## 7\r## 8\r## 9\r## 10\r\r1.4.2 forå¾ªç¯\rä¸ºåºåˆ—(æˆ–å…¶ä»–å¯è¿­ä»£å¯¹è±¡)ä¸­æ¯ä¸ªå…ƒç´ æ‰§è¡Œä»£ç å—,è¿™æ—¶å€™ä½¿ç”¨forå¾ªç¯æ›´åŠ åˆé€‚.\né‰´äºè¿­ä»£(ä¹Ÿå°±æ˜¯éå†)ç‰¹å®šèŒƒå›´å†…çš„æ•°æ˜¯ä¸€ç§å¸¸è§çš„ä»»åŠ¡,Pythonæä¾›äº†ä¸€ä¸ªåˆ›å»ºèŒƒå›´çš„å†…ç½®å‡½æ•°range.\nrange(0,10)\r## range(0, 10)\rlist(range(0,10))\r## [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\rèŒƒå›´ç±»ä¼¼äºåˆ‡ç‰‡.å®ƒä»¬åŒ…å«èµ·å§‹ä½ç½®(è¿™é‡Œä¸º0),ä½†ä¸åŒ…å«ç»“æŸä½ç½®(è¿™é‡Œä¸º10).åœ¨å¾ˆå¤šæƒ…å†µä¸‹,ä½ éƒ½å¸Œæœ›èŒƒå›´çš„èµ·å§‹ä½ç½®ä¸º0.å®é™…ä¸Š,å¦‚æœåªæä¾›äº†ä¸€ä¸ªä½ç½®,å°†æŠŠè¿™ä¸ªä½ç½®è§†ä¸ºç»“æŸä½ç½®,å¹¶å‡å®šèµ·å§‹ä½ç½®ä¸º0.\nrange()å‡½æ•°çš„ä½¿ç”¨è¯­æ³•å¦‚ä¸‹:\nrange(start, stop[, step])\rä¸€å…±æœ‰ä¸‰ä¸ªå‚æ•°,åˆ†åˆ«æ˜¯èµ·å§‹,ç»ˆæ­¢å’Œæ­¥é•¿.\nlist(range(10))\r## [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\rlist(range(0,10))\r## [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\rlist(range(0,10,1))\r## [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\r1.4.3 è¿­ä»£å­—å…¸\rè¦éå†å­—å…¸çš„æ‰€æœ‰å…³é”®å­—,å¯åƒéå†åºåˆ—é‚£æ ·ä½¿ç”¨æ™®é€šçš„forè¯­å¥.\nd = {\u0026#39;x\u0026#39;: 1, \u0026#39;y\u0026#39;: 2, \u0026#39;z\u0026#39;: 3}\rfor key in d:\rprint(key, \u0026#39;corresponds to\u0026#39;, d[key])\r## x corresponds to 1\r## y corresponds to 2\r## z corresponds to 3\rä¹Ÿå¯ä½¿ç”¨keysç­‰å­—å…¸æ–¹æ³•æ¥è·å–æ‰€æœ‰çš„é”®.å¦‚æœåªå¯¹å€¼æ„Ÿå…´è¶£,å¯ä½¿ç”¨d.values.ä½ å¯èƒ½è¿˜è®°å¾—,d.itemsä»¥å…ƒç»„çš„æ–¹å¼è¿”å›é”®-å€¼å¯¹.forå¾ªç¯çš„ä¼˜ç‚¹ä¹‹ä¸€æ˜¯,å¯åœ¨å…¶ä¸­ä½¿ç”¨åºåˆ—è§£åŒ….\nd.items()\r## dict_items([(\u0026#39;x\u0026#39;, 1), (\u0026#39;y\u0026#39;, 2), (\u0026#39;z\u0026#39;, 3)])\rfor key, value in d.items():\rprint(key, \u0026#39;corresponds to\u0026#39;, value)\r## x corresponds to 1\r## y corresponds to 2\r## z corresponds to 3\r\r1.4.4 ä¸€äº›è¿­ä»£å·¥å…·\r1.4.4.1 å¹¶è¡Œè¿­ä»£\ræœ‰æ—¶å€™,ä½ å¯èƒ½æƒ³åŒæ—¶è¿­ä»£ä¸¤ä¸ªåºåˆ—.å‡è®¾æœ‰ä¸‹é¢ä¸¤ä¸ªåˆ—è¡¨ï¼š\nnames = [\u0026#39;anne\u0026#39;, \u0026#39;beth\u0026#39;, \u0026#39;george\u0026#39;, \u0026#39;damon\u0026#39;]\rages = [12, 45, 32, 102]\rä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å¹¶è¡Œè¿­ä»£å·¥å…·æ˜¯å†…ç½®å‡½æ•°zip,å®ƒå°†ä¸¤ä¸ªåºåˆ—â€œç¼åˆâ€èµ·æ¥,å¹¶è¿”å›ä¸€ä¸ªç”±å…ƒç»„ç»„æˆçš„åºåˆ—.\ntest = zip(names, ages)\rtest\r## \u0026lt;zip object at 0x0000000053DE8D88\u0026gt;\rtype(test)\r## \u0026lt;class \u0026#39;zip\u0026#39;\u0026gt;\rtest2 = list(test)\rtest2\r## [(\u0026#39;anne\u0026#39;, 12), (\u0026#39;beth\u0026#39;, 45), (\u0026#39;george\u0026#39;, 32), (\u0026#39;damon\u0026#39;, 102)]\rtype(test2)\r## \u0026lt;class \u0026#39;list\u0026#39;\u0026gt;\rzip()å‡½æ•°ç”¨äºå°†å¯è¿­ä»£çš„å¯¹è±¡ä½œä¸ºå‚æ•°,å°†å¯¹è±¡ä¸­å¯¹åº”çš„å…ƒç´ æ‰“åŒ…æˆä¸€ä¸ªä¸ªå…ƒç»„,ç„¶åè¿”å›ç”±è¿™äº›å…ƒç»„ç»„æˆçš„åˆ—è¡¨.å¦‚æœå„ä¸ªè¿­ä»£å™¨çš„å…ƒç´ ä¸ªæ•°ä¸ä¸€è‡´,åˆ™è¿”å›åˆ—è¡¨é•¿åº¦ä¸æœ€çŸ­çš„å¯¹è±¡ç›¸åŒ,åˆ©ç”¨*å·æ“ä½œç¬¦,å¯ä»¥å°†å…ƒç»„è§£å‹ä¸ºåˆ—è¡¨.\nzip()å‡½æ•°çš„ä½¿ç”¨æ–¹æ³•:\nzip([iterable, ...])\riterabl:ä¸€ä¸ªæˆ–å¤šä¸ªè¿­ä»£å™¨.\nfor name, age in zip(names, ages):\rprint(name, \u0026#39;is\u0026#39;, age, \u0026#39;years old\u0026#39;)\r## anne is 12 years old\r## beth is 45 years old\r## george is 32 years old\r## damon is 102 years old\r\r1.4.4.2 è¿­ä»£æ—¶è·å–ç´¢å¼•\råœ¨æœ‰äº›æƒ…å†µä¸‹,ä½ éœ€è¦åœ¨è¿­ä»£å¯¹è±¡åºåˆ—çš„åŒæ—¶è·å–å½“å‰å¯¹è±¡çš„ç´¢å¼•.ä¾‹å¦‚,ä½ å¯èƒ½æƒ³æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ä¸­æ‰€æœ‰åŒ…å«å­ä¸²â€™xxxâ€™çš„å­—ç¬¦ä¸².\nè¿™æ—¶å€™å¯ä»¥ä½¿ç”¨å†…ç½®å‡½æ•°enumerate().è¿™ä¸ªå‡½æ•°è®©ä½ èƒ½å¤Ÿè¿­ä»£ç´¢å¼•-å€¼å¯¹,å…¶ä¸­çš„ç´¢å¼•æ˜¯è‡ªåŠ¨æä¾›çš„.\nenumerate()å‡½æ•°ä½¿ç”¨æ–¹æ³•:\nenumerate(sequence, [start=0])\r\rsequence: ä¸€ä¸ªåºåˆ—ã€è¿­ä»£å™¨æˆ–å…¶ä»–æ”¯æŒè¿­ä»£å¯¹è±¡.\rstart: ä¸‹æ ‡èµ·å§‹ä½ç½®.\r\rè¿”å› enumerate(æšä¸¾) å¯¹è±¡.\nseasons = [\u0026#39;Spring\u0026#39;, \u0026#39;Summer\u0026#39;, \u0026#39;Fall\u0026#39;, \u0026#39;Winter\u0026#39;]\rlist(enumerate(seasons))\r## [(0, \u0026#39;Spring\u0026#39;), (1, \u0026#39;Summer\u0026#39;), (2, \u0026#39;Fall\u0026#39;), (3, \u0026#39;Winter\u0026#39;)]\rlist(enumerate(seasons, start=1)) # ä¸‹æ ‡ä» 1 å¼€å§‹\r## [(1, \u0026#39;Spring\u0026#39;), (2, \u0026#39;Summer\u0026#39;), (3, \u0026#39;Fall\u0026#39;), (4, \u0026#39;Winter\u0026#39;)]\r\r1.4.4.3 åå‘è¿­ä»£å’Œæ’åºåå†è¿­ä»£\ræ¥çœ‹å¦å¤–ä¸¤ä¸ªå¾ˆæœ‰ç”¨çš„å‡½æ•°ï¼šreversed()å’Œsorted().å®ƒä»¬ç±»ä¼¼äºåˆ—è¡¨æ–¹æ³•reverseå’Œsort(sortedæ¥å—çš„å‚æ•°ä¹Ÿä¸sortç±»ä¼¼),ä½†å¯ç”¨äºä»»ä½•åºåˆ—æˆ–å¯è¿­ä»£çš„å¯¹è±¡,ä¸”ä¸å°±åœ°ä¿®æ”¹å¯¹è±¡,è€Œæ˜¯è¿”å›åè½¬å’Œæ’åºåçš„ç‰ˆæœ¬.\nsorted([4, 3, 6, 8, 3])\r## [3, 3, 4, 6, 8]\rsorted(\u0026#39;Hello, world!\u0026#39;)\r## [\u0026#39; \u0026#39;, \u0026#39;!\u0026#39;, \u0026#39;,\u0026#39;, \u0026#39;H\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;o\u0026#39;, \u0026#39;o\u0026#39;, \u0026#39;r\u0026#39;, \u0026#39;w\u0026#39;]\rlist(reversed(\u0026#39;Hello, world!\u0026#39;))\r## [\u0026#39;!\u0026#39;, \u0026#39;d\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;r\u0026#39;, \u0026#39;o\u0026#39;, \u0026#39;w\u0026#39;, \u0026#39; \u0026#39;, \u0026#39;,\u0026#39;, \u0026#39;o\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;l\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;H\u0026#39;]\r\u0026#39;\u0026#39;.join(reversed(\u0026#39;Hello, world!\u0026#39;))\r## \u0026#39;!dlrow ,olleH\u0026#39;\rè¯·æ³¨æ„,sortedè¿”å›ä¸€ä¸ªåˆ—è¡¨,è€Œreversedåƒzipé‚£æ ·è¿”å›ä¸€ä¸ªæ›´ç¥ç§˜çš„å¯è¿­ä»£å¯¹è±¡.ä½ æ— éœ€å…³å¿ƒè¿™åˆ°åº•æ„å‘³ç€ä»€ä¹ˆ,åªç®¡åœ¨forå¾ªç¯æˆ–joinç­‰æ–¹æ³•ä¸­ä½¿ç”¨å®ƒ,ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜.åªæ˜¯ä½ ä¸èƒ½å¯¹å®ƒæ‰§è¡Œç´¢å¼•æˆ–åˆ‡ç‰‡æ“ä½œ,ä¹Ÿä¸èƒ½ç›´æ¥å¯¹å®ƒè°ƒç”¨åˆ—è¡¨çš„æ–¹æ³•.è¦æ‰§è¡Œè¿™äº›æ“ä½œ,å¯å…ˆä½¿ç”¨listå¯¹è¿”å›çš„å¯¹è±¡è¿›è¡Œè½¬æ¢.\n\r1.4.4.4 è·³å‡ºå¾ªç¯\r1.4.4.4.1 breakè¯­å¥\rè¦ç»“æŸ(è·³å‡º)å¾ªç¯,å¯ä½¿ç”¨break.\nfrom math import sqrt\rfor n in range(99, 0, -1):\rroot = sqrt(n)\rif root == int(root):\rprint(n)\rbreak\r## 81\r\r1.4.4.4.2 continuteè¯­å¥\rè¯­å¥continueæ²¡æœ‰breakç”¨å¾—å¤š.å®ƒç»“æŸå½“å‰è¿­ä»£,å¹¶è·³åˆ°ä¸‹ä¸€æ¬¡è¿­ä»£å¼€å¤´.å› æ­¤å¸¸ç”¨äºå½“æŸæ¬¡è¿­ä»£å¦‚æœç¬¦åˆä¸€å®šè¦æ±‚,ä¸åœ¨è¿›è¡Œåç»­çš„ä»£ç ,è€Œå¼€å§‹æ–°çš„ä¸‹ä¸€æ¬¡è¿­ä»£.\nfor x in seq:\rif condition1: continue\rif condition2: continue\rif condition3: continue\rdo_something()\rdo_something_else()\rdo_another_thing()\retc()\r\r\r\r\r1.5 ç®€å•æ¨å¯¼\råˆ—è¡¨æ¨å¯¼æ˜¯ä¸€ç§ä»å…¶ä»–åˆ—è¡¨åˆ›å»ºåˆ—è¡¨çš„æ–¹å¼,ç±»ä¼¼äºæ•°å­¦ä¸­çš„é›†åˆæ¨å¯¼.åˆ—è¡¨æ¨å¯¼çš„å·¥ä½œåŸç†éå¸¸ç®€å•,æœ‰ç‚¹ç±»ä¼¼äºforå¾ªç¯.\n[x * x for x in range(10)]\r## [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]\rtest = [x * x for x in range(10)]\rtest\r## [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]\rè¿™ä¸ªåˆ—è¡¨ç”±range(10)å†…æ¯ä¸ªå€¼çš„å¹³æ–¹ç»„æˆ.\n[x*x for x in range(10) if x % 3 == 0]\r## [0, 9, 36, 81]\rè¿˜å¯æ·»åŠ æ›´å¤šçš„foréƒ¨åˆ†.\n[(x, y) for x in range(3) for y in range(3)]\r## [(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (1, 2), (2, 0), (2, 1), (2, 2)]\rgirls = [\u0026#39;alice\u0026#39;, \u0026#39;bernice\u0026#39;, \u0026#39;clarice\u0026#39;]\rboys = [\u0026#39;chris\u0026#39;, \u0026#39;arnold\u0026#39;, \u0026#39;bob\u0026#39;]\r[b+\u0026#39;+\u0026#39;+g for b in boys for g in girls if b[0] == g[0]]\r## [\u0026#39;chris+clarice\u0026#39;, \u0026#39;arnold+alice\u0026#39;, \u0026#39;bob+bernice\u0026#39;]\rè¿™äº›ä»£ç å°†åå­—çš„é¦–å­—æ¯ç›¸åŒçš„ç”·å­©å’Œå¥³å­©é…å¯¹.\n1.5.1 ä¸‰æ¡æœ‰ç”¨çš„è¯­å¥\r1.5.1.1 pass\ré‚£ä¹ˆä¸ºä½•éœ€è¦ä¸€æ¡ä»€ä¹ˆéƒ½ä¸åšçš„è¯­å¥å‘¢?åœ¨ä½ ç¼–å†™ä»£ç æ—¶,å¯å°†å…¶ç”¨ä½œå ä½ç¬¦.ä¾‹å¦‚,ä½ å¯èƒ½ç¼–å†™äº†ä¸€æ¡ifè¯­å¥å¹¶æƒ³å°è¯•è¿è¡Œå®ƒ,ä½†å…¶ä¸­ç¼ºå°‘ä¸€ä¸ªä»£ç å—,\n\r1.5.1.2 ä½¿ç”¨delè¯­å¥åˆ é™¤\rå¯¹äºä½ ä¸å†ä½¿ç”¨çš„å¯¹è±¡,Pythoné€šå¸¸ä¼šå°†å…¶åˆ é™¤(å› ä¸ºæ²¡æœ‰ä»»ä½•å˜é‡æˆ–æ•°æ®ç»“æ„æˆå‘˜æŒ‡å‘å®ƒ).\nä½¿ç”¨æ–¹æ³•:\ndel object\r\r\r\r\r2 æ€»ç»“\r2.1 æ–°çš„å‡½æ•°\r\r\rFunction\rMeaning\r\r\r\renumerate(seq)\rç”Ÿæˆå¯è¿­ä»£çš„ç´¢å¼•-å€¼å¯¹\r\rrange([start,] stop[, step])\råˆ›å»ºä¸€ä¸ªç”±æ•´æ•°ç»„æˆçš„åˆ—è¡¨\r\rreversed(seq)\ræŒ‰ç›¸åçš„é¡ºåºè¿”å›seqä¸­çš„å€¼,ä»¥ä¾¿ç”¨äºè¿­ä»£\r\rsorted(seq[,cmp][,key][,reverse])\rè¿”å›ä¸€ä¸ªåˆ—è¡¨,å…¶ä¸­åŒ…å«seqä¸­çš„æ‰€æœ‰å€¼ä¸”è¿™äº›å€¼æ˜¯ç»è¿‡æ’åºçš„\r\rxrange([start,] stop[, step])\råˆ›å»ºä¸€ä¸ªç”¨äºè¿­ä»£çš„xrangeå¯¹è±¡\r\rzip(seq1, seq2,...)\råˆ›å»ºä¸€ä¸ªé€‚åˆç”¨äºå¹¶è¡Œè¿­ä»£çš„æ–°åºåˆ—\r\r\r\r\r\r3 è¯¾å ‚çš„ç¤ºä¾‹ä»£ç \r# using set to find the unique letters in a string\r# create a new empty dictionary\rnt_count = {}\r# get a set of unique characters in our DNA string\rdna = \u0026#39;GTACCNTTGATTTCGTATTCTGAGAGGCTGCTGCTTAGCGGTAGCCCCTTGGTTTCCGTGGCAACGGAAAA\u0026#39;\runique = set(dna)\rprint(\u0026#39;unique nt: \u0026#39;, unique) ## {\u0026#39;C\u0026#39;, \u0026#39;A\u0026#39;, \u0026#39;G\u0026#39;, \u0026#39;T\u0026#39;, \u0026#39;N\u0026#39;}\r# iterate through each unique nucleotide\r## unique nt: {\u0026#39;N\u0026#39;, \u0026#39;T\u0026#39;, \u0026#39;A\u0026#39;, \u0026#39;C\u0026#39;, \u0026#39;G\u0026#39;}\rfor nt in unique:\r# count the number of this unique nt in dna\rcount = dna.count(nt)\r# add our count to our dict\rnt_count[nt] = count\rprint(\u0026#39;nt count:\u0026#39;, nt_count)\r## nt count: {\u0026#39;N\u0026#39;: 1, \u0026#39;T\u0026#39;: 21, \u0026#39;A\u0026#39;: 13, \u0026#39;C\u0026#39;: 16, \u0026#39;G\u0026#39;: 20}\r3.1 zip()å‡½æ•°çš„ä¾‹å­\r# zip two lists together to make a dictionary or array of tuples\rnumbers = [1, 2, 3]\rletters = [\u0026#39;a\u0026#39;, \u0026#39;b\u0026#39;, \u0026#39;c\u0026#39;]\rnew_d = dict(zip(numbers, letters))\rprint(\u0026#39;new_d\u0026#39;, new_d)\r## new_d {1: \u0026#39;a\u0026#39;, 2: \u0026#39;b\u0026#39;, 3: \u0026#39;c\u0026#39;}\rnew_l = list(zip(numbers, letters))\rprint(\u0026#39;new_l\u0026#39;, new_l)\r## new_l [(1, \u0026#39;a\u0026#39;), (2, \u0026#39;b\u0026#39;), (3, \u0026#39;c\u0026#39;)]\rå¯ä»¥çœ‹åˆ°,zip()å‡½æ•°å¾—åˆ°çš„æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡,å¯ä»¥ç”¨äºè¿­ä»£,å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨dict()å’Œlist()å‡½æ•°å°†å…¶è½¬å˜ä¸ºå­—å…¸æˆ–è€…åˆ—è¡¨å¯¹è±¡.\n\r3.2 ç»™æœ¬åœ°å†™æ–‡ä»¶çš„ä¾‹å­\r# writing a file with FizzBuzz results\rwith open(\u0026#39;test_file.txt\u0026#39;, mode=\u0026#39;w\u0026#39;) as test_fh:\rfor x in range(1, 101):\rif (x % 3 == 0) and (x % 5 == 0):\rtest_fh.write(\u0026#39;{0:3d}\\t{1:s}\\n\u0026#39;.format(x, \u0026#39;FizzBuzz\u0026#39;))\relif x % 3 == 0:\rtest_fh.write(\u0026#39;{0:3d}\\t{1:s}\\n\u0026#39;.format(x, \u0026#39;Fizz\u0026#39;))\relif x % 5 == 0:\rtest_fh.write(\u0026#39;{0:3d}\\t{1:s}\\n\u0026#39;.format(x, \u0026#39;Buzz\u0026#39;))\relse:\rtest_fh.write(\u0026#39;{0:3d}\\n\u0026#39;.format(x))\ræœ€åå¾—åˆ°çš„æ–‡ä»¶å¦‚ä¸‹å›¾æ‰€ç¤º:\nä½¿ç”¨openå‘½ä»¤å¯ä»¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶,å¹¶å°†å…¶å‘½åä¸ºtest_fh,modeè®¾ç½®ä¸ºâ€™wâ€™,è¡¨æ˜å…¶æ˜¯å†™å…¥æ ¼å¼.è¯¥æ–‡ä»¶ä½¿ç”¨å…¶writeæ–¹æ³•è¿›è¡Œå†™å…¥.å¦‚æœæ˜¯è¯»å…¥çš„æ–‡ä»¶,å¯ä»¥å°†modeè®¾ç½®ä¸ºâ€™râ€™,ç„¶åä½¿ç”¨readæ–¹æ³•è·å¾—å†…å®¹.\nå¯ä»¥çœ‹åˆ°,å…¶ä¸­å¤§æ‹¬å·å†…éƒ¨çš„ç¬¬ä¸€ä¸ªæ•°å­—ä»£è¡¨å ä½ç¬¦,å†’å·ä¹‹åä»£è¡¨æ›¿æ¢çš„å¯¹è±¡ç±»å‹,æ¯”å¦‚dä¸ºæ•°å­—,sä¸ºå­—ç¬¦å‹.\n\r3.3 å¾ªç¯è¯­å¥ä¾‹å­\r# continue \u0026amp; break\rcount = -1\rwhile True:\rcount+=1\rprint(\u0026quot;count:\u0026quot; , count)\rif count == 3:\rcontinue\rif count == 6:\rbreak\rprint(\u0026quot;line after our continue\u0026quot;)\r## count: 0\r## line after our continue\r## count: 1\r## line after our continue\r## count: 2\r## line after our continue\r## count: 3\r## count: 4\r## line after our continue\r## count: 5\r## line after our continue\r## count: 6\rprint(\u0026quot;Done\u0026quot;)\r## Done\ra = 2 # 3, 2, 2\rb = 5 # 4, 3, 5 c = True\rd = False\rwhile a == 2:\rprint(\u0026#39;\\n0: begining\\t\u0026#39;, a, b, c, d)\rif b \u0026gt; 4:\rprint(\u0026#39;1: break\\t\u0026#39;, a, b, c, d)\rbreak\rif c:\rprint(\u0026#39;2: Truth\\t\u0026#39;, a, b, c, d)\rc = False\rcontinue\relif not d:\rprint(\u0026#39;3: elif\\t\\t\u0026#39;, a, b, c, d)\rc = True\rd = True\relse:\rb += 1\ra += 1\rprint (\u0026#39;4: after if\\t\u0026#39;, a, b, c, d)\relse:\rprint(\u0026#39;\\n5: exiting\\t\u0026#39;, a, b, c, d)\r## ## 0: begining 2 5 True False\r## 1: break 2 5 True False\r# Iterating over a dictionary\rmyDict = {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;:2, \u0026#39;c\u0026#39;:3, \u0026#39;d\u0026#39;:4}\r# Option 1\rfor key, value in myDict.items():\rprint(key, value, value*5)\r\r## a 1 5\r## b 2 10\r## c 3 15\r## d 4 20\rprint()\r# Option 2\rfor key in myDict:\rvalue = myDict[key]\rprint(key, value, value*5)\r## a 1 5\r## b 2 10\r## c 3 15\r## d 4 20\r\r\r","date":1574294400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574294400,"objectID":"dacb2afdf935e063d3c26acd39ed8bb8","permalink":"/post/2019-11-21-python-for-genomics-class-day04/","publishdate":"2019-11-21T00:00:00Z","relpermalink":"/post/2019-11-21-python-for-genomics-class-day04/","section":"post","summary":"1 æ¡ä»¶,å¾ªç¯åŠå…¶ä»–è¯­å¥ 1.1 printå’Œimportå‡½æ•° 1.1.1 æ‰“å°å¤šä¸ªå­—ç¬¦ä¸² 1.1.2 ä½¿ç”¨importå¯¼å…¥æ¨¡å— 1.2 Pythonä¸­çš„èµ‹å€¼ 1.2.1 åºåˆ—è§£åŒ… 1.2.2 é“¾å¼èµ‹å€¼ 1.2.3 å¢","tags":["Blog","Chinese"],"title":"Python for genomics class day04","type":"post"},{"authors":null,"categories":["R"],"content":"\rblogdownå¥½åƒå¹¶æ²¡æœ‰è‡ªåŠ¨åˆ›å»ºpostæ¨¡æ¿æ–‡ä»¶å¤¹çš„å‡½æ•°,è¦è¾¾åˆ°çš„ç›®çš„æ˜¯,è‡ªåŠ¨åœ¨content/en/postä¸­åˆ›å»ºæ–‡ä»¶å¤¹,ç„¶åæ–‡ä»¶å¤¹ä¸­æœ‰ä¸€ä¸ªindex.Rmdæ–‡ä»¶.ä»£ç å¦‚ä¸‹:\nnew_post \u0026lt;- function(\rpost.name = \u0026quot;python for genomics class day03\u0026quot;,\rdate = Sys.Date(),\rpost.title = \u0026quot;Python for genomics class day03\u0026quot;,\rauthor = \u0026quot;Xiaotao Shen\u0026quot;,\rcategories = c(\u0026quot;Python\u0026quot;),\rtags = c(\u0026quot;Blog\u0026quot;, \u0026quot;Chinese\u0026quot;),\rpath = \u0026quot;D:/my github/shen/content/en/post\u0026quot;){\rpost.name \u0026lt;- stringr::str_replace_all(post.name, \u0026quot; \u0026quot;, \u0026quot;-\u0026quot;)\rfile.name \u0026lt;- paste(date, post.name, sep = \u0026quot;-\u0026quot;)\rdir.create(file.path(path, file.name))\rfile \u0026lt;- \u0026quot;---\u0026quot;\rwrite.table(file, file.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = FALSE)\rwrite.table(paste(\u0026quot;title:\u0026quot;, post.title),\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = TRUE\r)\rwrite.table(paste(\u0026quot;author:\u0026quot;, author),\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = TRUE\r)\rwrite.table(paste(\u0026quot;date:\u0026quot;, date),\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = TRUE\r)\rwrite.table(\u0026quot;slug: \u0026#39;\u0026#39;\u0026quot;,\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = TRUE\r)\rwrite.table(\u0026quot;categories:\u0026quot;,\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = TRUE\r)\rfor(i in 1:length(categories)){\rwrite.table(paste(\u0026quot; - \u0026quot;, categories[i]),\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = TRUE\r)\r}\rwrite.table(\u0026quot;tags:\u0026quot;,\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = TRUE\r)\rfor(i in 1:length(tags)){\rwrite.table(paste(\u0026quot; - \u0026quot;, tags[i]),\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;), row.names = FALSE, col.names = FALSE, quote = FALSE, append = TRUE\r)\r}\rend \u0026lt;- \u0026quot;image:\rcaption: \u0026#39;\u0026#39;\rfocal_point: \u0026#39;\u0026#39;\routput:\rblogdown::html_page:\rtoc: true\rnumber_sections: true\r---\u0026quot;\rwrite.table(\rend,\rfile.path(path, file.name, \u0026quot;index.txt\u0026quot;),\rrow.names = FALSE,\rcol.names = FALSE,\rquote = FALSE,\rappend = TRUE\r)\rfile.rename(from = file.path(path, file.name, \u0026quot;index.txt\u0026quot;),\rto = file.path(path, file.name, \u0026quot;index.Rmd\u0026quot;))\r}\r\r","date":1574208000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574208000,"objectID":"ac5cbe5eb0af255e7d5bb2d221a3ccc5","permalink":"/post/2019-11-20-blogdown-creat-post/","publishdate":"2019-11-20T00:00:00Z","relpermalink":"/post/2019-11-20-blogdown-creat-post/","section":"post","summary":"blogdownå¥½åƒå¹¶æ²¡æœ‰è‡ªåŠ¨åˆ›å»ºpostæ¨¡æ¿æ–‡ä»¶å¤¹çš„å‡½æ•°,è¦è¾¾åˆ°çš„ç›®çš„æ˜¯,è‡ªåŠ¨åœ¨content/en/postä¸­åˆ›å»ºæ–‡ä»¶å¤¹,ç„¶åæ–‡ä»¶å¤¹ä¸­æœ‰","tags":["Blog","Chinese"],"title":"blogdownåˆ›å»ºpostæ¨¡æ¿æ–‡ä»¶å¤¹","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 æ•°æ®ç±»å‹\r1.1 åˆ—è¡¨(list)å’Œå…ƒç»„(tuple)\r1.1.1 åˆ›å»ºåˆ—è¡¨\r1.1.2 åˆ—è¡¨é€šç”¨çš„æ“ä½œ\r1.1.3 åˆ—è¡¨,Pythonçš„ä¸»åŠ›\r1.1.4 æ€»ç»“\r\r1.2 å­—ç¬¦ä¸²\r1.2.1 å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œ\r1.2.2 å­—å…¸\r\r\r2 æ¡ä»¶,å¾ªç¯åŠå…¶ä»–è¯­å¥\r2.1 æ¡ä»¶å’Œæ¡ä»¶è¯­å¥\r\r3 Day03ä½œä¸š\r3.1 fastaæ–‡ä»¶çš„æ ¼å¼\r3.2 read_fastaå‡½æ•°\r3.2.1 openå‡½æ•°\r3.2.2 withè¯­å¥\r\r\r\r\r1 æ•°æ®ç±»å‹\rData types and manipulations:dictionary, set\nConditional statements:if, elif, else, break, continue\nComments and style:[https://realpython.com/python-pep8/]\n\r# Python style\r#\r# PEP8\r# https://realpython.com/python-pep8/\r# https://www.python.org/dev/peps/pep-0008/\r#\r# Python history\r#\r# Guido van Rossum, creator in 1989. He retired last month. Final job was with Dropbox.\r# https://en.wikipedia.org/wiki/Python_(programming_language)\ra = 1\rb = 1.0\rc = \u0026#39;1\u0026#39;\rd = [1, 2]\re = (1, 2)\rf = { \u0026#39;x\u0026#39;:1, \u0026#39;y\u0026#39;:2}\rg = {1, 2}\r#aæ˜¯intæ•´æ•°å‹\rprint(\u0026#39;a =\u0026#39;, type(a))\r#bæ˜¯æµ®ç‚¹å‹(float)\r## a = \u0026lt;class \u0026#39;int\u0026#39;\u0026gt;\rprint(\u0026#39;b =\u0026#39;, type(b))\r#cæ˜¯å­—ç¬¦ä¸²å‹(str)\r## b = \u0026lt;class \u0026#39;float\u0026#39;\u0026gt;\rprint(\u0026#39;c =\u0026#39;, type(c))\r#dæ˜¯åˆ—è¡¨,å¯ä»¥çœ‹åˆ°åˆ—è¡¨ä½¿ç”¨ä¸­æ‹¬å·åˆ›å»º\r## c = \u0026lt;class \u0026#39;str\u0026#39;\u0026gt;\rprint(\u0026#39;d =\u0026#39;, type(d))\r#eæ˜¯å…ƒç»„(tuple),ä½¿ç”¨å°æ‹¬å·åˆ›å»º\r## d = \u0026lt;class \u0026#39;list\u0026#39;\u0026gt;\rprint(\u0026#39;e =\u0026#39;, type(e))\r#fæ˜¯å­—å…¸ç±»å‹(dict),ä½¿ç”¨å¤§æ‹¬å·åˆ›å»º\r## e = \u0026lt;class \u0026#39;tuple\u0026#39;\u0026gt;\rprint(\u0026#39;f =\u0026#39;, type(f))\r#gæ˜¯é›†åˆç±»å‹,ä¹Ÿæ˜¯ä½¿ç”¨å¤§æ‹¬å·åˆ›å»º,ä½†æ˜¯æ²¡æœ‰key\r## f = \u0026lt;class \u0026#39;dict\u0026#39;\u0026gt;\rprint(\u0026#39;g =\u0026#39;, type(g))\r## g = \u0026lt;class \u0026#39;set\u0026#39;\u0026gt;\rå¯¹å‡ ä¸ªé‡è¦çš„ç±»å‹åšä¸€ä¸ªè¯¦ç»†è§£é‡Š.å…·ä½“å†…å®¹å‚è€ƒPythonåŸºç¡€æ•™ç¨‹è¿™æœ¬ä¹¦\n1.1 åˆ—è¡¨(list)å’Œå…ƒç»„(tuple)\råˆ—è¡¨å’Œå…ƒç»„æ˜¯éå¸¸ç±»ä¼¼çš„,ä¸åŒç‚¹åœ¨äºåˆ—è¡¨å¯ä»¥ä¿®æ”¹è€Œå…ƒç»„ä¸å¯ä»¥.\n1.1.1 åˆ›å»ºåˆ—è¡¨\rå¯ä»¥ä½¿ç”¨ä¸­æ‹¬å·[]æ¥åˆ›å»ºåˆ—è¡¨\nedward = [\u0026#39;Edward Gumby\u0026#39;, 42]\rjohn = [\u0026#39;John Smith\u0026#39;, 50]\rdatabase = [edward, john]\rdatabase\r## [[\u0026#39;Edward Gumby\u0026#39;, 42], [\u0026#39;John Smith\u0026#39;, 50]]\råŒæ ·çš„,åˆ—è¡¨ä¸­çš„å…ƒç´ ä¹Ÿå¯ä»¥æ˜¯åˆ—è¡¨,å°±åƒä¸Šé¢çš„ä¾‹å­æ‰€å±•ç¤ºçš„.\ntest = [\u0026quot;shen\u0026quot;]\rtype(test)\r## \u0026lt;class \u0026#39;list\u0026#39;\u0026gt;\rtest[0]\r## \u0026#39;shen\u0026#39;\r\r1.1.2 åˆ—è¡¨é€šç”¨çš„æ“ä½œ\ræœ‰å‡ ç§æ“ä½œé€‚ç”¨äºæ‰€æœ‰åºåˆ—,åŒ…æ‹¬ç´¢å¼•,åˆ‡ç‰‡,ç›¸åŠ ,ç›¸ä¹˜å’Œæˆå‘˜èµ„æ ¼æ£€æŸ¥.å¦å¤–,Pythonè¿˜æä¾›äº†ä¸€äº›å†…ç½®å‡½æ•°,å¯ç”¨äºç¡®å®šåºåˆ—çš„é•¿åº¦ä»¥åŠæ‰¾å‡ºåºåˆ—ä¸­æœ€å¤§å’Œæœ€å°çš„å…ƒç´ .\n1.1.2.1 ç´¢å¼•(index)\rä¸Rç±»å‹,åˆ—è¡¨éƒ½æœ‰åºå·,ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯,pythonä¸­çš„åºå·éƒ½æ˜¯ä»0å¼€å§‹çš„.\ngreeting = \u0026#39;Hello\u0026#39;\rgreeting[0]\r## \u0026#39;H\u0026#39;\rgreeting[1]\r## \u0026#39;e\u0026#39;\ræ³¨æ„ä¸Šé¢ä¾‹å­ä¸­greetingçš„ç±»å‹æ˜¯str,ä¹Ÿå°±æ˜¯è¯´pythonä¸­çš„strä¹Ÿå¯ä»¥é€šè¿‡åºå·è¿›è¡Œæå–æŸä¸ªå­—ç¬¦.\nè¿™å°±ç§°ä¹‹ä¸ºç´¢å¼•,å…¶ä¸­ä½¿ç”¨-1ä»£è¡¨æœ€åä¸€ä¸ªå…ƒç´ .\ngreeting[-1]\r## \u0026#39;o\u0026#39;\r\r1.1.2.2 åˆ‡ç‰‡(slicing)\råˆ‡ç‰‡æ˜¯ç”¨æ¥è®¿é—®ç‰¹å®šèŒƒå›´å†…çš„å…ƒç´ .ä¸ºæ­¤,å¯ä½¿ç”¨ä¸¤ä¸ªç´¢å¼•,å¹¶ç”¨å†’å·åˆ†éš”.\ntest = [\u0026quot;shen\u0026quot;, \u0026quot;wang\u0026quot;, \u0026quot;zhao\u0026quot;, \u0026quot;qian\u0026quot;, \u0026quot;sun\u0026quot;]\rtest[0]\r## \u0026#39;shen\u0026#39;\rtest[0:1]\r## [\u0026#39;shen\u0026#39;]\rtest[1:3]\r## [\u0026#39;wang\u0026#39;, \u0026#39;zhao\u0026#39;]\rtest[1:-1]\r## [\u0026#39;wang\u0026#39;, \u0026#39;zhao\u0026#39;, \u0026#39;qian\u0026#39;]\rtest[1:]\r## [\u0026#39;wang\u0026#39;, \u0026#39;zhao\u0026#39;, \u0026#39;qian\u0026#39;, \u0026#39;sun\u0026#39;]\ré€šè¿‡ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹åˆ°,å¯¹äºåˆ‡ç‰‡çš„ä¸¤ä¸ªç´¢å¼•,å‡ºæ¥çš„ç»“æœåŒ…å«å·¦è¾¹ç´¢å¼•çš„ç»“æœ,è€Œä¸åŒ…å«å³è¾¹indexçš„ç»“æœ.å¦‚æœéœ€è¦åŒ…å«æŸä¸€è¾¹çš„æ‰€æœ‰ç»“æœ,åˆ™åªéœ€è¦å°†å†’å·çš„æŸä¸€è¾¹ç©ºå‡ºæ¥å³å¯.\nå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨è´Ÿæ•°æ¥è¿›è¡Œç´¢å¼•,å› ä¸ºæˆ‘ä»¬çŸ¥é“-1æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ,-2æ˜¯å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ .\ntest = [1,2,3,4,5]\rtest[-3:-1]\r## [3, 4]\rtest[-3:0]\r## []\rtest[-3:]\r## [3, 4, 5]\rå¯ä»¥çœ‹åˆ°å¦‚æœæ‰§è¡Œåˆ‡ç‰‡æ“ä½œæ—¶,ç¬¬ä¸€ä¸ªç´¢å¼•æŒ‡å®šçš„å…ƒç´ ä½äºç¬¬äºŒä¸ªç´¢å¼•æŒ‡å®šçš„å…ƒç´ åé¢,ç»“æœå°±ä¸ºç©ºåºåˆ—.\n\r1.1.2.3 åºåˆ—ç›¸åŠ \rå¯ä»¥ä½¿ç”¨åŠ æ³•è¿ç®—ç¬¦æ¥æ‹¼æ¥åºåˆ—.\n[1, 2, 3] + [4, 5, 6]\r## [1, 2, 3, 4, 5, 6]\r\u0026#39;Hello,\u0026#39; + \u0026#39;world!\u0026#39;\r## \u0026#39;Hello,world!\u0026#39;\rä»é”™è¯¯æ¶ˆæ¯å¯çŸ¥,ä¸èƒ½æ‹¼æ¥åˆ—è¡¨å’Œå­—ç¬¦ä¸²,,è™½ç„¶å®ƒä»¬éƒ½æ˜¯åºåˆ—.ä¸€èˆ¬è€Œè¨€,ä¸èƒ½æ‹¼æ¥ä¸åŒç±»å‹çš„åºåˆ—.\n\r1.1.2.4 ä¹˜æ³•\rå°†åºåˆ—ä¸æ•°xç›¸ä¹˜æ—¶,å°†é‡å¤è¿™ä¸ªåºåˆ—xæ¬¡æ¥åˆ›å»ºä¸€ä¸ªæ–°åºåˆ—:\n\u0026#39;python\u0026#39; * 5\r## \u0026#39;pythonpythonpythonpythonpython\u0026#39;\r[1,2,3] * 5\r## [1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3, 1, 2, 3]\rNone,ç©ºåˆ—è¡¨å’Œåˆå§‹åŒ–\nç©ºåˆ—è¡¨æ˜¯ä½¿ç”¨ä¸åŒ…å«ä»»ä½•å†…å®¹çš„ä¸¤ä¸ªæ–¹æ‹¬å·([])è¡¨ç¤ºçš„.å¦‚æœè¦åˆ›å»ºä¸€ä¸ªå¯åŒ…å«10ä¸ªå…ƒç´ çš„åˆ—è¡¨,ä½†æ²¡æœ‰ä»»ä½•æœ‰ç”¨çš„å†…å®¹,å¯åƒå‰é¢é‚£æ ·ä½¿ç”¨[42]*10.ä½†æ›´å‡†ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨[0]*10,è¿™å°†åˆ›å»ºä¸€ä¸ªåŒ…å«10ä¸ªé›¶çš„åˆ—è¡¨.ä½†æ˜¯æ›´ä¸ºå‡†ç¡®åˆé€‚çš„ä½œå‘æ˜¯ä½¿ç”¨None,åœ¨pythonä¸­,Noneä»£è¡¨ä»€ä¹ˆéƒ½æ²¡æœ‰.\nNone\r[None]\r## [None]\rsequence = [None] * 10\rsequence\r## [None, None, None, None, None, None, None, None, None, None]\r\r1.1.2.5 æˆå‘˜èµ„æ ¼\rè¦æ£€æŸ¥ç‰¹å®šçš„å€¼æ˜¯å¦å­˜åœ¨ä¸åºåˆ—ä¸­,å¯ä»¥ä½¿ç”¨åˆ¤æ–­è¿ç®—ç¬¦in.è¿”å›å€¼ä¸ºé€»è¾‘å€¼,æ»¡è¶³æ—¶è¿”å›ä¸ºTrue,ä¸æ»¡è¶³æ—¶è¿”å›False.\npermisions = \u0026quot;rw\u0026quot;\r\u0026#39;w\u0026#39; in permisions\r## True\r\u0026#39;T\u0026#39; in permisions\r## False\rusers = [\u0026quot;shen\u0026quot;, \u0026quot;wang\u0026quot;]#ä¸€ä¸ªåˆ—è¡¨\r\u0026#39;wang\u0026#39; in users\r## True\r\u0026#39;tao\u0026#39; in users\r## False\r\r1.1.2.6 é•¿åº¦,æœ€å¤§å€¼å’Œæœ€å°å€¼\rä½¿ç”¨å†…ç½®å‡½æ•°å¯ä»¥å¾—åˆ°ä¸€ä¸ªåˆ—è¡¨çš„é•¿åº¦,æœ€å¤§å€¼åŠæœ€å°å€¼.\nnumber = [1,2,3,4]#åˆ—è¡¨\rlen(number)\r## 4\rmax(number)\r## 4\rmin(number)\r## 1\rstring = [\u0026quot;a\u0026quot;, 1 ,2,3]\rstring\r# len(string)\r# max(string)\r## [\u0026#39;a\u0026#39;, 1, 2, 3]\rlen(\u0026quot;shen\u0026quot;)\r## 4\rlen([\u0026quot;shen\u0026quot;])\r## 1\r\r\r1.1.3 åˆ—è¡¨,Pythonçš„ä¸»åŠ›\råˆ—è¡¨æ˜¯Pythonä¸­ä½¿ç”¨éå¸¸å¹¿æ³›çš„ç±»å‹.\n1.1.3.1 list()å‡½æ•°\rlist()å‡½æ•°å¯ä»¥ç”¨æ¥ç®€å†åˆ—è¡¨.\nlist(\u0026quot;shen\u0026quot;)\r## [\u0026#39;s\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;]\rlist([1,2,3])\r## [1, 2, 3]\råˆ—è¡¨æ˜¯å¯ä»¥æ”¹å˜çš„.\n\r1.1.3.2 åˆ—è¡¨çš„åŸºæœ¬æ“ä½œ\råˆ—è¡¨çš„æœ€å¤§æœ‰ç‚¹åœ¨äºå®ƒæ˜¯å¯ä»¥ä¿®æ”¹çš„.\n1.1.3.2.1 ä¿®æ”¹åˆ—è¡¨:ç»™å…ƒç´ èµ‹å€¼\rx = [1,2,3]\rx\r## [1, 2, 3]\rx[2] = 5\rx\r## [1, 2, 5]\r\r1.1.3.2.2 åˆ é™¤åˆ—è¡¨ä¸­çš„å…ƒç´ \rä½¿ç”¨delè¯­å¥å¯ä»¥åˆ é™¤åˆ—è¡¨ä¸­çš„æŸä¸ªå…ƒç´ .\nnames = [\u0026quot;alice\u0026quot;, \u0026quot;beth\u0026quot;, \u0026quot;cecil\u0026quot;]\rdel names[1]\rnames\r## [\u0026#39;alice\u0026#39;, \u0026#39;cecil\u0026#39;]\r\r1.1.3.2.3 ä½¿ç”¨åˆ‡ç‰‡å¯¹å¤šä¸ªå…ƒç´ è¿›è¡Œä¿®æ”¹\rname = list(\u0026quot;name\u0026quot;)\rname\r## [\u0026#39;n\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;m\u0026#39;, \u0026#39;e\u0026#39;]\rname[2:] = list(\u0026quot;shen\u0026quot;)\rname\r## [\u0026#39;n\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;s\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;]\rname[4:] = list(\u0026quot;wa\u0026quot;)\rname\r## [\u0026#39;n\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;s\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;w\u0026#39;, \u0026#39;a\u0026#39;]\réœ€è¦æ³¨æ„çš„æ˜¯,ä½¿ç”¨åˆ‡ç‰‡è¿›è¡Œèµ‹å€¼æˆ–è€…ä¿®æ”¹,æ˜¯å¯ä»¥å°†å…¶æ›¿æ¢ä¸ºä¸åŒé•¿åº¦çš„ä¸œè¥¿çš„.\ntest = list(\u0026quot;wang\u0026quot;)\rtest\r## [\u0026#39;w\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;n\u0026#39;, \u0026#39;g\u0026#39;]\rtest[2:] = list(\u0026quot;shen\u0026quot;)\rtest\r## [\u0026#39;w\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;s\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;]\rtest[2:3]\r## [\u0026#39;s\u0026#39;]\rtest[2:3] = list(\u0026quot;shen\u0026quot;)\rtest\r## [\u0026#39;w\u0026#39;, \u0026#39;a\u0026#39;, \u0026#39;s\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;]\rè¿˜å¯ä»¥ä½¿ç”¨è¿™ä¸ªç‰¹æ€§è¿›è¡Œå…ƒç´ çš„æ’å…¥:\nnumbers = [1, 5]\rnumbers\r## [1, 5]\rnumbers[1:1]##è¿™æ˜¯ä¸€ä¸ªç©ºåˆ—è¡¨\r## []\rnumbers[1:1] = [2, 3, 4]#åœ¨ç¬¬äºŒä¸ªä½ç½®å¼€å§‹,æ’å…¥æ–°çš„list\rnumbers\r## [1, 2, 3, 4, 5]\rå½“ç„¶,è¿˜å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§åˆ é™¤åˆ‡ç‰‡.\nnumbers\r## [1, 2, 3, 4, 5]\rnumbers[1:4]\r## [2, 3, 4]\rnumbers[1:4] = []\rnumbers\r## [1, 5]\rå½“ç„¶,åˆ é™¤ä»ç„¶å¯ä»¥ä½¿ç”¨delè¯­å¥å®ç°,æœ€åç»“æœæ˜¯ä¸€è‡´çš„.\n\r1.1.3.2.4 åˆ—è¡¨æ–¹æ³•\ræ–¹æ³•æ˜¯ä¸æŸåˆ—å¯¹è±¡è”ç³»ç´§å¯†çš„å‡½æ•°,ä¸€èˆ¬ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•è¿›è¡Œè°ƒç”¨:\nobject.method(arguments)\rè¿™ä¹Ÿæ˜¯è·ŸRä¸åŒçš„ä¸€ç‚¹,Rä¸­å¹¶æ²¡æœ‰è¿™ç±»æ–¹æ³•.\nappend\r\rç”¨äºå°†ä¸€ä¸ªå¯¹è±¡æ·»åŠ åˆ°åˆ—è¡¨æœ«å°¾.\ntest = [1,2,3]\rtest\r## [1, 2, 3]\rtest.append(2)\rtest\r## [1, 2, 3, 2]\rtest.append([5,6,7])\rtest\r## [1, 2, 3, 2, [5, 6, 7]]\rtest.append(10)\rtest\r## [1, 2, 3, 2, [5, 6, 7], 10]\rtest + [20]\r## [1, 2, 3, 2, [5, 6, 7], 10, 20]\rtest + [10,20]\r## [1, 2, 3, 2, [5, 6, 7], 10, 10, 20]\rclear\r\rç”¨æ¥æ¸…ç©ºåˆ—è¡¨çš„å†…å®¹.\ntest = [1,2,3]\rtest.clear()\rtest\r## []\rå®Œå…¨æ¸…ç©ºæ‰€æœ‰çš„å†…å®¹.\ncopy\r\rç”¨æ¥å¤åˆ¶åˆ—è¡¨.åœ¨Pythonä¸­,ç›´æ¥ä½¿ç”¨=å°†ä¸€ä¸ªåˆ—è¡¨èµ‹å€¼ç»™å¦å¤–ä¸€ä¸ªå¯¹è±¡å,å…¶å®åªæ˜¯å…³è”è€Œå·²,ä¹Ÿå°±æ˜¯è¯´å…¶å®åŒä¸€ä¸ªåˆ—è¡¨å…³è”åˆ°äº†ä¸¤ä¸ªåå­—è€Œå·².\na = [1,2,3]\rb = a\rb[1] = 10\rb\r## [1, 10, 3]\ra##aä¹Ÿä¼šæ”¹å˜,å’Œbä¿æŒä¸€è‡´\r## [1, 10, 3]\ræƒ³è¦æŠŠaå’ŒbæŒ‡å‘ä¸¤ä¸ªç‹¬ç«‹çš„ä¸åŒçš„åˆ—è¡¨,éœ€è¦ä½¿ç”¨copy,å°†bå…³è”åˆ°açš„å‰¯æœ¬.\na = [1,2,3]\rb = a.copy()\rb[1] = 10\rb\r## [1, 10, 3]\ra\r## [1, 2, 3]\rcount\r\rç”¨æ¥ç»Ÿè®¡æŒ‡å®šçš„å…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°.\na = [1,2,3,4,4]\ra.count(1)\r## 1\ra.count(4)\r## 2\rcount()ä¸€å…±æœ‰ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºâ€™selfâ€™,ä¹Ÿå°±æ˜¯å‰é¢çš„å¯¹è±¡,åä¹°ä½ çš„å‚æ•°ä¸ºvalueæŒ‡å®šè¦ç»Ÿè®¡çš„å…ƒç´ .\nextend\r\rè¿™ä¸ªæ–¹æ³•è·Ÿappendçš„åŒºåˆ«åœ¨äº,å®ƒå¯ä»¥å°†ä¸€ä¸ªç‹¬ç«‹çš„åˆ—è¡¨æ·»åŠ åˆ°åˆ—è¡¨åé¢.\na = [1,2,3]\rb = [4,5,6]\ra.extend(b)\ra\r## [1, 2, 3, 4, 5, 6]\ra.append(b)\ra\r## [1, 2, 3, 4, 5, 6, [4, 5, 6]]\ra + b\r## [1, 2, 3, 4, 5, 6, [4, 5, 6], 4, 5, 6]\ra\r## [1, 2, 3, 4, 5, 6, [4, 5, 6]]\réœ€è¦æ³¨æ„è¿™å‡ ç§æ–¹æ³•çš„åŒºåˆ«.\nindex\r\rç”¨äºæŸ¥æ‰¾åˆ—è¡¨ä¸­æŒ‡å®šå€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•.\ntest = list(\u0026quot;shen\u0026quot;)\rtest\r## [\u0026#39;s\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;]\rtest.index(\u0026quot;h\u0026quot;)\r## 1\rinsert\r\rå°†ä¸€ä¸ªå¯¹è±¡æ’å…¥åˆ°åˆ—è¡¨ä¸­.\na = [1,2,3]\ra\r## [1, 2, 3]\ra.insert(1, \u0026quot;four\u0026quot;)\ra\r## [1, \u0026#39;four\u0026#39;, 2, 3]\ra.insert(0, [1, \u0026quot;shen\u0026quot;])\ra\r## [[1, \u0026#39;shen\u0026#39;], 1, \u0026#39;four\u0026#39;, 2, 3]\rinsertç¬¬ä¸€ä¸ªå‚æ•°ç”¨æ¥æŒ‡å®šéœ€è¦æ’å…¥çš„ä½ç½®(ç´¢å¼•),ç¬¬äºŒä¸ªå‚æ•°ç”¨æ¥æŒ‡å®šéœ€è¦æ’å…¥çš„å†…å®¹.æ’å…¥çš„å†…å®¹å¯ä»¥æ˜¯å•ä¸ªå…ƒç´ ,ä¹Ÿå¯ä»¥æ˜¯åˆ—è¡¨.\npop\r\råˆ é™¤ä¸€ä¸ªå…ƒç´ ,é»˜è®¤ä¸ºæœ€åä¸€ä¸ª.ä¿®æ”¹åŸåˆ—è¡¨,å¹¶è¿”å›åˆ é™¤çš„å…ƒç´ .\nx = [1,2,3]\rx.pop()\r## 3\rx\r## [1, 2]\rå½“ç„¶,ä¹Ÿå¯ä»¥ä½¿ç”¨index'å‚æ•°,æŒ‡å®šéœ€è¦åˆ é™¤çš„å…ƒç´ .\nremove\r\rç”¨äºåˆ é™¤ç¬¬ä¸€ä¸ªä¸ºæŒ‡å®šå€¼çš„å…ƒç´ .\ntest = list(\u0026quot;shen\u0026quot;)\rtest.remove(\u0026quot;h\u0026quot;)\rtest\r## [\u0026#39;s\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;]\réœ€è¦æ³¨æ„çš„æ˜¯,åªåˆ é™¤ç¬¬ä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å…ƒç´ ,å…¶ä»–çš„ä¸ä¼šåˆ é™¤.\nreverse\r\rå°†å…ƒç´ é¡ºåºæŒ‰ç›¸åé¡ºåºé‡æ–°æ’åˆ—.\nsort\r\rå¯¹åˆ—è¡¨å…ƒç´ é‡æ–°è¿›è¡Œæ’åˆ—.\nx = [\u0026#39;aardvark\u0026#39;, \u0026#39;abalone\u0026#39;, \u0026#39;acme\u0026#39;, \u0026#39;add\u0026#39;, \u0026#39;aerate\u0026#39;, \u0026quot;shen\u0026quot;, \u0026quot;wang\u0026quot;, \u0026quot;china\u0026quot;, \u0026quot;us\u0026quot;]\rx.sort()\rx\r## [\u0026#39;aardvark\u0026#39;, \u0026#39;abalone\u0026#39;, \u0026#39;acme\u0026#39;, \u0026#39;add\u0026#39;, \u0026#39;aerate\u0026#39;, \u0026#39;china\u0026#39;, \u0026#39;shen\u0026#39;, \u0026#39;us\u0026#39;, \u0026#39;wang\u0026#39;]\rsortå‡½æ•°è¿˜å¯ä»¥é€šè¿‡è®¾ç½®keyå‚æ•°æ¥è‡ªå®šä¹‰æ’åˆ—è§„åˆ™,å¦‚å¯ä»¥å°†keyè®¾ç½®ä¸ºå‡½æ•°len,ä»è€Œå°†åˆ—è¡¨æŒ‰ç…§å…ƒç´ çš„é•¿åº¦è¿›è¡Œæ’åº.\nx.sort(key = len)\rx\r## [\u0026#39;us\u0026#39;, \u0026#39;add\u0026#39;, \u0026#39;acme\u0026#39;, \u0026#39;shen\u0026#39;, \u0026#39;wang\u0026#39;, \u0026#39;china\u0026#39;, \u0026#39;aerate\u0026#39;, \u0026#39;abalone\u0026#39;, \u0026#39;aardvark\u0026#39;]\r\r\r1.1.3.3 å…ƒç»„(tuple):ä¸å¯ä¿®æ”¹çš„åºåˆ—\rå…ƒç»„ä¹Ÿæ˜¯åºåˆ—,ä½†æ˜¯è·Ÿåˆ—è¡¨ä¸åŒçš„æ˜¯,å…ƒç»„æ˜¯ä¸èƒ½ä¿®æ”¹çš„.\n1.1.3.3.1 åˆ›å»ºå…ƒç»„\rä½¿ç”¨å°æ‹¬å·(())å¯ä»¥åˆ›å»ºå…ƒç»„.\nx = (1,2,3)\rx\r## (1, 2, 3)\rtype(x)\r## \u0026lt;class \u0026#39;tuple\u0026#39;\u0026gt;\r()#ç©ºå…ƒç»„\r## ()\råˆ›å»ºåªå«æœ‰ä¸€ä¸ªå…ƒç´ çš„å…ƒç»„æ¯”è¾ƒç‰¹æ®Š,éœ€è¦åœ¨å…ƒç´ åé¢åŠ ä¸Šé€—å·.å¦‚æœä¸åŠ é€—å·,ä¸èƒ½å¸¸è§å…ƒç»„.\nx = (42)\rx\r## 42\rtype(x)\r## \u0026lt;class \u0026#39;int\u0026#39;\u0026gt;\ry = (x, )\ry\r## (42,)\rtype(y)\r## \u0026lt;class \u0026#39;tuple\u0026#39;\u0026gt;\r3 * (10+3)\r## 39\r3 * (10+3,)\r## (13, 13, 13)\rçœ‹äº†ä¸Šé¢çš„ä¾‹å­,å¯ä»¥å¾ˆå¥½çš„æ˜ç™½ä¸ºä»€ä¹ˆéœ€è¦åŠ ä¸Šé€—å·,å› ä¸ºå°æ‹¬å·åœ¨æ•°å­¦è¿ç®—ä¸­è¿˜è¡¨ç¤ºè¿ç®—ä¼˜å…ˆçº§çš„æ„æ€,æ‰€ä»¥éœ€è¦ä½¿ç”¨é€—å·æ¥åŒºåˆ†æ˜¯è¿›è¡Œæ•°å­¦è¿ç®—,è¿˜æ˜¯è¦åˆ›å»ºå…ƒç»„.\nå½“ç„¶,å’Œåˆ—è¡¨ä¸€æ ·,æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨tuple()å‡½æ•°æ¥åˆ›å»ºå…ƒç»„.\ntuple([1, 2, 3])\r## (1, 2, 3)\rtuple(\u0026quot;shen\u0026quot;)\r## (\u0026#39;s\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;)\rä½ å¯èƒ½æ„è¯†åˆ°äº†,å…ƒç»„å¹¶ä¸å¤ªå¤æ‚,è€Œä¸”é™¤åˆ›å»ºå’Œè®¿é—®å…¶å…ƒç´ å¤–,å¯å¯¹å…ƒç»„æ‰§è¡Œçš„æ“ä½œä¸å¤š.å…ƒç»„çš„åˆ›å»ºåŠå…¶å…ƒç´ çš„è®¿é—®æ–¹å¼ä¸å…¶ä»–åºåˆ—ç›¸åŒ.\né‚£ä¸ºä»€ä¹ˆè¦å•ç‹¬å‡ºæ¥ä¸€ä¸ªå…ƒç»„ç±»å‹å‘¢?æœ‰ä¸¤ä¸ªåŸå› :\nå®ƒä»¬ç”¨ä½œæ˜ å°„ä¸­çš„é”®(ä»¥åŠé›†åˆçš„æˆå‘˜),è€Œåˆ—è¡¨ä¸è¡Œ.\n\ræœ‰äº›å†…ç½®å‡½æ•°å’Œæ–¹æ³•è¿”å›å…ƒç»„,è¿™æ„å‘³ç€å¿…é¡»è·Ÿå®ƒä»¬æ‰“äº¤é“.åªè¦ä¸å°è¯•ä¿®æ”¹å…ƒç»„,ä¸å…ƒç»„æ‰“äº¤é“é€šå¸¸æ„å‘³ç€åƒå¤„ç†åˆ—è¡¨ä¸€æ ·å¤„ç†å®ƒä»¬(éœ€è¦ä½¿ç”¨å…ƒç»„æ²¡æœ‰çš„indexå’Œcountç­‰æ–¹æ³•æ—¶ä¾‹å¤–).\n\r\r\r\r\r1.1.4 æ€»ç»“\ræ–°çš„å‡½æ•°:\n\r\rFunction\rMeaning\r\r\r\rlen(seq)\rè¿”å›åºåˆ—é•¿åº¦\r\rlist(seq)\rå°†åºåˆ—è½¬æ¢ä¸ºåˆ—è¡¨\r\rmax(args)\rè¿”å›åºåˆ—æˆ–è€…ä¸€ç»„å‚æ•°ä¸­çš„æœ€å¤§å€¼\r\rmin(args)\rè¿”å›åºåˆ—æˆ–è€…ä¸€ç»„å‚æ•°ä¸­çš„æœ€å°å€¼\r\rreversed(seq)\råå‘æ’åˆ—åºåˆ—\r\rsorted(seq)\rå¯¹åˆ—è¡¨æˆ–è€…åºåˆ—è¿›è¡Œæ’åº\r\rtuple(seq)\rå°†åºåˆ—è½¬æ¢ä¸ºå…ƒç»„\r\r\r\råˆ—è¡¨(list)çš„æ–¹æ³•\n\r\rMethod\rMeaning\r\r\r\rappend\rå°†ä¸€ä¸ªå¯¹è±¡é™„åŠ åˆ°åˆ—è¡¨æœ«å°¾\r\rclear\ræ¸…ç©ºåˆ—è¡¨çš„å†…å®¹\r\rcopy\rå¤åˆ¶åˆ—è¡¨\r\rcount\rè®¡ç®—æŒ‡å®šçš„å…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°äº†å¤šå°‘æ¬¡\r\rextend\råŒæ—¶å°†å¤šä¸ªå€¼é™„åŠ åˆ°åˆ—è¡¨æœ«å°¾\r\rindex\råœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾æŒ‡å®šå€¼ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•\r\rinsert\rå°†ä¸€ä¸ªå¯¹è±¡æ’å…¥åˆ—è¡¨\r\rpop\rä»åˆ—è¡¨ä¸­åˆ é™¤ä¸€ä¸ªå…ƒç´ (é»˜è®¤ä¸ºæœ€åä¸€ä¸ªå…ƒç´ )\r\rremove\rç”¨äºåˆ é™¤ç¬¬ä¸€ä¸ªä¸ºæŒ‡å®šå€¼çš„å…ƒç´ \r\rreverse\ræŒ‰ç›¸åçš„é¡ºåºæ’åˆ—åˆ—è¡¨ä¸­çš„å…ƒç´ \r\rsort\rå¯¹åˆ—è¡¨è¿›è¡Œæ’åº\r\r\r\r\r\r1.2 å­—ç¬¦ä¸²\r1.2.1 å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œ\ræ‰€æœ‰çš„æ ‡å‡†åºåˆ—æ“ä½œ(ç´¢å¼•,åˆ‡ç‰‡,ä¹˜æ³•,æˆå‘˜èµ„æ ¼æ£€æŸ¥,é•¿åº¦,æœ€å°å€¼å’Œæœ€å¤§å€¼)éƒ½é€‚ç”¨äºå­—ç¬¦ä¸².ä½†æ˜¯æ³¨æ„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„.\n1.2.1.1 å­—ç¬¦ä¸²æ ¼å¼\rå°†å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è®¾ç½®å…¶æ ¼å¼æ˜¯ä¸€ä¸ªé‡è¦çš„æ“ä½œ,éœ€è¦è€ƒè™‘ä¼—å¤šä¸åŒçš„éœ€æ±‚,å› æ­¤éšç€æ—¶é—´çš„æµé€,Pythonæä¾›äº†å¤šç§å­—ç¬¦ä¸²æ ¼å¼è®¾ç½®æ–¹æ³•.ä»¥å‰,ä¸»è¦çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å­—ç¬¦ä¸²æ ¼å¼è®¾ç½®è¿ç®—ç¬¦â€”â€”ç™¾åˆ†å·.è¿™ä¸ªè¿ç®—ç¬¦çš„è¡Œä¸ºç±»ä¼¼äºCè¯­è¨€ä¸­çš„ç»å…¸å‡½æ•°printfï¼šåœ¨%å·¦è¾¹æŒ‡å®šä¸€ä¸ªå­—ç¬¦ä¸²(æ ¼å¼å­—ç¬¦ä¸²),å¹¶åœ¨å³è¾¹æŒ‡å®šè¦è®¾ç½®å…¶æ ¼å¼çš„å€¼.æŒ‡å®šè¦è®¾ç½®å…¶æ ¼å¼çš„å€¼æ—¶,å¯ä½¿ç”¨å•ä¸ªå€¼(å¦‚å­—ç¬¦ä¸²æˆ–æ•°å­—),å¯ä½¿ç”¨å…ƒç»„(å¦‚æœè¦è®¾ç½®å¤šä¸ªå€¼çš„æ ¼å¼),è¿˜å¯ä½¿ç”¨å­—å…¸,å…¶ä¸­æœ€å¸¸è§çš„æ˜¯å…ƒç»„.\nformat = \u0026quot;Hello, %s. %s enough for ya?\u0026quot;\rformat\r## \u0026#39;Hello, %s. %s enough for ya?\u0026#39;\rvalues = (\u0026#39;world\u0026#39;, \u0026#39;Hot\u0026#39;)\rvalues\r## (\u0026#39;world\u0026#39;, \u0026#39;Hot\u0026#39;)\rformat % values\r## \u0026#39;Hello, world. Hot enough for ya?\u0026#39;\rä¸Šè¿°æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„%sç§°ä¸ºè½¬æ¢è¯´æ˜ç¬¦,æŒ‡å‡ºäº†è¦å°†å€¼æ’å…¥ä»€ä¹ˆåœ°æ–¹.sæ„å‘³ç€å°†å€¼è§†ä¸ºå­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼è®¾ç½®.å¦‚æœæŒ‡å®šçš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²,å°†ä½¿ç”¨str()å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸².å…¶ä»–è¯´æ˜ç¬¦å°†å¯¼è‡´å…¶ä»–å½¢å¼çš„è½¬æ¢.ä¾‹å¦‚,%.3få°†å€¼çš„æ ¼å¼è®¾ç½®ä¸ºåŒ…å«3ä½å°æ•°çš„æµ®ç‚¹æ•°.\næ›´ä¸ºå¸¸ç”¨çš„æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²æ–¹æ³•format.ä½¿ç”¨è¿™ç§æ–¹æ³•æ—¶,æ¯ä¸ªæ›¿æ¢å­—æ®µéƒ½ç”¨èŠ±æ‹¬å·æ‹¬èµ·,å…¶ä¸­å¯èƒ½åŒ…å«åç§°,è¿˜å¯èƒ½åŒ…å«æœ‰å…³å¦‚ä½•å¯¹ç›¸åº”çš„å€¼è¿›è¡Œè½¬æ¢å’Œæ ¼å¼è®¾ç½®çš„ä¿¡æ¯.\n\u0026quot;{}, {} and {}\u0026quot;.format(\u0026quot;first\u0026quot;, \u0026quot;second\u0026quot;, \u0026quot;third\u0026quot;)\r## \u0026#39;first, second and third\u0026#39;\r\u0026quot;{0}, {1} and {2}\u0026quot;.format(\u0026quot;first\u0026quot;, \u0026quot;second\u0026quot;, \u0026quot;third\u0026quot;)\r## \u0026#39;first, second and third\u0026#39;\r\u0026quot;{3} {0} {2} {1} {3} {0}\u0026quot;.format(\u0026quot;be\u0026quot;, \u0026quot;not\u0026quot;, \u0026quot;or\u0026quot;, \u0026quot;to\u0026quot;)\r## \u0026#39;to be or not to be\u0026#39;\råœ¨å¤§æ‹¬å·ä¸­çš„æ•°å­—ä»£è¡¨ç€formatä¸­çš„å†…å®¹çš„ç´¢å¼•,å¦‚æœä¸å†™,åˆ™é»˜è®¤æŒ‰ç…§å…ˆåé¡ºåºæ›¿æ¢.\nå½“ç„¶,ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½åçš„æ–¹æ³•æ¥æç¤ºå¦‚ä½•æ›¿æ¢.\n\u0026quot;{name} is a {position:s}.\u0026quot;.format(position=\u0026quot;postdoc\u0026quot;, name=\u0026quot;Japser Shen\u0026quot;)\r## \u0026#39;Japser Shen is a postdoc.\u0026#39;\r\r1.2.1.2 å­—ç¬¦ä¸²æ–¹æ³•\rå­—ç¬¦ä¸²çš„æ–¹æ³•è¦å¤šå¾—å¤š,å¾ˆå¤šéƒ½æ˜¯ä»æ¨¡å—stringé‚£ç»§æ‰¿è¿‡æ¥çš„.\nä»‹ç»ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„.\n1.2.1.2.1 center\ré€šè¿‡åœ¨ä¸¤è¾¹æ·»åŠ å¡«å……å­—ç¬¦(é»˜è®¤ä¸ºç©ºæ ¼)è®©å­—ç¬¦ä¸²å±…ä¸­.\n\u0026quot;The Middle by Jimmy Eat World\u0026quot;.center(40)\r## \u0026#39; The Middle by Jimmy Eat World \u0026#39;\r\u0026quot;The Middle by Jimmy Eat World\u0026quot;.center(40, \u0026quot;*\u0026quot;)\r## \u0026#39;*****The Middle by Jimmy Eat World******\u0026#39;\r\r1.2.1.2.2 find\råœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­ä¸²,å¦‚æœæ‰¾åˆ°,å°±è¿”å›å­—ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ç´¢å¼•,å¦åˆ™è¿”å›-1.\n\u0026#39;With a moo-moo here, and a moo-moo there\u0026#39;.find(\u0026#39;moo\u0026#39;)\r## 7\r\u0026#39;With a moo-moo here, and a moo-moo there\u0026#39;.find(\u0026#39;shen\u0026#39;)\r## -1\rä½ è¿˜å¯æŒ‡å®šæœç´¢çš„èµ·ç‚¹å’Œç»ˆç‚¹.\nsubject = \u0026#39;$$$ Get rich now!!! $$$\u0026#39;\rsubject\r## \u0026#39;$$$ Get rich now!!! $$$\u0026#39;\rsubject.find(\u0026#39;$$$\u0026#39;)\r## 0\rsubject.find(\u0026#39;$$$\u0026#39;, 1) # åªæŒ‡å®šäº†èµ·ç‚¹\r## 20\rsubject.find(\u0026#39;!!!\u0026#39;, 0, 16) # åŒæ—¶æŒ‡å®šäº†èµ·ç‚¹å’Œç»ˆç‚¹\r## -1\rè¯·æ³¨æ„,èµ·ç‚¹å’Œç»ˆç‚¹å€¼(ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ªå‚æ•°)æŒ‡å®šçš„æœç´¢èŒƒå›´åŒ…å«èµ·ç‚¹,ä½†ä¸åŒ…å«ç»ˆç‚¹.è¿™æ˜¯Pythonæƒ¯å¸¸çš„åšæ³•.\nå¦å¤–çš„å’Œfindç›¸å…³çš„æ–¹æ³•è¿˜åŒ…æ‹¬:\nrfind,index,rindex,count,startswithå’Œendswith.\n\r1.2.1.2.3 join\rjoinæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å­—ç¬¦ä¸²æ–¹æ³•,å…¶ä½œç”¨ä¸splitç›¸å,ç”¨äºåˆå¹¶åºåˆ—çš„å…ƒç´ .\nseq = list(\u0026quot;shen\u0026quot;)\rseq\r## [\u0026#39;s\u0026#39;, \u0026#39;h\u0026#39;, \u0026#39;e\u0026#39;, \u0026#39;n\u0026#39;]\rsep = \u0026#39;+\u0026#39;\rsep\r## \u0026#39;+\u0026#39;\rsep.join(seq)\r## \u0026#39;s+h+e+n\u0026#39;\rè¿™ä¸ªæ–¹æ³•è·ŸRä¸­çš„pasteå‡½æ•°éå¸¸ç±»ä¼¼.\næ³¨æ„,æ‰€åˆå¹¶åºåˆ—çš„å…ƒç´ å¿…é¡»éƒ½æ˜¯å­—ç¬¦ä¸².å¦‚æœlistå…ƒç´ éƒ½æ˜¯æ•°å­—,æ˜¯ä¼šæŠ¥é”™çš„.\n\r1.2.1.2.4 lower\rè¿”å›å­—ç¬¦ä¸²çš„å°å†™ç‰ˆæœ¬.\n\u0026#39;Trondheim Hammer Dance\u0026#39;.lower()\r## \u0026#39;trondheim hammer dance\u0026#39;\rç±»ä¼¼æˆ–è€…åŒä¸€ç±»æ–¹æ³•è¿˜æœ‰:\nislower,istitle,isupper,translate,capitalize,casefold,swapcase,title,upper.\n\r1.2.1.2.5 replace\rå°†æŒ‡å®šå­ä¸²éƒ½æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ä¸²,å¹¶è¿”å›æ›¿æ¢åçš„ç»“æœ.\n\u0026#39;This is a test\u0026#39;.replace(\u0026#39;is\u0026#39;, \u0026#39;eez\u0026#39;)\r## \u0026#39;Theez eez a test\u0026#39;\rä¸€å…±ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€ä¸ªæ˜¯éœ€è¦æ›¿æ¢çš„å†…å®¹,ç¬¬äºŒä¸ªæ˜¯æ›¿æ¢ä¹‹åçš„å†…å®¹.\nåˆ°è¿™é‡Œåº”è¯¥å‘ç°,å…¶å®è¿™å°±æ˜¯Rä¸­çš„stringråŒ…æ‰€è¦åšçš„å·¥ä½œ.\nå¦å¤–è¿˜éœ€è¦å‚è€ƒçš„å‡½æ•°:\ntranlateå’Œexpandtabs.\n\r1.2.1.2.6 split\rå…¶å’Œjoinä½œç”¨ç›¸å,ç”¨äºå°†å­—ç¬¦ä¸²æ‹†åˆ†ä¸ºåºåˆ—.\n\u0026#39;1+2+3+4+5\u0026#39;.split(\u0026#39;+\u0026#39;)\r## [\u0026#39;1\u0026#39;, \u0026#39;2\u0026#39;, \u0026#39;3\u0026#39;, \u0026#39;4\u0026#39;, \u0026#39;5\u0026#39;]\r\u0026#39;Using the default\u0026#39;.split()\r## [\u0026#39;Using\u0026#39;, \u0026#39;the\u0026#39;, \u0026#39;default\u0026#39;]\rå¯ä»¥çœ‹åˆ°,é»˜è®¤æ‹†åˆ†çš„æ ‡è¯†ç¬¦æ˜¯ç©ºæ ¼( ).\n\r1.2.1.2.7 strip\rç”¨äºå°†å­—ç¬¦ä¸²çš„å¼€å¤´å’Œæœ«å°¾çš„ç©ºç™½åˆ é™¤.\n\u0026#39; internal whitespace is kept \u0026#39;.strip()\r## \u0026#39;internal whitespace is kept\u0026#39;\rå½“ç„¶,è¿˜å¯ä»¥é€šè¿‡è®¾ç½®å‚æ•°,æ¥æŒ‡å®šåˆ é™¤çš„å­—ç¬¦ç±»å‹.\n\u0026#39;*** SPAM * for * everyone!!! ***\u0026#39;.strip(\u0026#39; *!\u0026#39;)\r## \u0026#39;SPAM * for * everyone\u0026#39;\rä½†æ˜¯è¿˜æ˜¯åªèƒ½åˆ é™¤å¼€å¤´å’Œæœ«å°¾.\nç›¸ä¼¼å‡½æ•°æˆ–è€…æ–¹æ³•:\nlstripå’Œrstrip.\n\r1.2.1.2.8 translate\ræ–¹æ³•translateä¸replaceä¸€æ ·æ›¿æ¢å­—ç¬¦ä¸²çš„ç‰¹å®šéƒ¨åˆ†,ä½†ä¸åŒçš„æ˜¯å®ƒåªèƒ½è¿›è¡Œå•å­—ç¬¦æ›¿æ¢.è¿™ä¸ªæ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºèƒ½å¤ŸåŒæ—¶æ›¿æ¢å¤šä¸ªå­—ç¬¦,å› æ­¤æ•ˆç‡æ¯”replaceé«˜.\nä½¿ç”¨translateå‰å¿…é¡»åˆ›å»ºä¸€ä¸ªè½¬æ¢è¡¨.è¿™ä¸ªè½¬æ¢è¡¨æŒ‡å‡ºäº†ä¸åŒUnicodeç ç‚¹ä¹‹é—´çš„è½¬æ¢å…³ç³».è¦åˆ›å»ºè½¬æ¢è¡¨,å¯å¯¹å­—ç¬¦ä¸²ç±»å‹strè°ƒç”¨æ–¹æ³•maketrans,è¿™ä¸ªæ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°:ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„å­—ç¬¦ä¸²,å®ƒä»¬æŒ‡å®šè¦å°†ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½æ›¿æ¢ä¸ºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ä¸­çš„ç›¸åº”å­—\rç¬¦.\ntable = str.maketrans(\u0026#39;cs\u0026#39;, \u0026#39;kz\u0026#39;)\rtable\r## {99: 107, 115: 122}\rtype(table)\r## \u0026lt;class \u0026#39;dict\u0026#39;\u0026gt;\rå¯ä»¥çœ‹åˆ°,è½¬æ¢è¡¨æ˜¯ä¸€ä¸ªå­—å…¸ç±»å‹.\n\u0026#39;this is an incredible test\u0026#39;.translate(table)\r## \u0026#39;thiz iz an inkredible tezt\u0026#39;\r\r1.2.1.2.9 åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ»¡è¶³æŸäº›ç‰¹å®šçš„æ¡ä»¶\rå¾ˆå¤šå­—ç¬¦ä¸²æ–¹æ³•éƒ½ä»¥isæ‰“å¤´,å¦‚isspace,isdigitå’Œisupper,å®ƒä»¬åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å…·æœ‰ç‰¹å®šçš„æ€§è´¨(å¦‚åŒ…å«çš„å­—ç¬¦å…¨ä¸ºç©ºç™½,æ•°å­—æˆ–å¤§å†™).å¦‚æœå­—ç¬¦ä¸²å…·å¤‡ç‰¹å®šçš„æ€§è´¨,è¿™äº›æ–¹æ³•å°±è¿”å›True,å¦åˆ™è¿”å›False.\nå‚è€ƒå…¶ä»–å‡½æ•°:\nisalnum,isalpha,isdecimal,isdigit,isidentifier,islower,isnumeric,isprintable,isspace,istitle,isupper.\n\r\r1.2.1.3 æ€»ç»“\rå°†å­—ç¬¦ä¸²çš„æ–¹æ³•æ€»ç»“å¦‚ä¸‹:\n\r\r\r\rMethod\rMeanings\r\r\r\rstring.capitalize()\rè¿”å›å­—ç¬¦ä¸²çš„å‰¯æœ¬,ä½†å°†ç¬¬ä¸€ä¸ªå­—ç¬¦å¤§å†™.\r\rstring.casefold()\rè¿”å›ç»è¿‡æ ‡å‡†åŒ–åçš„å­—ç¬¦ä¸²,æ ‡å‡†åŒ–ç±»ä¼¼äºè½¬æ¢ä¸ºå°å†™,ä½†æ›´é€‚åˆç”¨äºå¯¹Unicodeå­—ç¬¦ä¸²è¿›è¡Œä¸åŒºåˆ†å¤§å°å†™çš„æ¯”è¾ƒ\r\rstring.center(width[, fillchar])\rè¿”å›ä¸€ä¸ªé•¿åº¦ä¸º(len(string), width)çš„å­—ç¬¦ä¸².è¿™ä¸ªå­—ç¬¦ä¸²çš„ä¸­é—´åŒ…å«å½“å‰å­—ç¬¦ä¸²,ä½†ä¸¤ç«¯ç”¨fillcharæŒ‡å®šçš„å­—ç¬¦(é»˜è®¤ä¸ºç©ºæ ¼)å¡«å……\r\rstring.count(sub[, start[, end]])\rè®¡ç®—å­ä¸²subå‡ºç°çš„æ¬¡æ•°,å¯æœç´¢èŒƒå›´é™å®šä¸ºstring[start:end]\r\rstring.encode([encoding[,errors]])\rè¿”å›ä½¿ç”¨æŒ‡å®šç¼–ç å’ŒerrorsæŒ‡å®šçš„é”™è¯¯å¤„ç†æ–¹å¼å¯¹å­—ç¬¦ä¸²è¿›è¡Œç¼–ç çš„ç»“æœ,å‚æ•°errorsçš„å¯èƒ½å–å€¼åŒ…å«â€™strictâ€™,â€˜ignoreâ€™,â€™replaceâ€™ç­‰\r\rstring.endswith(suffix[,start[,end]])\ræ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥suffixç»“å°¾,è¿˜å¯ä½¿ç”¨ç´¢å¼•startå’Œendæ¥æŒ‡å®šåŒ¹é…èŒƒå›´\r\rstring.expandtabs([tabsize])\rè¿”å›å°†å­—ç¬¦ä¸²ä¸­çš„åˆ¶è¡¨ç¬¦å±•å¼€ä¸ºç©ºæ ¼åçš„ç»“æœ,å¯æŒ‡å®šå¯é€‰å‚æ•°tabsize(é»˜è®¤ä¸º8)\r\rstring.find(sub[, start[, end]])\rè¿”å›æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå­ä¸²subçš„ç´¢å¼•,å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿™æ ·çš„å­ä¸²,å°±è¿”å›-1;è¿˜å¯å°†æœç´¢èŒƒå›´é™åˆ¶ä¸ºstring[start:end]\r\rstring.format(...)\rå®ç°äº†æ ‡å‡†çš„Pythonå­—ç¬¦ä¸²æ ¼å¼è®¾ç½®.å°†å­—ç¬¦ä¸²ä¸­ç”¨å¤§æ‹¬å·åˆ†éš”çš„å­—æ®µæ›¿æ¢ä¸ºç›¸åº”çš„å‚æ•°,å†è¿”å›ç»“æœ\r\rstring.format_map(mapping)\rç±»ä¼¼äºä½¿ç”¨å…³é”®å­—å‚æ•°è°ƒç”¨format,åªæ˜¯å‚æ•°æ˜¯ä»¥æ˜ å°„çš„æ–¹å¼æä¾›çš„\r\rstring.index(sub[, start[, end]])\rè¿”å›æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå­ä¸²subçš„ç´¢å¼•,å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿™æ ·çš„å­ä¸²,å°†å¼•å‘ValueErrorå¼‚å¸¸;è¿˜å¯å°†æœç´¢èŒƒå›´é™åˆ¶ä¸ºstring[start:end]\r\rstring.isalnum()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ˜¯å¦éƒ½æ˜¯å­—æ¯æˆ–æ•°\r\rstring.isalpha()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ˜¯å¦éƒ½æ˜¯å­—æ¯\r\rstring.isdecimal()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ˜¯å¦éƒ½æ˜¯åè¿›åˆ¶æ•°\r\rstring.isdigit()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ˜¯å¦éƒ½æ˜¯æ•°å­—\r\rstring.isidentifier()\ræ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å¯ç”¨ä½œPythonæ ‡è¯†ç¬¦\r\rstring.islower()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™çš„\r\rstring.isnumeric()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦æ˜¯å¦éƒ½æ˜¯æ•°å­—å­—ç¬¦\r\rstring.isprintable()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ˜¯å¦éƒ½æ˜¯å¯æ‰“å°çš„\r\rstring.isspace()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ˜¯å¦éƒ½æ˜¯ç©ºç™½å­—ç¬¦\r\rstring.istitle()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­ä½äºéå­—æ¯åé¢çš„å­—æ¯éƒ½æ˜¯å¤§å†™çš„,ä¸”å…¶ä»–æ‰€æœ‰å­—æ¯éƒ½æ˜¯å°å†™çš„\r\rstring.isupper()\ræ£€æŸ¥å­—ç¬¦ä¸²ä¸­çš„å­—æ¯æ˜¯å¦éƒ½æ˜¯å¤§å†™çš„\r\rstring.join(sequence)\rå°†stringä¸sequenceä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²å…ƒç´ åˆå¹¶,å¹¶è¿”å›ç»“æœ\r\rstring.ljust(width[, fillchar])\rè¿”å›ä¸€ä¸ªé•¿åº¦ä¸ºmax(len(string),width)çš„å­—ç¬¦ä¸²,å…¶å¼€å¤´æ˜¯å½“å‰å­—ç¬¦ä¸²çš„å‰¯æœ¬,è€Œæœ«å°¾æ˜¯ä½¿ç”¨fillcharæŒ‡å®šçš„å­—ç¬¦(é»˜è®¤ä¸ºç©ºæ ¼)å¡«å……çš„\r\rstring.lower()\rå°†å­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å­—æ¯éƒ½è½¬æ¢ä¸ºå°å†™,å¹¶è¿”å›ç»“æœ\r\rstring.lstrip([chars])\rå°†å­—ç¬¦ä¸²å¼€å¤´æ‰€æœ‰çš„chars(é»˜è®¤ä¸ºæ‰€æœ‰çš„ç©ºç™½å­—ç¬¦,å¦‚ç©ºæ ¼,åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦)éƒ½åˆ é™¤,å¹¶è¿”å›ç»“æœ\r\rstr.maketrans(x[,y[,z]])\rä¸€ä¸ªé™æ€æ–¹æ³•,å®ƒåˆ›å»ºä¸€ä¸ªä¾›translateä½¿ç”¨çš„è½¬æ¢è¡¨.å¦‚æœåªæŒ‡å®šäº†å‚æ•°x,å®ƒå¿…é¡»æ˜¯ä»å­—ç¬¦æˆ–åºæ•°åˆ°Unicodeåºæ•°æˆ–None(ç”¨äºåˆ é™¤)çš„æ˜ å°„;ä¹Ÿå¯ä½¿ç”¨ä¸¤ä¸ªè¡¨ç¤ºæºå­—ç¬¦å’Œç›®æ ‡å­—ç¬¦çš„å­—ç¬¦ä¸²è°ƒç”¨å®ƒ;è¿˜å¯æä¾›ç¬¬ä¸‰ä¸ªå‚æ•°,å®ƒæŒ‡å®šè¦åˆ é™¤çš„å­—ç¬¦\r\rstring.partition(sep)\råœ¨å­—ç¬¦ä¸²ä¸­æœç´¢sep,å¹¶è¿”å›å…ƒç»„(sepå‰é¢çš„éƒ¨åˆ†, sep, sepåé¢çš„éƒ¨åˆ†)\r\rstring.replace(old,new[,max])\rå°†å­—ç¬¦ä¸²ä¸­çš„å­ä¸²oldæ›¿æ¢ä¸ºnew,å¹¶è¿”å›ç»“æœ;è¿˜å¯å°†æœ€å¤§æ›¿æ¢æ¬¡æ•°é™åˆ¶ä¸ºmax\r\rstring.rfind(sub[,start[,end]])\rè¿”å›æ‰¾åˆ°çš„æœ€åä¸€ä¸ªå­ä¸²çš„ç´¢å¼•,å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿™æ ·çš„å­ä¸²,å°±è¿”å›-1;è¿˜å¯å°†æœç´¢èŒƒå›´é™å®šä¸ºstring[start:end]\r\rstring.rindex(sub[,start[,end]])\rè¿”å›æ‰¾åˆ°çš„æœ€åä¸€ä¸ªå­ä¸²subçš„ç´¢å¼•,å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¿™æ ·çš„å­ä¸²,å°±å¼•å‘ValueErrorå¼‚å¸¸;è¿˜å¯å°†æœç´¢èŒƒå›´é™å®šä¸ºstring[start:end]\r\rstring.rjust(width[,fillchar])\rè¿”å›ä¸€ä¸ªé•¿åº¦ä¸ºmax(len(string),width)çš„å­—ç¬¦ä¸²,å…¶æœ«å°¾ä¸ºå½“å‰å­—ç¬¦ä¸²çš„æ‹·è´,è€Œå¼€å¤´æ˜¯ä½¿ç”¨fillcharæŒ‡å®šçš„å­—ç¬¦(é»˜è®¤ä¸ºç©ºæ ¼)å¡«å……çš„\r\rstring.rpartition(sep)\rä¸partitionç›¸åŒ,ä½†ä»å³å¾€å·¦æœç´¢\r\rstring.rstrip([chars])\rå°†å­—ç¬¦ä¸²æœ«å°¾æ‰€æœ‰çš„charså­—ç¬¦(é»˜è®¤ä¸ºæ‰€æœ‰çš„ç©ºç™½å­—ç¬¦,å¦‚ç©ºæ ¼,åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦)éƒ½åˆ é™¤,å¹¶è¿”å›ç»“æœ\r\rstring.rsplit([sep[, maxsplit]])\rä¸splitç›¸åŒ,ä½†æŒ‡å®šäº†å‚æ•°maxsplit,ä»å³å¾€å·¦è®¡ç®—åˆ’åˆ†æ¬¡æ•°\r\rstring.split([sep[, maxsplit]])\rè¿”å›ä¸€ä¸ªåˆ—è¡¨,å…¶ä¸­åŒ…å«ä»¥sepä¸ºåˆ†éš”ç¬¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ’åˆ†å¾—åˆ°çš„ç»“æœ(å¦‚æœæ²¡æœ‰æŒ‡å®šå‚æ•°sep,å°†ä»¥æ‰€æœ‰ç©ºç™½å­—ç¬¦ä¸ºåˆ†éš”ç¬¦è¿›è¡Œåˆ’åˆ†);è¿˜å¯å°†æœ€å¤§åˆ’åˆ†æ¬¡æ•°é™åˆ¶ä¸ºmaxsplit\r\rstring.splitlines([keepends])\rè¿”å›ä¸€ä¸ªåˆ—è¡¨,å…¶ä¸­åŒ…å«å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰è¡Œ;å¦‚æœå‚æ•°keependsä¸ºTrue,å°†åŒ…å«æ¢è¡Œç¬¦\r\rstring.startswith(prefix[,start[,end]])\ræ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥prefixæ‰“å¤´;è¿˜å¯å°†åŒ¹é…èŒƒå›´é™åˆ¶åœ¨ç´¢å¼•startå’Œendä¹‹é—´\r\rstring.strip([chars])\rå°†å­—ç¬¦ä¸²å¼€å¤´å’Œç»“å°¾çš„æ‰€æœ‰charså­—ç¬¦(é»˜è®¤ä¸ºæ‰€æœ‰ç©ºç™½å­—ç¬¦,å¦‚ç©ºæ ¼,åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦)éƒ½åˆ é™¤,å¹¶è¿”å›ç»“æœ\r\rstring.swapcase()\rå°†å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯çš„å¤§å°å†™éƒ½åè½¬,å¹¶è¿”å›ç»“æœ\r\rstring.title()\rå°†å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å•è¯çš„é¦–å­—æ¯éƒ½å¤§å†™,å¹¶è¿”å›ç»“æœ\r\rstring.translate(table)\ræ ¹æ®è½¬æ¢è¡¨table(è¿™æ˜¯ä½¿ç”¨maketransåˆ›å»ºçš„)å¯¹å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è¿›è¡Œè½¬æ¢,å¹¶è¿”å›ç»“æœ\r\rstring.upper()\rå°†å­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å­—æ¯éƒ½è½¬æ¢ä¸ºå¤§å†™,å¹¶è¿”å›ç»“æœ\r\rstring.zfill(width)\råœ¨å­—ç¬¦ä¸²å·¦è¾¹å¡«å……0(ä½†å°†åŸæ¥æ‰“å¤´çš„+æˆ–-ç§»åˆ°å¼€å¤´),ä½¿å…¶é•¿åº¦ä¸ºwidth\r\r\r\r\r\r1.2.2 å­—å…¸\réœ€è¦å°†ä¸€ç³»åˆ—å€¼ç»„åˆæˆæ•°æ®ç»“æ„å¹¶é€šè¿‡ç¼–å·æ¥è®¿é—®å„ä¸ªå€¼æ—¶,åˆ—è¡¨å¾ˆæœ‰ç”¨.æœ¬ç« ä»‹ç»ä¸€ç§å¯é€šè¿‡åç§°æ¥è®¿é—®å…¶å„ä¸ªå€¼çš„æ•°æ®ç»“æ„.è¿™ç§æ•°æ®ç»“æ„ç§°ä¸ºæ˜ å°„(mapping).å­—å…¸æ˜¯Pythonä¸­å”¯ä¸€çš„å†…ç½®æ˜ å°„ç±»å‹,å…¶ä¸­çš„å€¼ä¸æŒ‰é¡ºåºæ’åˆ—,è€Œæ˜¯å­˜å‚¨åœ¨é”®ä¸‹.é”®å¯èƒ½æ˜¯æ•°,å­—ç¬¦ä¸²æˆ–å…ƒç»„.\nåœ¨å¾ˆå¤šæƒ…å†µä¸‹,ä½¿ç”¨å­—å…¸éƒ½æ¯”ä½¿ç”¨åˆ—è¡¨æ›´åˆé€‚.ä¸‹é¢æ˜¯ä¸€äº›å­—å…¸çš„ç”¨é€”:\nè¡¨ç¤ºæ£‹ç›˜çš„çŠ¶æ€,å…¶ä¸­æ¯ä¸ªé”®éƒ½æ˜¯ç”±åæ ‡ç»„æˆçš„å…ƒç»„ï¼›\n\rå­˜å‚¨æ–‡ä»¶ä¿®æ”¹æ—¶é—´,å…¶ä¸­çš„é”®ä¸ºæ–‡ä»¶åï¼›\n\ræ•°å­—ç”µè¯/åœ°å€ç°¿.\n\r\r1.2.2.1 åˆ›å»ºå’Œä½¿ç”¨å­—å…¸\rphonebook = {\u0026#39;Alice\u0026#39;:\u0026#39;2341\u0026#39;, \u0026#39;Beth\u0026#39;:\u0026#39;9102\u0026#39;, \u0026#39;Cecil\u0026#39;:\u0026#39;3258\u0026#39;}\rphonebook\r## {\u0026#39;Alice\u0026#39;: \u0026#39;2341\u0026#39;, \u0026#39;Beth\u0026#39;: \u0026#39;9102\u0026#39;, \u0026#39;Cecil\u0026#39;: \u0026#39;3258\u0026#39;}\rå­—å…¸ç”±é”®(key)åŠå…¶ç›¸åº”çš„å€¼(value)ç»„æˆ,è¿™ç§é”®-å€¼å¯¹ç§°ä¸ºé¡¹(item).åœ¨å‰é¢çš„ç¤ºä¾‹ä¸­,é”®ä¸ºåå­—,è€Œå€¼ä¸ºç”µè¯å·ç .æ¯ä¸ªé”®ä¸å…¶å€¼ä¹‹é—´éƒ½ç”¨å†’å·(:)åˆ†éš”,é¡¹ä¹‹é—´ç”¨é€—å·åˆ†éš”,è€Œæ•´ä¸ªå­—å…¸æ”¾åœ¨èŠ±æ‹¬å·å†….ç©ºå­—å…¸(æ²¡æœ‰ä»»ä½•é¡¹)ç”¨ä¸¤ä¸ªèŠ±æ‹¬å·è¡¨ç¤º,ç±»ä¼¼äºä¸‹é¢è¿™æ ·:{}.\næ³¨æ„:\nåœ¨å­—å…¸(ä»¥åŠå…¶ä»–æ˜ å°„ç±»å‹)ä¸­,é”®å¿…é¡»æ˜¯ç‹¬ä¸€æ— äºŒçš„,è€Œå­—å…¸ä¸­çš„å€¼æ— éœ€å¦‚æ­¤.\n1.2.2.1.1 ä½¿ç”¨dictå‡½æ•°\ritems = [(\u0026#39;name\u0026#39;, \u0026#39;Gumby\u0026#39;), (\u0026#39;age\u0026#39;, 42)]\ritems\r## [(\u0026#39;name\u0026#39;, \u0026#39;Gumby\u0026#39;), (\u0026#39;age\u0026#39;, 42)]\rtype(items)\r## \u0026lt;class \u0026#39;list\u0026#39;\u0026gt;\rd = dict(items)\rd\r## {\u0026#39;name\u0026#39;: \u0026#39;Gumby\u0026#39;, \u0026#39;age\u0026#39;: 42}\rtype(d)\r## \u0026lt;class \u0026#39;dict\u0026#39;\u0026gt;\rd[\u0026quot;name\u0026quot;]\r## \u0026#39;Gumby\u0026#39;\rd[\u0026quot;age\u0026quot;]\r## 42\ritemsæ˜¯ä¸€ä¸ªåˆ—è¡¨,ç„¶ååŒ…å«ä¸¤ä¸ªå…ƒç»„,æ¯ä¸ªå…ƒç»„éƒ½åŒ…å«ä¸¤ä¸ªå…ƒç´ ,ç„¶åæ¯ä¸ªå…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºé”®,ç¬¬äºŒä¸ªå…ƒç´ ä½œä¸ºå€¼.\nè¿˜å¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ç§å½¢å¼,ä½¿ç”¨dictåˆ›å»ºå­—å…¸.\nd = dict(name=\u0026#39;Gumby\u0026#39;, age=42)\rd\r## {\u0026#39;name\u0026#39;: \u0026#39;Gumby\u0026#39;, \u0026#39;age\u0026#39;: 42}\rlen(d)\r## 2\r\r1.2.2.1.2 å­—å…¸çš„åŸºæœ¬æ“ä½œ\rå­—å…¸çš„åŸºæœ¬è¡Œä¸ºåœ¨å¾ˆå¤šæ–¹é¢éƒ½ç±»ä¼¼äºåºåˆ—.\nlen(d)è¿”å›å­—å…¸dåŒ…å«çš„é¡¹(é”®-å€¼å¯¹)æ•°.\rd[k]è¿”å›ä¸é”®kç›¸å…³è”çš„å€¼.\rd[k] = vå°†å€¼vå…³è”åˆ°é”®k.\rdel d[k]åˆ é™¤é”®ä¸ºkçš„é¡¹.\r\rè™½ç„¶å­—å…¸å’Œåˆ—è¡¨æœ‰å¤šä¸ªç›¸åŒä¹‹å¤„,ä½†ä¹Ÿæœ‰ä¸€äº›é‡è¦çš„ä¸åŒä¹‹å¤„.\né”®çš„ç±»å‹:å­—å…¸ä¸­çš„é”®å¯ä»¥æ˜¯æ•´æ•°,ä½†å¹¶éå¿…é¡»æ˜¯æ•´æ•°.å­—å…¸ä¸­çš„é”®å¯ä»¥æ˜¯ä»»ä½•ä¸å¯å˜çš„ç±»å‹,å¦‚æµ®ç‚¹æ•°(å®æ•°),å­—ç¬¦ä¸²æˆ–å…ƒç»„.\rè‡ªåŠ¨æ·»åŠ :å³ä¾¿æ˜¯å­—å…¸ä¸­åŸæœ¬æ²¡æœ‰çš„é”®,ä¹Ÿå¯ä»¥ç»™å®ƒèµ‹å€¼,è¿™å°†åœ¨å­—å…¸ä¸­åˆ›å»ºä¸€ä¸ªæ–°é¡¹.ç„¶è€Œ,å¦‚æœä¸ä½¿ç”¨appendæˆ–å…¶ä»–ç±»ä¼¼çš„æ–¹æ³•,å°±ä¸èƒ½ç»™åˆ—è¡¨ä¸­æ²¡æœ‰çš„å…ƒç´ èµ‹å€¼.\r\rd = dict(name=\u0026#39;Gumby\u0026#39;, age=42)\rd\r## {\u0026#39;name\u0026#39;: \u0026#39;Gumby\u0026#39;, \u0026#39;age\u0026#39;: 42}\rd[\u0026quot;sex\u0026quot;] = \u0026quot;male\u0026quot;\rd\r## {\u0026#39;name\u0026#39;: \u0026#39;Gumby\u0026#39;, \u0026#39;age\u0026#39;: 42, \u0026#39;sex\u0026#39;: \u0026#39;male\u0026#39;}\ræˆå‘˜èµ„æ ¼:è¡¨è¾¾å¼k in d(å…¶ä¸­dæ˜¯ä¸€ä¸ªå­—å…¸)æŸ¥æ‰¾çš„æ˜¯é”®è€Œä¸æ˜¯å€¼,è€Œè¡¨è¾¾å¼v in l(å…¶ä¸­læ˜¯ä¸€ä¸ªåˆ—è¡¨)æŸ¥æ‰¾çš„æ˜¯å€¼è€Œä¸æ˜¯ç´¢å¼•.è¿™çœ‹ä¼¼ä¸å¤ªä¸€è‡´,ä½†ä½ ä¹ æƒ¯åå°±ä¼šè§‰å¾—ç›¸å½“è‡ªç„¶.æ¯•ç«Ÿå¦‚æœå­—å…¸åŒ…å«æŒ‡å®šçš„é”®,æ£€æŸ¥ç›¸åº”çš„å€¼å°±å¾ˆå®¹æ˜“.\n\rk in dæ£€æŸ¥å­—å…¸dæ˜¯å¦åŒ…å«é”®ä¸ºkçš„é¡¹.\n\r\råˆ›å»ºç©ºçš„å­—å…¸,ä½¿ç”¨å¤§æ‹¬å·è¿›è¡Œ.\nx = {}\rx\r## {}\rx[\u0026#39;name\u0026#39;] = \u0026quot;shen\u0026quot;\rx\r## {\u0026#39;name\u0026#39;: \u0026#39;shen\u0026#39;}\rx = {\u0026quot;name\u0026quot;:\u0026quot;shen\u0026quot;, \u0026quot;age\u0026quot;:29}\rx\r## {\u0026#39;name\u0026#39;: \u0026#39;shen\u0026#39;, \u0026#39;age\u0026#39;: 29}\r\r1.2.2.1.3 é€‚ç”¨äºå­—å…¸çš„æ–¹æ³•\rclear\r\ræ–¹æ³•clearåˆ é™¤æ‰€æœ‰çš„å­—å…¸é¡¹,è¿™ç§æ“ä½œæ˜¯å°±åœ°æ‰§è¡Œçš„(å°±åƒlist.sortä¸€æ ·),å› æ­¤ä»€ä¹ˆéƒ½ä¸è¿”å›(æˆ–è€…è¯´è¿”å›None).\nd = {}\rd[\u0026#39;name\u0026#39;] = \u0026#39;Gumby\u0026#39;\rd[\u0026#39;age\u0026#39;] = 42\rd\r## {\u0026#39;name\u0026#39;: \u0026#39;Gumby\u0026#39;, \u0026#39;age\u0026#39;: 42}\rd.clear()\rd\r## {}\rcopy\r\ræ–¹æ³•copyè¿”å›ä¸€ä¸ªæ–°å­—å…¸,å…¶åŒ…å«çš„é”®-å€¼å¯¹ä¸åŸæ¥çš„å­—å…¸ç›¸åŒ(è¿™ä¸ªæ–¹æ³•æ‰§è¡Œçš„æ˜¯æµ…å¤åˆ¶,å› ä¸ºå€¼æœ¬èº«æ˜¯åŸä»¶,è€Œéå‰¯æœ¬).\nx = {\u0026#39;username\u0026#39;:\u0026#39;admin\u0026#39;, \u0026#39;machines\u0026#39;:[\u0026#39;foo\u0026#39;, \u0026#39;bar\u0026#39;, \u0026#39;baz\u0026#39;]}\rx\r## {\u0026#39;username\u0026#39;: \u0026#39;admin\u0026#39;, \u0026#39;machines\u0026#39;: [\u0026#39;foo\u0026#39;, \u0026#39;bar\u0026#39;, \u0026#39;baz\u0026#39;]}\ry = x.copy()\ry\r## {\u0026#39;username\u0026#39;: \u0026#39;admin\u0026#39;, \u0026#39;machines\u0026#39;: [\u0026#39;foo\u0026#39;, \u0026#39;bar\u0026#39;, \u0026#39;baz\u0026#39;]}\ry[\u0026#39;username\u0026#39;] = \u0026#39;mlh\u0026#39;\ry[\u0026#39;machines\u0026#39;].remove(\u0026#39;bar\u0026#39;)\rx\r## {\u0026#39;username\u0026#39;: \u0026#39;admin\u0026#39;, \u0026#39;machines\u0026#39;: [\u0026#39;foo\u0026#39;, \u0026#39;baz\u0026#39;]}\ry\r## {\u0026#39;username\u0026#39;: \u0026#39;mlh\u0026#39;, \u0026#39;machines\u0026#39;: [\u0026#39;foo\u0026#39;, \u0026#39;baz\u0026#39;]}\rå¦‚ä½ æ‰€è§,å½“æ›¿æ¢å‰¯æœ¬ä¸­çš„å€¼æ—¶,åŸä»¶ä¸å—å½±å“.ç„¶è€Œ,å¦‚æœä¿®æ”¹å‰¯æœ¬ä¸­çš„å€¼(å°±åœ°ä¿®æ”¹è€Œä¸æ˜¯æ›¿æ¢),åŸä»¶ä¹Ÿå°†å‘ç”Ÿå˜åŒ–,å› ä¸ºåŸä»¶æŒ‡å‘çš„ä¹Ÿæ˜¯è¢«ä¿®æ”¹çš„å€¼(å¦‚è¿™ä¸ªç¤ºä¾‹ä¸­çš„â€™machinesâ€™åˆ—è¡¨æ‰€ç¤º).\nä¸ºé¿å…è¿™ç§é—®é¢˜,ä¸€ç§åŠæ³•æ˜¯æ‰§è¡Œæ·±å¤åˆ¶,å³åŒæ—¶å¤åˆ¶å€¼åŠå…¶åŒ…å«çš„æ‰€æœ‰å€¼,ç­‰ç­‰.ä¸ºæ­¤,å¯ä½¿ç”¨æ¨¡å—copyä¸­çš„å‡½æ•°deepcopy.\nfrom copy import deepcopy\rd = {}\rd[\u0026#39;names\u0026#39;] = [\u0026#39;Alfred\u0026#39;, \u0026#39;Bertrand\u0026#39;]\rd\r## {\u0026#39;names\u0026#39;: [\u0026#39;Alfred\u0026#39;, \u0026#39;Bertrand\u0026#39;]}\rc = d.copy()\rdc = deepcopy(d)\rd[\u0026#39;names\u0026#39;].append(\u0026#39;Clive\u0026#39;)\rd\r## {\u0026#39;names\u0026#39;: [\u0026#39;Alfred\u0026#39;, \u0026#39;Bertrand\u0026#39;, \u0026#39;Clive\u0026#39;]}\rc\r## {\u0026#39;names\u0026#39;: [\u0026#39;Alfred\u0026#39;, \u0026#39;Bertrand\u0026#39;, \u0026#39;Clive\u0026#39;]}\rdc\r## {\u0026#39;names\u0026#39;: [\u0026#39;Alfred\u0026#39;, \u0026#39;Bertrand\u0026#39;]}\rfromkeys\r\ræ–¹æ³•fromkeysåˆ›å»ºä¸€ä¸ªæ–°å­—å…¸,å…¶ä¸­åŒ…å«æŒ‡å®šçš„é”®,ä¸”æ¯ä¸ªé”®å¯¹åº”çš„å€¼éƒ½æ˜¯None.\n{}.fromkeys([\u0026#39;name\u0026#39;, \u0026#39;age\u0026#39;])\r## {\u0026#39;name\u0026#39;: None, \u0026#39;age\u0026#39;: None}\rè¿™ä¸ªç¤ºä¾‹é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªç©ºå­—å…¸,å†å¯¹å…¶è°ƒç”¨æ–¹æ³•fromkeysæ¥åˆ›å»ºå¦ä¸€ä¸ªå­—å…¸.\nget\r\ræ–¹æ³•getä¸ºè®¿é—®å­—å…¸é¡¹æä¾›äº†å®½æ¾çš„ç¯å¢ƒ.é€šå¸¸,å¦‚æœä½ è¯•å›¾è®¿é—®å­—å…¸ä¸­æ²¡æœ‰çš„é¡¹,å°†å¼•å‘é”™è¯¯.\nd = {}\rprint(d[\u0026#39;name\u0026#39;])\rè€Œä½¿ç”¨getä¸ä¼šè¿™æ ·:\nprint(d.get(\u0026#39;name\u0026#39;))\r## None\rd.get(\u0026#39;name\u0026#39;, \u0026#39;N/A\u0026#39;)\r## \u0026#39;N/A\u0026#39;\ritems\r\ræ–¹æ³•itemsè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å­—å…¸é¡¹çš„åˆ—è¡¨,å…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¸º(key, value)çš„å½¢å¼.å­—å…¸é¡¹åœ¨åˆ—è¡¨ä¸­çš„æ’åˆ—é¡ºåºä¸ç¡®å®š.\nd = {\u0026#39;title\u0026#39;:\u0026#39;Python Web Site\u0026#39;, \u0026#39;url\u0026#39;:\u0026#39;http://www.python.org\u0026#39;, \u0026#39;spam\u0026#39;:0}\rd\r## {\u0026#39;title\u0026#39;: \u0026#39;Python Web Site\u0026#39;, \u0026#39;url\u0026#39;: \u0026#39;http://www.python.org\u0026#39;, \u0026#39;spam\u0026#39;: 0}\rd.items()\r## dict_items([(\u0026#39;title\u0026#39;, \u0026#39;Python Web Site\u0026#39;), (\u0026#39;url\u0026#39;, \u0026#39;http://www.python.org\u0026#39;), (\u0026#39;spam\u0026#39;, 0)])\rtest = d.items()\rtest\r## dict_items([(\u0026#39;title\u0026#39;, \u0026#39;Python Web Site\u0026#39;), (\u0026#39;url\u0026#39;, \u0026#39;http://www.python.org\u0026#39;), (\u0026#39;spam\u0026#39;, 0)])\rtype(test)\r## \u0026lt;class \u0026#39;dict_items\u0026#39;\u0026gt;\rè¿”å›å€¼å±äºä¸€ç§åä¸ºå­—å…¸è§†å›¾çš„ç‰¹æ®Šç±»å‹.å­—å…¸è§†å›¾å¯ç”¨äºè¿­ä»£.å¦å¤–,ä½ è¿˜å¯ç¡®å®šå…¶é•¿åº¦ä»¥åŠå¯¹å…¶æ‰§è¡Œæˆå‘˜èµ„æ ¼æ£€æŸ¥.å…¶ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå…ƒç»„.\nit = d.items()\rit\r## dict_items([(\u0026#39;title\u0026#39;, \u0026#39;Python Web Site\u0026#39;), (\u0026#39;url\u0026#39;, \u0026#39;http://www.python.org\u0026#39;), (\u0026#39;spam\u0026#39;, 0)])\rlen(d)\r## 3\rlen(it)\r## 3\rkyes\r\ræ–¹æ³•keysè¿”å›ä¸€ä¸ªå­—å…¸è§†å›¾,å…¶ä¸­åŒ…å«æŒ‡å®šå­—å…¸ä¸­çš„é”®.\nd\r## {\u0026#39;title\u0026#39;: \u0026#39;Python Web Site\u0026#39;, \u0026#39;url\u0026#39;: \u0026#39;http://www.python.org\u0026#39;, \u0026#39;spam\u0026#39;: 0}\rd.items()\r## dict_items([(\u0026#39;title\u0026#39;, \u0026#39;Python Web Site\u0026#39;), (\u0026#39;url\u0026#39;, \u0026#39;http://www.python.org\u0026#39;), (\u0026#39;spam\u0026#39;, 0)])\rd.keys()\r## dict_keys([\u0026#39;title\u0026#39;, \u0026#39;url\u0026#39;, \u0026#39;spam\u0026#39;])\rpop\r\ræ–¹æ³•popå¯ç”¨äºè·å–ä¸æŒ‡å®šé”®ç›¸å…³è”çš„å€¼,å¹¶å°†è¯¥é”®-å€¼å¯¹ä»å­—å…¸ä¸­åˆ é™¤.\nd = {\u0026#39;x\u0026#39;:1, \u0026#39;y\u0026#39;:2}\rd\r## {\u0026#39;x\u0026#39;: 1, \u0026#39;y\u0026#39;: 2}\rd.pop(\u0026#39;x\u0026#39;)\r## 1\rd\r## {\u0026#39;y\u0026#39;: 2}\rpopitem\r\ræ–¹æ³•popitemç±»ä¼¼äºlist.pop,ä½†list.popå¼¹å‡ºåˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ,è€Œpopiteméšæœºåœ°å¼¹å‡ºä¸€ä¸ªå­—å…¸é¡¹,å› ä¸ºå­—å…¸é¡¹çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„,æ²¡æœ‰â€œæœ€åä¸€ä¸ªå…ƒç´ â€çš„æ¦‚å¿µ.å¦‚æœä½ è¦ä»¥é«˜æ•ˆåœ°æ–¹å¼é€ä¸ªåˆ é™¤å¹¶å¤„ç†æ‰€æœ‰å­—å…¸é¡¹,è¿™å¯èƒ½å¾ˆæœ‰ç”¨,å› ä¸ºè¿™æ ·æ— éœ€å…ˆè·å–é”®åˆ—è¡¨.\nd = {\u0026#39;url\u0026#39;:\u0026#39;http://www.python.org\u0026#39;, \u0026#39;spam\u0026#39;:0, \u0026#39;title\u0026#39;:\u0026#39;Python Web Site\u0026#39;}\rd\r## {\u0026#39;url\u0026#39;: \u0026#39;http://www.python.org\u0026#39;, \u0026#39;spam\u0026#39;: 0, \u0026#39;title\u0026#39;: \u0026#39;Python Web Site\u0026#39;}\rd.popitem()\r## (\u0026#39;title\u0026#39;, \u0026#39;Python Web Site\u0026#39;)\rd\r## {\u0026#39;url\u0026#39;: \u0026#39;http://www.python.org\u0026#39;, \u0026#39;spam\u0026#39;: 0}\rsetdefault\r\ræ–¹æ³•setdefaultæœ‰ç‚¹åƒget,å› ä¸ºå®ƒä¹Ÿè·å–ä¸æŒ‡å®šé”®ç›¸å…³è”çš„å€¼,ä½†é™¤æ­¤ä¹‹å¤–,setdefaultè¿˜åœ¨å­—å…¸ä¸åŒ…å«æŒ‡å®šçš„é”®æ—¶,åœ¨å­—å…¸ä¸­æ·»åŠ æŒ‡å®šçš„é”®-å€¼å¯¹.\nd = {}\rd.setdefault(\u0026#39;name\u0026#39;, \u0026#39;N/A\u0026#39;)\r## \u0026#39;N/A\u0026#39;\rd\r## {\u0026#39;name\u0026#39;: \u0026#39;N/A\u0026#39;}\rd[\u0026#39;name\u0026#39;] = \u0026#39;Gumby\u0026#39;\rd.setdefault(\u0026#39;name\u0026#39;, \u0026#39;N/A\u0026#39;)\r## \u0026#39;Gumby\u0026#39;\rd\r## {\u0026#39;name\u0026#39;: \u0026#39;Gumby\u0026#39;}\rupdate\r\ræ–¹æ³•updateä½¿ç”¨ä¸€ä¸ªå­—å…¸ä¸­çš„é¡¹æ¥æ›´æ–°å¦ä¸€ä¸ªå­—å…¸.\nd = {\r\u0026#39;title\u0026#39;:\u0026#39;Python Web Site\u0026#39;,\r\u0026#39;url\u0026#39;:\u0026#39;http://www.python.org\u0026#39;,\r\u0026#39;changed\u0026#39;:\u0026#39;Mar 14 22:09:15 MET 2016\u0026#39;\r}\rd\r## {\u0026#39;title\u0026#39;: \u0026#39;Python Web Site\u0026#39;, \u0026#39;url\u0026#39;: \u0026#39;http://www.python.org\u0026#39;, \u0026#39;changed\u0026#39;: \u0026#39;Mar 14 22:09:15 MET 2016\u0026#39;}\rx = {\u0026#39;title\u0026#39;:\u0026#39;Python Language Website\u0026#39;}\rd.update(x)\rd\r## {\u0026#39;title\u0026#39;: \u0026#39;Python Language Website\u0026#39;, \u0026#39;url\u0026#39;: \u0026#39;http://www.python.org\u0026#39;, \u0026#39;changed\u0026#39;: \u0026#39;Mar 14 22:09:15 MET 2016\u0026#39;}\rå¯¹äºé€šè¿‡å‚æ•°æä¾›çš„å­—å…¸,å°†å…¶é¡¹æ·»åŠ åˆ°å½“å‰å­—å…¸ä¸­.å¦‚æœå½“å‰å­—å…¸åŒ…å«é”®ç›¸åŒçš„é¡¹,å°±æ›¿æ¢å®ƒ.\nvalues\r\ræ–¹æ³•valuesè¿”å›ä¸€ä¸ªç”±å­—å…¸ä¸­çš„å€¼ç»„æˆçš„å­—å…¸è§†å›¾.ä¸åŒäºæ–¹æ³•keys,æ–¹æ³•valuesè¿”å›çš„è§†å›¾å¯èƒ½åŒ…å«é‡å¤çš„å€¼.\nd = {\u0026quot;a\u0026quot;:1, \u0026quot;b\u0026quot;:2, \u0026quot;c\u0026quot;:3}\rd\r## {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3}\rd.values()\r## dict_values([1, 2, 3])\r\r\r1.2.2.2 æ€»ç»“\r1.2.2.2.1 æ–°çš„å‡½æ•°\r\r\rFunction\rMeaning\r\r\r\rdict(seq)\rä»é”®-å€¼å¯¹,æ˜ å°„æˆ–å…³é”®å­—å‚æ•°åˆ›å»ºå­—å…¸\r\r\r\r\r1.2.2.2.2 é€‚ç”¨äºå­—å…¸çš„æ–¹æ³•\r\r\r\r\rMethod\rMeaning\r\r\r\rclear\råˆ é™¤æ‰€æœ‰çš„å­—å…¸é¡¹,æ˜¯å°±åœ°æ‰§è¡Œçš„,ä¸è¿”å›ä»»ä½•å€¼\r\rcopy\rè¿”å›ä¸€ä¸ªæ–°å­—å…¸,å…¶åŒ…å«çš„é”®ï€­å€¼å¯¹ä¸åŸæ¥çš„å­—å…¸ç›¸åŒ(è¿™ä¸ªæ–¹æ³•æ‰§è¡Œçš„æ˜¯æµ…å¤åˆ¶,å› ä¸ºå€¼æœ¬èº«æ˜¯åŸä»¶,è€Œéå‰¯æœ¬.å¦‚æœæƒ³è¦æ·±å¤åˆ¶,å³åŒæ—¶å¤åˆ¶å€¼åŠå…¶åŒ…å«çš„æ‰€æœ‰å€¼,å¯ä½¿ç”¨æ¨¡å—copyä¸­çš„å‡½æ•°deepcopy\r\rfromkeys\råˆ›å»ºä¸€ä¸ªæ–°å­—å…¸,å…¶ä¸­åŒ…å«æŒ‡å®šçš„é”®,ä¸”æ¯ä¸ªé”®å¯¹åº”çš„å€¼éƒ½æ˜¯None.\r\rget\rè·å¾—å­—å…¸ç§çš„å€¼\r\ritems\rè¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰å­—å…¸é¡¹çš„åˆ—è¡¨\r\rkeys\rè¿”å›ä¸€ä¸ªå­—å…¸è§†å›¾,å…¶ä¸­åŒ…å«æŒ‡å®šå­—å…¸ä¸­çš„é”®.\r\rpop\rç”¨äºè·å–ä¸æŒ‡å®šé”®ç›¸å…³è”çš„å€¼,å¹¶å°†è¯¥é”®ï€­å€¼å¯¹ä»å­—å…¸ä¸­åˆ é™¤.\r\rsetdefault\ræœ‰ç‚¹åƒget,å› ä¸ºå®ƒä¹Ÿè·å–ä¸æŒ‡å®šé”®ç›¸å…³è”çš„å€¼,ä½†é™¤æ­¤ä¹‹å¤–,setdefaultè¿˜åœ¨å­—å…¸ä¸åŒ…å«æŒ‡å®šçš„é”®æ—¶,åœ¨å­—å…¸ä¸­æ·»åŠ æŒ‡å®šçš„é”®-å€¼å¯¹.\r\rupdate\rä½¿ç”¨ä¸€ä¸ªå­—å…¸ä¸­çš„é¡¹æ¥æ›´æ–°å¦ä¸€ä¸ªå­—å…¸.\r\rvalues\rè¿”å›ä¸€ä¸ªç”±å­—å…¸ä¸­çš„å€¼ç»„æˆçš„å­—å…¸è§†å›¾.ä¸åŒäºæ–¹æ³•keys,æ–¹æ³•valuesè¿”å›çš„è§†å›¾å¯èƒ½åŒ…å«é‡å¤çš„å€¼.\r\r\r\r\r\r\r\r\r2 æ¡ä»¶,å¾ªç¯åŠå…¶ä»–è¯­å¥\r2.1 æ¡ä»¶å’Œæ¡ä»¶è¯­å¥\r# test which values are True and False\r# The rule:What is True? Anything that is not False!\rvalues = [False, None, 0, 0.0, \u0026quot;\u0026quot;, \u0026#39;\u0026#39;, [], {}, (), True, \u0026#39;str\u0026#39;, \u0026quot;0\u0026quot;, -1, 3, 1000, \u0026#39;\\\u0026#39;\\\u0026#39;\u0026#39;]\rfor v in values:\rif (v):\rprint(\u0026quot;True :\u0026quot;, v)\relse:\rprint(\u0026quot;False:\u0026quot;, v)\r## False: False\r## False: None\r## False: 0\r## False: 0.0\r## False: ## False: ## False: []\r## False: {}\r## False: ()\r## True : True\r## True : str\r## True : 0\r## True : -1\r## True : 3\r## True : 1000\r## True : \u0026#39;\u0026#39;\r\r\r3 Day03ä½œä¸š\rè¯»å–fastaæ–‡ä»¶.\n3.1 fastaæ–‡ä»¶çš„æ ¼å¼\r\u0026gt;Example_Sequence-1\rTCGGGACAGCTTGTTGCCCCATCCATGGGGGTCTGCTCTAAGACCCTTTAATAATAGCGG\rTTATTTTCGCAGGCAGGCACTGATCCTTAATACGGAAGCTACAACCCACAATCTGCCTAG\rCCGTGATAAACCTTCGCCCCGTGCCTGGTCTACCATCTACTCAGGAAGTTGACCGGTCGG\rTTACCTACCTCATGGCGTATGATTGTCCCGGACAGTGCTCCTATGGCTTGGAACCTAACG\rCTCACGGGTTGCTAT\r\u0026gt;Example_Sequence-2\rCTACCGAGAGGTGCCGTCAAATTCTGCCTTTAACCCCCACATGTAGCTCAGTAACTGAGC\rGGCTTGACGGCCCAGGTGCAGAGACGTACGATGCGTGAGCCTGCACAATAACCCACCATT\rTAGACCATTCAAAAGCTTCCAGACAGTCTAGCTCGAAGAAATTT\rå¯ä»¥çœ‹åˆ°fastaæ–‡ä»¶æ¯ä¸ªsequenceéƒ½æ˜¯ä»¥\u0026gt;å¼€å¤´,æ‰€ä»¥è¿™å¯ä»¥ä½œä¸ºè¯†åˆ«æ¯ä¸ªsequenceçš„æ ‡å¿—.\n\r3.2 read_fastaå‡½æ•°\rdef read_fasta(fasta_filename):\r\u0026#39;\u0026#39;\u0026#39;\rGo through file, reading one line at a time, using a\rdictionary to store the DNA sequence for each of the FASTA\rentries (Gavin Sherlock, November 28, 2019)\r\u0026#39;\u0026#39;\u0026#39; with open(fasta_filename, mode=\u0026#39;r\u0026#39;) as fasta_file:\rsequences = {}#åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸\rfor line in fasta_file:#å¯¹æ¯ä¸€è¡Œè¿›è¡Œè¯»å–\rline = line.rstrip()#é™¤å»æ¯è¡Œçš„å³è¾¹çš„ç©ºæ ¼\rif line.startswith(\u0026#39;\u0026gt;\u0026#39;):# å¦‚æœè¿™ä¸€è¡Œæ˜¯ä»¥`\u0026gt;`å¼€å¤´,åˆ™æ˜¯ä¸€ä¸ªæ–°çš„sequence\rline = line.lstrip(\u0026#39;\u0026gt;\u0026#39;)#å°†è¿™è¡Œçš„`\u0026gt;`æ ‡å¿—å»é™¤æ‰\rsequences[line] = \u0026#39;\u0026#39; # intialize dictionary for this entry\rcurrSeqName = line\relse:\rsequences[currSeqName] += line\rreturn(sequences)\r3.2.1 openå‡½æ•°\ropen(name[, mode[, buffering]])\rå‚æ•°è¯´æ˜:\nname:ä¸€ä¸ªåŒ…å«äº†ä½ è¦è®¿é—®çš„æ–‡ä»¶åç§°çš„å­—ç¬¦ä¸²å€¼.\n\rmode:modeå†³å®šäº†æ‰“å¼€æ–‡ä»¶çš„æ¨¡å¼:åªè¯»,å†™å…¥,è¿½åŠ ç­‰.æ‰€æœ‰å¯å–å€¼è§å¦‚ä¸‹çš„å®Œå…¨åˆ—è¡¨.è¿™ä¸ªå‚æ•°æ˜¯éå¼ºåˆ¶çš„,é»˜è®¤æ–‡ä»¶è®¿é—®æ¨¡å¼ä¸ºåªè¯»(r).\n\rbuffering:å¦‚æœbufferingçš„å€¼è¢«è®¾ä¸º0,å°±ä¸ä¼šæœ‰å¯„å­˜.å¦‚æœ bufferingçš„å€¼å–1,è®¿é—®æ–‡ä»¶æ—¶ä¼šå¯„å­˜è¡Œ.å¦‚æœå°† bufferingçš„å€¼è®¾ä¸ºå¤§äº1çš„æ•´æ•°,è¡¨æ˜äº†è¿™å°±æ˜¯çš„å¯„å­˜åŒºçš„ç¼“å†²å¤§å°.å¦‚æœå–è´Ÿå€¼,å¯„å­˜åŒºçš„ç¼“å†²å¤§å°åˆ™ä¸ºç³»ç»Ÿé»˜è®¤.\n\r\rä¸åŒæ¨¡å¼æ‰“å¼€æ–‡ä»¶çš„å®Œå…¨åˆ—è¡¨:\n\r\r\r\rMode\rMeaning\r\r\r\rr\rä»¥åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶.æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´.è¿™æ˜¯é»˜è®¤æ¨¡å¼.\r\rrb\rä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºåªè¯».æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´.è¿™æ˜¯é»˜è®¤æ¨¡å¼.\r\rr+\ræ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™.æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´.\r\rrb+\rä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™.æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´.\r\rw\ræ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥.å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶,å¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘,å³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤.å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ›å»ºæ–°æ–‡ä»¶.\r\rwb\rä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶åªç”¨äºå†™å…¥.å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶,å¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘,å³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤.å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ›å»ºæ–°æ–‡ä»¶.\r\rw+\ræ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™.å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶,å¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘,å³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤.å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ›å»ºæ–°æ–‡ä»¶.\r\rwb+\rä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™.å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨åˆ™æ‰“å¼€æ–‡ä»¶,å¹¶ä»å¼€å¤´å¼€å§‹ç¼–è¾‘,å³åŸæœ‰å†…å®¹ä¼šè¢«åˆ é™¤.å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ›å»ºæ–°æ–‡ä»¶.\r\ra\ræ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ .å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨,æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾.ä¹Ÿå°±æ˜¯è¯´,æ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹å.å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥.\r\rab\rä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ .å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨,æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾.ä¹Ÿå°±æ˜¯è¯´,æ–°çš„å†…å®¹å°†ä¼šè¢«å†™å…¥åˆ°å·²æœ‰å†…å®¹ä¹‹å.å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥.\r\ra+\ræ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¯»å†™.å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨,æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾.æ–‡ä»¶æ‰“å¼€æ—¶ä¼šæ˜¯è¿½åŠ æ¨¡å¼.å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™.\r\rab+\rä»¥äºŒè¿›åˆ¶æ ¼å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ç”¨äºè¿½åŠ .å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨,æ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾.å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨,åˆ›å»ºæ–°æ–‡ä»¶ç”¨äºè¯»å†™.\r\r\r\r\r3.2.2 withè¯­å¥\rå¯ä»¥å‚è€ƒä¸‹é¢çš„å¸–å­:\nhttps://blog.csdn.net/u012609509/article/details/72911564\n\r\r\r","date":1574208000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574208000,"objectID":"4993fedb50adc7612bf4332d3c4add91","permalink":"/post/2019-11-20-python-for-genomics-class-day03/","publishdate":"2019-11-20T00:00:00Z","relpermalink":"/post/2019-11-20-python-for-genomics-class-day03/","section":"post","summary":"1 æ•°æ®ç±»å‹ 1.1 åˆ—è¡¨(list)å’Œå…ƒç»„(tuple) 1.1.1 åˆ›å»ºåˆ—è¡¨ 1.1.2 åˆ—è¡¨é€šç”¨çš„æ“ä½œ 1.1.3 åˆ—è¡¨,Pythonçš„ä¸»åŠ› 1.1.4 æ€»ç»“ 1.2 å­—ç¬¦ä¸² 1.2.1 å­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œ 1.2.2 å­—å…¸ 2","tags":["Blog","Chinese"],"title":"Python for genomics class day03","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 åŸºç¡€\r2 Pycharm cookbook\r2.1 æ³¨é‡Šå¿«æ·é”®\r2.2 å°†projectä¸Šä¼ åˆ°github\r2.3 å¦‚ä½•æ›´æ”¹æ¯ä¸ªé¡¹ç›®çš„è§£é‡Šå™¨ç‰ˆæœ¬?\r2.4 åˆ›å»ºæ–‡ä»¶\r2.5 è¿è¡Œä»£ç \r2.6 ä¿®æ”¹é»˜è®¤çš„å¿«æ·é”®\r2.7 ç¼–ç è®¾ç½®\r\r3 Jupyter notbook\r3.1 ä¿®æ”¹å·¥ä½œè·¯å¾„\r3.2 åœ¨æŸä¸ªæ–‡ä»¶å¤¹ä¸‹é¢æ‰“å¼€jupyter botebook\r3.3 ä¿®æ”¹jupyter noteä¸»é¢˜\r3.3.1 é¦–å…ˆå®‰è£…jupyter-themes\r3.3.2 æŸ¥çœ‹æ‰€æœ‰å¯ä½¿ç”¨ä¸»é¢˜\r3.3.3 æ›´æ”¹ä¸»é¢˜\r3.3.4 æ¢å¤é»˜è®¤ä¸»é¢˜\r3.3.5 å„ä¸»é¢˜æ ·å¼\r\r3.4 åœ¨jupyterä¸­ä½¿ç”¨R\r3.4.1 å…³è”jupyter notebook\r3.4.2 æ‰“å¼€jupyter notebook\r\r3.5 Jupyterå¿«æ·é”®\r3.5.1 å‘½ä»¤è¡Œæ¨¡å¼(æŒ‰Escç”Ÿæ•ˆ)\r\r\r\r\r1 åŸºç¡€\r\r2 Pycharm cookbook\r2.1 æ³¨é‡Šå¿«æ·é”®\rctl+/\n\r2.2 å°†projectä¸Šä¼ åˆ°github\rå‚è€ƒä¸‹é¢å¸–å­:\nhttps://www.cnblogs.com/feixuelove1009/p/5955332.html\n\r2.3 å¦‚ä½•æ›´æ”¹æ¯ä¸ªé¡¹ç›®çš„è§£é‡Šå™¨ç‰ˆæœ¬?\rFile -\u0026gt; Settings -\u0026gt;project -\u0026gt; Project Interpreter\nç„¶åé€‰æ‹©å³å¯.\n\r2.4 åˆ›å»ºæ–‡ä»¶\rFile -\u0026gt; new\n\r2.5 è¿è¡Œä»£ç \rå¯ä»¥ä¸€è¡Œè¡Œçš„è¿è¡Œä»£ç ,ä¿®æ”¹é»˜è®¤å¿«æ·é”®ä½ctl+enter\n\r2.6 ä¿®æ”¹é»˜è®¤çš„å¿«æ·é”®\råœ¨File -\u0026gt;keymapä¸‹\n\r2.7 ç¼–ç è®¾ç½®\réœ€è¦å°†pycharmçš„æ‰€æœ‰ç¼–ç è®¾ç½®ä¸ºUTF-8.\nFile -\u0026gt; Setting -\u0026gt; Editor -\u0026gt; File Encoding\r\råŒæ—¶åœ¨æ¯ä¸ªæ–‡ä»¶çš„å¼€å¤´æ·»åŠ :\n#-*- coding: utf-8 -*\r\r\r3 Jupyter notbook\r3.1 ä¿®æ”¹å·¥ä½œè·¯å¾„\ræ‰“å¼€é»˜è®¤æ—¶Cç›˜.åœ¨Winä¸­å¯ä»¥æŒ‰ç…§ä¸‹é¢æ–¹æ³•ä¿®æ”¹è·¯å¾„.\nD:\rcd ...\rç„¶åä½¿ç”¨ä¸‹åˆ—å‘½ä»¤å¯åŠ¨jupyter notebook\njupyter notebook\r\r3.2 åœ¨æŸä¸ªæ–‡ä»¶å¤¹ä¸‹é¢æ‰“å¼€jupyter botebook\rç›´æ¥åœ¨æŸä¸ªæ–‡ä»¶å¤¹ä¸‹é¢,shift + right click,é€‰æ‹©open powershell window here,ç„¶åè¾“å…¥jupyter notebookå³å¯.\n\r3.3 ä¿®æ”¹jupyter noteä¸»é¢˜\r3.3.1 é¦–å…ˆå®‰è£…jupyter-themes\rpip install --upgrade jupyterthemes\r\r3.3.2 æŸ¥çœ‹æ‰€æœ‰å¯ä½¿ç”¨ä¸»é¢˜\rjt -l\r\r3.3.3 æ›´æ”¹ä¸»é¢˜\rjt -t theme_name\r\r3.3.4 æ¢å¤é»˜è®¤ä¸»é¢˜\rjt -r\r\r3.3.5 å„ä¸»é¢˜æ ·å¼\r3.3.5.1 oceans16\r\r3.3.5.2 onedork\r\r3.3.5.3 chesterish\r\r3.3.5.4 grade3\r\r\r\r3.4 åœ¨jupyterä¸­ä½¿ç”¨R\r3.4.1 å…³è”jupyter notebook\rinstall.packages(c(\u0026#39;repr\u0026#39;, \u0026#39;IRdisplay\u0026#39;, \u0026#39;evaluate\u0026#39;, \u0026#39;crayon\u0026#39;, \u0026#39;pbdZMQ\u0026#39;, \u0026#39;IRkernel\u0026#39;, \u0026#39;uuid\u0026#39;, \u0026#39;digest\u0026#39;))\r# åªåœ¨å½“å‰ç”¨æˆ·ä¸‹å®‰è£…\rIRkernel::installspec()\r# æˆ–è€…æ˜¯åœ¨ç³»ç»Ÿä¸‹å®‰è£…\rIRkernel::installspec(user = FALSE)\r\r3.4.2 æ‰“å¼€jupyter notebook\ræ–°å»º,é€‰æ‹©R.å°±å¯ä»¥ä½¿ç”¨äº†.\n\r\r3.5 Jupyterå¿«æ·é”®\r3.5.1 å‘½ä»¤è¡Œæ¨¡å¼(æŒ‰Escç”Ÿæ•ˆ)\r\r\rShortcut\rFunction\r\r\r\rM\ræŠŠä»£ç å—å˜æˆæ ‡ç­¾\r\rY\ræŠŠæ ‡ç­¾å˜æˆä»£ç å—\r\rX\rå‰ªåˆ‡é€‰æ‹©çš„ä»£ç å—\r\rA\råœ¨ä¸Šé¢æ’å…¥ä»£ç å—\r\rB\råœ¨ä¸‹é¢æ’å…¥ä»£ç å—\r\rZ\ræ’¤é”€åˆ é™¤\r\r\r\r\r\r\r","date":1574035200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574035200,"objectID":"c16180b5152328f4219053363437b992","permalink":"/post/2019-11-18-python-summary/","publishdate":"2019-11-18T00:00:00Z","relpermalink":"/post/2019-11-18-python-summary/","section":"post","summary":"1 åŸºç¡€ 2 Pycharm cookbook 2.1 æ³¨é‡Šå¿«æ·é”® 2.2 å°†projectä¸Šä¼ åˆ°github 2.3 å¦‚ä½•æ›´æ”¹æ¯ä¸ªé¡¹ç›®çš„è§£é‡Šå™¨ç‰ˆæœ¬? 2.4 åˆ›å»ºæ–‡ä»¶ 2.5 è¿è¡Œä»£ç  2.6 ä¿®æ”¹é»˜è®¤çš„å¿«æ·é”® 2.7 ç¼–ç è®¾ç½®","tags":["Blog","Chinese"],"title":"Python Cookbook","type":"post"},{"authors":null,"categories":["Python"],"content":"\r\r1 ç¬¬ä¸€æ¬¡è¯¾ç¨‹ (Day 01)\r1.1 å‰æœŸå‡†å¤‡\r1.1.1 å®‰è£…Anaconda\r1.1.2 å®‰è£…Atomå’ŒHydrogen\r1.1.3 ä¸‹è½½ç¬¬ä¸€å¤©è¯¾ä»¶\r1.1.4 å®‰è£…MobaXterm\r\r1.2 è¯¾ç¨‹\r1.2.1 å‡½æ•°(function)\r1.2.2 æ–¹æ³•(method)\r1.2.3 è¯­å¥\r\r\r\r\r1 ç¬¬ä¸€æ¬¡è¯¾ç¨‹ (Day 01)\ræ”¶åˆ°è€å¸ˆé‚®ä»¶,å¦‚ä¸‹:\n\rThe first class of the BIOS274 mini-course is on Monday at 9:30a in room M112 (the room is entered from Alway building courtyard).\nThere is software that you need to install before this first class.\n1. Anaconda (this has Python 3, jupyter, and much more)\n2. Atom and Hydrogen\n3. Karel the Robot [also available from the canvas Files \u0026gt; Lectures \u0026gt; Day1 folder]\n4. Only if you have a Windows computer, MobaXterm\nThe syllabus has details on where to find these tools and how to test the install:\nhttps://docs.google.com/document/d/140OLR6tMPTvYwmHBREiDRIvTA1cXoXWzfVP-px9IlEs\nBe sure your laptop has a full charge, there are very few electrical outlets in M112.\n\r1.1 å‰æœŸå‡†å¤‡\r1.1.1 å®‰è£…Anaconda\rè¿™ä¸ªå·²ç»å®‰è£….\n\r1.1.2 å®‰è£…Atomå’ŒHydrogen\rAtomæˆ‘ä»¥å‰å°±å®‰è£…è¿‡.\nHydrogenæ˜¯ä¸€ä¸ªèƒ½åœ¨Atomä¸­æ¨¡æ‹ŸJupyterç¼–è¾‘æ–¹å¼çš„æ’ä»¶,å®‰è£…æ•™ç¨‹å‚è€ƒå¦‚ä¸‹å¸–å­:\nhttps://blog.csdn.net/simplehouse/article/details/78348298\né¦–å…ˆå®‰è£…IJavascript\r\ræ‰“å¼€terminal,è¿™æ˜¯å¾®è½¯æ–°å¼€å‘çš„ç±»ä¼¼äºlinuxç»ˆç«¯çš„åº”ç”¨.\nè¾“å…¥ä¸‹åˆ—ä»£ç :\nnpm install -g ijavascript\rå®‰è£…Jupyter\r\rä½¿ç”¨pipå·¥å…·å®‰è£…,ä»ç„¶åœ¨terminalä¸‹:\npip install --upgrade pip\rpip install jupyter\rå…¨å±€å®‰è£…IJavascriptå†…æ ¸\r\rijsinstall --install=global\råœ¨Atomä¸­å®‰è£…Hydrogen\r\rç›´æ¥è¾“å…¥ä¸‹åˆ—ä»£ç ,åœ¨terminalä¸­:\napm install hydrogen\ræ›´æ–°Hydrogençš„å†…æ ¸\r\rIJavascriptå†…æ ¸å®‰è£…å®Œæ¯•,å¹¶ä¸æ„å‘³ç€Hydrogenå°±èƒ½å¼€å§‹ä½¿ç”¨,éœ€ä½¿ç”¨Hydrogen: Update Kernelså‘½ä»¤æ›´æ–°å†…æ ¸.(é€šè¿‡cmd/ctl +shift + Pæ‰“å¼€Atomçš„Command Paletteæ‰§è¡Œ),æˆ–è€…é‡æ–°å¯åŠ¨ä¸€æ¬¡Atomä¹Ÿå¯ä»¥æ›´æ–°å…¶å†…æ ¸.\nä½¿ç”¨\r\ræ‰“å¼€Atom,ç„¶åæ–°å»ºä¸€ä¸ªæ–‡ä»¶,ä¿å­˜ä½pyæ–‡ä»¶,ç„¶åä½¿ç”¨å¿«æ·é”®ctl/cmd + Enterå¯ä»¥æ‰§è¡ŒHydrogen.\n\r1.1.3 ä¸‹è½½ç¬¬ä¸€å¤©è¯¾ä»¶\råœ°å€å¦‚ä¸‹:\nD:\\study\\python class\\karel_the_robot\r\r1.1.4 å®‰è£…MobaXterm\rè€å¸ˆç»™äº†ä»‹ç»é“¾æ¥:\nhttps://docs.google.com/document/d/140OLR6tMPTvYwmHBREiDRIvTA1cXoXWzfVP-px9IlEs/edit\nåªæœ‰windowsçš„ç”µè„‘æ‰éœ€è¦å®‰è£…è¯¥è½¯ä»¶.\næŸ¥äº†ä»¥ä¸‹,è¿™ä¸ªå…¶å®è·ŸXshellå¾ˆåƒ,ç”¨æ¥è¿æ¥Linuxçš„å·¥å…·.\nå‚è€ƒå¸–å­å¦‚ä¸‹:\nhttps://blog.csdn.net/weixin_35353187/article/details/81355088\nå®˜ç½‘ä¸‹è½½:\nhttps://mobaxterm.mobatek.net/\nä¸‹è½½ä¹‹å,ç›´æ¥è§£å‹ç¼©å®‰è£…å³å¯.\nå®‰è£…ç»“æŸä¹‹å,æ‰“å¼€å¦‚ä¸‹:\nè¿™ä¸ªè½¯ä»¶çš„å¥½å¤„æ˜¯å¯ä»¥æ¨¡æ‹Ÿterminal,æ‰€ä»¥å…¶å®ä¹Ÿå¯ä»¥ä»£æ›¿å¾®è½¯è‡ªå¸¦çš„terminal.\nåˆ°è¿™é‡Œ,å°±å·²ç»å‡†å¤‡å¥½äº†è€å¸ˆçš„è¯¾å‰è¦æ±‚.\n\r\r1.2 è¯¾ç¨‹\rè·ŸRä¸åŒ,pythonä¸­æœ‰ä¸åŒçš„å¯¹è±¡æ¥æ‰§è¡Œå‘½ä»¤,å¸¸è§çš„æœ‰è¯­å¥,å‡½æ•°(function)å’Œæ–¹æ³•(method).æˆ‘ä»¬ç®€å•æ¥ä»‹ç»ä¸€ä¸‹ä»–ä»¬.\n1.2.1 å‡½æ•°(function)\rè¿™æ˜¯è·ŸRæœ€åƒä¹Ÿæ˜¯ä¸€è‡´çš„ä¸œè¥¿,æ‰€ä»¥æ¯”è¾ƒå¥½ç†è§£.å‡½æ•°æ˜¯å°è£…äº†å¤šæ¡è¯­å¥ç”¨æ¥å®Œæˆç‰¹å®šä»»åŠ¡çš„ä¸€æ®µä»£ç .\nfunction(object, arg1, arg2,...)\rå‡½æ•°æ‰§è¡Œçš„æ—¶å€™,ç¬¬ä¸€ä¸ªå‚æ•°ä¸€èˆ¬æ˜¯è¦å¤„ç†çš„å¯¹è±¡.ç„¶åæ˜¯å…¶ä»–çš„ä¸€äº›å½¢å‚.\na = [1 ,2 ,3]\rsum(a)\r## 6\ra\r## [1, 2, 3]\rstr(a)\r## \u0026#39;[1, 2, 3]\u0026#39;\ra\r## [1, 2, 3]\rå¯ä»¥çœ‹åˆ°,è·ŸRä¸€æ ·,å¯¹ä¸€ä¸ªå¯¹è±¡ç”¨æŸä¸ªRæ•°å¤„ç†ä¹‹å,ä¸€èˆ¬ä¼šè¿”å›å¤„ç†ç»“æœ,å¹¶ä¸”å¯¹åŸæ¥çš„å¯¹è±¡å¹¶æ²¡æœ‰åšä»»ä½•å¤„ç†,åŸæ¥çš„å¯¹è±¡æ²¡æœ‰å‘ç”Ÿä»»ä½•å˜åŒ–,å¦‚æœæƒ³è¦å¾—åˆ°å¤„ç†ä¹‹åçš„ç»“æœ,éœ€è¦å°†å…¶èµ‹å€¼ç»™æŸä¸ªå¯¹è±¡.\na = [1,2,3]\rb = str(a)\ra\r## [1, 2, 3]\rb\r## \u0026#39;[1, 2, 3]\u0026#39;\rtype(a)\r## \u0026lt;class \u0026#39;list\u0026#39;\u0026gt;\rtype(b)\r## \u0026lt;class \u0026#39;str\u0026#39;\u0026gt;\r\r1.2.2 æ–¹æ³•(method)\rRä¸­å¥½åƒæ²¡æœ‰æ–¹æ³•?æ–¹æ³•ä¸€èˆ¬æ˜¯å¯¹æŸäº›ç‰¹æ®Šç±»å‹çš„å¯¹è±¡è¿›è¡Œå¤„ç†,æ¯”å¦‚å¯¹äºå­—ç¬¦ä¸²,å°±æœ‰å¾ˆå¤šå¯ä»¥ç”¨äºå­—ç¬¦ä¸²å¤„ç†çš„æ–¹æ³•.æ–¹æ³•çš„è°ƒç”¨æ˜¯ä½¿ç”¨ä¸‹åˆ—è¯­æ³•:\nobject.method(arg1, arg2,...)\rtest = \u0026quot;Jasper Shen is a postdoc at Stanford University.\u0026quot;\rtype(test)\r## \u0026lt;class \u0026#39;str\u0026#39;\u0026gt;\rtest.find(\u0026quot;S\u0026quot;)\r## 7\rtest.count(\u0026quot;S\u0026quot;)\r## 2\ræ–¹æ³•å’Œå‡½æ•°æœ‰ä¸€ç‚¹æœ€ä¸ä¸€æ ·çš„,å¦‚æœå®å¯¹å¯¹è±¡è¿›è¡Œå¤„ç†,é‚£ä¹ˆä¸éœ€è¦èµ‹å€¼,å¾ˆå¤šæ—¶å€™æ˜¯å¯¹å¯¹è±¡å°±åœ°æ”¹å˜çš„.\n\r1.2.3 è¯­å¥\rè¯­å¥æ˜¯ä¸€æ®µå¯æ‰§è¡Œçš„ä»£ç ,å¸¸è§çš„æœ‰èµ‹å€¼è¯­å¥(=),if,for,while,import,return,break,pass,withè¯­å¥ç­‰.\n\r\r\r","date":1574035200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1574035200,"objectID":"4c159be21387108148d9cdd02d677ab1","permalink":"/post/2019-11-18-python-for-bioinformatics/","publishdate":"2019-11-18T00:00:00Z","relpermalink":"/post/2019-11-18-python-for-bioinformatics/","section":"post","summary":"1 ç¬¬ä¸€æ¬¡è¯¾ç¨‹ (Day 01) 1.1 å‰æœŸå‡†å¤‡ 1.1.1 å®‰è£…Anaconda 1.1.2 å®‰è£…Atomå’ŒHydrogen 1.1.3 ä¸‹è½½ç¬¬ä¸€å¤©è¯¾ä»¶ 1.1.4 å®‰è£…MobaXterm 1.2 è¯¾ç¨‹ 1.2.1 å‡½æ•°(fun","tags":["Blog","Chinese"],"title":"Python forbioinformaticsè¯¾ç¨‹","type":"post"},{"authors":null,"categories":["R"],"content":"\rä½¿ç”¨ggplot2ç”»è´è¶å›¾.\nlibrary(tidyverse)\r## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1\r## -- Attaching packages ------------------------------------------------------------------------ tidyverse 1.2.1 --\r## v ggplot2 3.2.1 v purrr 0.3.2\r## v tibble 2.1.3 v dplyr 0.8.3\r## v tidyr 1.0.0 v stringr 1.4.0\r## v readr 1.3.1 v forcats 0.4.0\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tibble\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tidyr\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 3.6.1\r## -- Conflicts --------------------------------------------------------------------------- tidyverse_conflicts() --\r## x dplyr::filter() masks stats::filter()\r## x dplyr::lag() masks stats::lag()\r##æ„å»ºç¤ºä¾‹æ•°æ®\rdf \u0026lt;- mtcars %\u0026gt;% select(carb, wt, gear) %\u0026gt;% filter(gear == 3 | gear == 4) %\u0026gt;% ##åªé€‰æ‹©gearä½3æˆ–è€…4çš„è½¦\rgroup_by(carb, gear) %\u0026gt;% summarise(mean = mean(wt)) %\u0026gt;% #è®¡ç®—æ¯ç±»è½¦çš„wtçš„å¹³å‡å€¼\rungroup() %\u0026gt;% mutate(carb = factor(carb, levels = unique(carb)),\rgear = factor(gear, levels = unique(gear)))\r##è§‚å¯Ÿæ•°æ®\rdf\r## # A tibble: 7 x 3\r## carb gear mean\r## \u0026lt;fct\u0026gt; \u0026lt;fct\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 3 3.05\r## 2 1 4 2.07\r## 3 2 3 3.56\r## 4 2 4 2.68\r## 5 3 3 3.86\r## 6 4 3 4.69\r## 7 4 4 3.09\r##è¿™ä¸€æ­¥ç”¨æ¥å°†æŸç±»(ç”¨äºåˆ†ç»„çš„å˜é‡)çš„å€¼è®¾ç½®ä¸ºè´Ÿå€¼\rdf \u0026lt;- df %\u0026gt;% mutate(mean = case_when(\rgear == 4 ~ -1*mean,\rgear == 3 ~ mean\r)\r)\rdf %\u0026gt;% ggplot(aes(x = carb, mean, fill = gear)) +\rgeom_bar(stat = \u0026quot;identity\u0026quot;, width = 0.5) +\rlabs(x = \u0026quot;Carb\u0026quot;, y = \u0026quot;WT mean\u0026quot;) +\rscale_y_continuous(breaks = c(-2, 0, 2, 4), labels = c(2, 0 ,2, 4)) +\rtheme_bw() +\rcoord_flip()\r\n\n\n","date":1573862400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573862400,"objectID":"2c34ff132b5abbf23d48dac4ad3a4d77","permalink":"/post/2019-11-16-butterfly-plot/","publishdate":"2019-11-16T00:00:00Z","relpermalink":"/post/2019-11-16-butterfly-plot/","section":"post","summary":"ä½¿ç”¨ggplot2ç”»è´è¶å›¾. library(tidyverse) ## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1 ## -- Attaching packages ------------------------------------------------------------------------ tidyverse 1.2.1 -- ## v ggplot2 3.2.1 v purrr 0.3.2 ## v tibble 2.1.3 v dplyr 0.8.3 ## v tidyr 1.0.0 v stringr 1.4.0 ## v readr 1.3.1 v forcats 0.4.0 ## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version","tags":["Blog","Chinese"],"title":"ggplot2åšè´è¶å›¾","type":"post"},{"authors":null,"categories":["R","Database"],"content":"\r\r1 KEGG Pathwayæ•°æ®åº“\r1.1 èƒŒæ™¯\r1.2 KGMLçš„overview\r1.3 å¦‚ä½•è·å¾—æŸä¸ªpathwayKGMLæ–‡ä»¶\r1.4 Pathway\r1.4.1 Pathway element\r\r1.5 Entry(æ¡ç›®)\r1.5.1 Entry element\r\r1.6 Relation\r1.6.1 relationå…ƒç´ \r\r1.7 Reactionååº”\r\r\r\r1 KEGG Pathwayæ•°æ®åº“\rKEGG pathwayçš„æ•°æ®æ˜¯ä½¿ç”¨KGML(KEGG Markup Language)æ ¼å¼å­˜å‚¨ä¸‹æ¥çš„.è¯¦ç»†çš„ä¿¡æ¯å¯ä»¥é˜…è¯»å®˜æ–¹æ–‡æ¡£.\nhttps://www.kegg.jp/kegg/xml/docs/\n1.1 èƒŒæ™¯\rKEGG pathwayæœ‰ä¸¤ä¸ªç±»å‹.\n\rreference pathways: æ‰‹åŠ¨ç”»çš„.\n\rorganism-specific pathways: ä½¿ç”¨è®¡ç®—æ–¹æ³•è‡ªåŠ¨ä»reference pathwayå¾—åˆ°çš„.\n\r\råœ¨KGMLæ–‡ä»¶ä¸­,entryæŒ‡çš„æ˜¯node,è€Œrelationå’ŒreactionæŒ‡çš„æ˜¯æ•´ä¸ªç½‘ç»œçš„è¾¹.åœ¨KEGG pathwayä¸­,çŸ©å½¢è¡¨ç¤ºåŸºå› (ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯geneçš„äº§ç‰©è›‹ç™½è´¨),è€Œcircleä»£è¡¨çš„æ˜¯metabolite.\nå¦‚æœç½‘ç»œä¸­åªæœ‰entryå’Œrelation,åˆ™è¯¥ç½‘ç»œç§°ä¸ºprotein network.å¦‚æœåªæœ‰entryå’Œreaction,åˆ™ç§°ä¸ºchemical network.\næ‰€ä»¥ä¸€èˆ¬æ¥è¯´,å¯ä»¥ç”¨ä¸¤ç§æ–¹å¼æ¥è¡¨ç¤ºmetabolic pathway:\nmetabolic pathways viewed as both protein networks and chemical networks and\n\rregulatory pathways viewed as protein networks only.\n\r\r\r1.2 KGMLçš„overview\rè¿™å¹…å›¾æ˜¯æ•´ä¸ªKGMLçš„æ€»è§ˆ.\n\r1.3 å¦‚ä½•è·å¾—æŸä¸ªpathwayKGMLæ–‡ä»¶\rä½¿ç”¨RåŒ…KEGGlincså¯ä»¥ä¸‹è½½pathwayçš„KGMLæ–‡ä»¶.\nlibrary(tidyverse)\rlibrary(KEGGREST)\rlibrary(KEGGlincs)\r###\r#è·å¾—æ‰€æœ‰hasçš„pathway ID\rpath_id \u0026lt;- KEGGREST::keggList(database = \u0026quot;pathway\u0026quot;, organism = \u0026quot;hsa\u0026quot;)\rhead(path_id)\r## path:hsa00010 ## \u0026quot;Glycolysis / Gluconeogenesis - Homo sapiens (human)\u0026quot; ## path:hsa00020 ## \u0026quot;Citrate cycle (TCA cycle) - Homo sapiens (human)\u0026quot; ## path:hsa00030 ## \u0026quot;Pentose phosphate pathway - Homo sapiens (human)\u0026quot; ## path:hsa00040 ## \u0026quot;Pentose and glucuronate interconversions - Homo sapiens (human)\u0026quot; ## path:hsa00051 ## \u0026quot;Fructose and mannose metabolism - Homo sapiens (human)\u0026quot; ## path:hsa00052 ## \u0026quot;Galactose metabolism - Homo sapiens (human)\u0026quot;\rpath_id \u0026lt;- path_id %\u0026gt;% names() %\u0026gt;% unique() %\u0026gt;% stringr::str_replace(\u0026quot;path:\u0026quot;, \u0026quot;\u0026quot;)\rhead(path_id)\r## [1] \u0026quot;hsa00010\u0026quot; \u0026quot;hsa00020\u0026quot; \u0026quot;hsa00030\u0026quot; \u0026quot;hsa00040\u0026quot; \u0026quot;hsa00051\u0026quot; \u0026quot;hsa00052\u0026quot;\r##ä¸‹è½½kgmlæ–‡ä»¶å¹¶è¿›è¡Œè§£æ\rtemp_kgml \u0026lt;- KEGGlincs::get_KGML(pathwayid = path_id[1])\rclass(temp_kgml)\r## [1] \u0026quot;KEGGPathway\u0026quot;\r## attr(,\u0026quot;package\u0026quot;)\r## [1] \u0026quot;KEGGgraph\u0026quot;\rtemp_kgml\r## KEGG Pathway\r## [ Title ]: Glycolysis / Gluconeogenesis\r## [ Name ]: path:hsa00010\r## [ Organism ]: hsa\r## [ Number ] :00010\r## [ Image ] :http://www.kegg.jp/kegg/pathway/hsa/hsa00010.png\r## [ Link ] :http://www.kegg.jp/kegg-bin/show_pathway?hsa00010\r## ------------------------------------------------------------\r## Statistics:\r## 100 node(s)\r## 89 edge(s)\r## 35 reaction(s)\r## ------------------------------------------------------------\rget_KGML()å‡½æ•°å…¶å®åˆ†åˆ«ä½¿ç”¨äº†KEGGRESTåŒ…ä¸­çš„keggGet()å‡½æ•°æ¥ä¸‹è½½çš„,ç„¶åä½¿ç”¨KEGGgraphåŒ…ä¸­çš„paraseKGML()å‡½æ•°æ¥è§£æ.\ntemp_kgml2 \u0026lt;-\rKEGGREST::keggGet(dbentries = path_id[1], option = \u0026quot;kgml\u0026quot;)\r## No encoding supplied: defaulting to UTF-8.\rclass(temp_kgml2)\r## [1] \u0026quot;character\u0026quot;\rtemp_kgml2 \u0026lt;- KEGGgraph::parseKGML(file = temp_kgml2)\rtemp_kgml2\r## KEGG Pathway\r## [ Title ]: Glycolysis / Gluconeogenesis\r## [ Name ]: path:hsa00010\r## [ Organism ]: hsa\r## [ Number ] :00010\r## [ Image ] :http://www.kegg.jp/kegg/pathway/hsa/hsa00010.png\r## [ Link ] :http://www.kegg.jp/kegg-bin/show_pathway?hsa00010\r## ------------------------------------------------------------\r## Statistics:\r## 100 node(s)\r## 89 edge(s)\r## 35 reaction(s)\r## ------------------------------------------------------------\r\r1.4 Pathway\r1.4.1 Pathway element\rä¸€å…±æœ‰å…­ä¸ªå±æ€§.\n\r\r\rAttribute.name\r\rExplanation\r\r\r\r\r\rname\r\rPathway ID\r\r\r\rorg\r\rko/ec/org ID\r\r\r\rnumber\r\rpathway ID numebr\r\r\r\rtitle\r\rpathway title\r\r\r\rimage\r\rpathway figure link\r\r\r\rlink\r\rpathway link\r\r\r\r\ræˆ‘ä»¬å¯ä»¥ä¸‹è½½pathwayçš„å›¾ç‰‡.\nimage_link \u0026lt;- slot(slot(temp_kgml, \u0026quot;pathwayInfo\u0026quot;), \u0026quot;image\u0026quot;)\rimage_link\r## [1] \u0026quot;http://www.kegg.jp/kegg/pathway/hsa/hsa00010.png\u0026quot;\rdownload.file(url = image_link, destfile = basename(image_link), mode = \u0026quot;wb\u0026quot;)\r\r\r1.5 Entry(æ¡ç›®)\r1.5.1 Entry element\råŒ…æ‹¬äº†ç½‘ç»œä¸­çš„nodeçš„å±æ€§.å±æ€§åŒ…æ‹¬ä»¥ä¸‹å†…å®¹.\n\r\r\rAttribute.name\r\rExplanation\r\r\r\r\r\rid\r\rID of the entry\r\r\r\rname\r\rKEGG ID of the entry\r\r\r\rtype\r\rType of the entry\r\r\r\rlink\r\rLink of the entry\r\r\r\rreaction\r\rThe KEGG ID of corresponding reaction\r\r\r\r\r#æ•´ä½“ä¿¡æ¯\rtemp_kgml@pathwayInfo\r## [ Title ]: Glycolysis / Gluconeogenesis\r## [ Name ]: path:hsa00010\r## [ Organism ]: hsa\r## [ Number ] :00010\r## [ Image ] :http://www.kegg.jp/kegg/pathway/hsa/hsa00010.png\r## [ Link ] :http://www.kegg.jp/kegg-bin/show_pathway?hsa00010\r#åˆ†åˆ«çš„å±æ€§\rtemp_kgml@pathwayInfo@name\r## [1] \u0026quot;path:hsa00010\u0026quot;\rtemp_kgml@pathwayInfo@org\r## [1] \u0026quot;hsa\u0026quot;\rtemp_kgml@pathwayInfo@number\r## [1] \u0026quot;00010\u0026quot;\rtemp_kgml@pathwayInfo@title\r## [1] \u0026quot;Glycolysis / Gluconeogenesis\u0026quot;\rtemp_kgml@pathwayInfo@image\r## [1] \u0026quot;http://www.kegg.jp/kegg/pathway/hsa/hsa00010.png\u0026quot;\rtemp_kgml@pathwayInfo@link\r## [1] \u0026quot;http://www.kegg.jp/kegg-bin/show_pathway?hsa00010\u0026quot;\rå›¾ç‰‡ä¸‹è½½é“¾æ¥:\n\npathwayè¯¦ç»†ä¿¡æ¯é“¾æ¥:\n\næˆ‘ä»¬ä¸‹é¢çœ‹çœ‹pathwaä¸­nodeçš„ä¿¡æ¯.\ntemp_kgml\r## KEGG Pathway\r## [ Title ]: Glycolysis / Gluconeogenesis\r## [ Name ]: path:hsa00010\r## [ Organism ]: hsa\r## [ Number ] :00010\r## [ Image ] :http://www.kegg.jp/kegg/pathway/hsa/hsa00010.png\r## [ Link ] :http://www.kegg.jp/kegg-bin/show_pathway?hsa00010\r## ------------------------------------------------------------\r## Statistics:\r## 100 node(s)\r## 89 edge(s)\r## 35 reaction(s)\r## ------------------------------------------------------------\rå¯ä»¥çœ‹åˆ°è¿™ä¸ªpathwayå«æœ‰node,edgeè¿˜æœ‰reaction.\n# node\rtemp_kgml@nodes$`18`\r## KEGG Node (Entry \u0026#39;18\u0026#39;):\r## ------------------------------------------------------------\r## [ displayName ]: ALDOA, ALDA, GSD12, HEL-S-87p...\r## [ Name ]: hsa:226,hsa:229,hsa:230\r## [ Type ]: gene\r## [ Link ]: http://www.kegg.jp/dbget-bin/www_bget?hsa:226+hsa:229+hsa:230\r## ------------------------------------------------------------\r#edge\rtemp_kgml@edges[[1]]\r## KEGG Edge (Type: ECrel):\r## ------------------------------------------------------------\r## [ Entry 1 ID ]: 73\r## [ Entry 2 ID ]: 75\r## [ Subtype ]: ## [ Subtype name ]: compound\r## [ Subtype value ]: 90\r## ------------------------------------------------------------\r#reaction\rtemp_kgml@reactions[[1]]\r## KEGG Reaction(rn:R00710)\r## ------------------------------------------------------------\r## [ Name ]: rn:R00710\r## [ Type ]: reversible\r## [ Substrate Name ]: cpd:C00084\r## [ Product Name ]: cpd:C00033\r1.5.1.1 Typeå±æ€§çš„è¯¦ç»†è§£é‡Š\råœ¨pathwayä¸­,å¦‚æœä¸€ä¸ªpathwayé“¾æ¥åˆ°å¦å¤–ä¸€ä¸ªpathway,é‚£ä¹ˆpathwayä¹Ÿæ˜¯ä¼šè¢«ä½œä¸ºä¸€ä¸ªnodeå±•ç¤ºå‡ºæ¥.\n\r\r\rAttribute.name\r\rExplanation\r\r\r\r\r\rortholog\r\rthe node is a KO (ortholog group)\r\r\r\renzyme\r\rthe node is an enzyme\r\r\r\rreaction\r\rthe node is a reaction\r\r\r\rgene\r\rthe node is a gene product (mostly a protein)\r\r\r\rgroup\r\rthe node is a complex of gene products (mostly a protein complex)\r\r\r\rcompound\r\rthe node is a chemical compound (including a glycan)\r\r\r\rmap\r\rthe node is a linked pathway map\r\r\r\rbrite\r\rthe node is a linked brite hierarchy\r\r\r\rother\r\rthe node is an unclassified type\r\r\r\r\r\r\r\r1.6 Relation\r1.6.1 relationå…ƒç´ \rè¿™é‡Œé¢çš„relationä¸åŒ…æ‹¬æˆ‘ä»¬æ‰€çŸ¥é“çš„é…¶å‚¬åŒ–ä»£è°¢ç‰©çš„è”ç³».åªåŒ…æ‹¬ä¸¤ä¸ªproteins(gene products)æˆ–è€…ä¸¤ä¸ªKOs(ortholog groups)æˆ–è€…proteinå’Œcompound\n\r\r\rAttribute.name\r\rExplanation\r\r\r\r\r\rentry1\r\rthe first (from) entry that defines this relation\r\r\r\rentry2\r\rthe second (to) entry that defines this relation\r\r\r\rtype\r\rthe type of this relation\r\r\r\r\r1.6.1.1 Typeå±æ€§\rrelationçš„typeä¸€å…±æœ‰5ä¸ª,åˆ†åˆ«æ˜¯\n\rECrel: enzyme-enzyme relation, indicating two enzymes catalyzing successive reaction steps.ä»£è¡¨çš„æ˜¯ä¸¤ä¸ªé…¶ä¹‹é—´çš„è”ç³»,æ¯”å¦‚enzyme1-metabolite1-enzyme2-metabolite2.é‚£ä¹ˆenzyme1-enzyme2ä¹‹é—´çš„å…³ç³»realtionå°±æ˜¯ECrel.\n\rPPrel: protein-protein interaction, such as binding and modification.\n\rGErel: gene expression interaction, indicating relation of transcription factor and target gene product.\n\rPCrel: protein-compound interaction,æ³¨æ„è¿™ä¸ªå…³ç³»ä¸æ˜¯enzymeå‚¬åŒ–çš„å…³ç³».\n\rmaplink: è·Ÿå¦å¤–ä¸€ä¸ªpathwayçš„è”ç³».\n\r\r\r1.6.1.2 subtype element\ræ¯ä¸ªrelatioè¿˜æœ‰ä¸€ä¸ªsubtypeå±æ€§.è¿™ä¸ªå±æ€§ç”¨æ¥å¯¹relationåšè¿›ä¸€æ­¥çš„è¯´æ˜.\n\rname: interation/relationçš„ä¿¡æ¯.\r\råŒ…å«ä»¥ä¸‹å‡ ç§ä¿¡æ¯.\nå…¶ä¸­compoundæ˜¯æŒ‡è¿™ä¸ªrelationå…¶å®æ˜¯ä¸¤ä¸ªenzyme.\ntemp_kgml@edges[[1]]@entry1ID\r## [1] \u0026quot;73\u0026quot;\rtemp_kgml@edges[[1]]@entry2ID\r## [1] \u0026quot;75\u0026quot;\rtemp_kgml@edges[[1]]@type\r## [1] \u0026quot;ECrel\u0026quot;\rtemp_kgml@edges[[1]]@subtype\r## $subtype\r## [ Subtype name ]: compound\r## [ Subtype value ]: 90\rè¿™ä¸ªrelationå°±æ˜¯ä¸¤ä¸ªenzymeè¿æ¥èµ·æ¥çš„.\n\r\r\r1.7 Reactionååº”\rreactionå’Œrelationå¾ˆç±»ä¼¼.ä¸ä¸€æ ·çš„æ˜¯typeå±æ€§.\ntypeå±æ€§åŒ…æ‹¬reversibleå’Œirreversible.åˆ†åˆ«è¡¨ç¤ºå¯é€†ååº”å’Œä¸å¯é€†åæ˜ .\ntemp_kgml@reactions[[1]]@name\r## [1] \u0026quot;rn:R00710\u0026quot;\rtemp_kgml@reactions[[1]]@type\r## [1] \u0026quot;reversible\u0026quot;\rtemp_kgml@reactions[[1]]@substrateName\r## [1] \u0026quot;cpd:C00084\u0026quot;\rtemp_kgml@reactions[[1]]@productName\r## [1] \u0026quot;cpd:C00033\u0026quot;\r\r\r","date":1573689600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573689600,"objectID":"de1ac383552a768e3a635f0723495a94","permalink":"/post/2019-11-14-kegg/","publishdate":"2019-11-14T00:00:00Z","relpermalink":"/post/2019-11-14-kegg/","section":"post","summary":"1 KEGG Pathwayæ•°æ®åº“ 1.1 èƒŒæ™¯ 1.2 KGMLçš„overview 1.3 å¦‚ä½•è·å¾—æŸä¸ªpathwayKGMLæ–‡ä»¶ 1.4 Pathway 1.4.1 Pathway element 1.5 Entry(æ¡ç›®) 1.5.1 Entry element 1.6 Relation 1.6.1","tags":["Blog","Chinese"],"title":"KEGGæ•°æ®åº“æ€»ç»“","type":"post"},{"authors":null,"categories":["literature"],"content":"\r\r1 Abstract\r2 Results\r3 Reference\r\r\ræ–‡ç« é¢˜ç›®:\nLearning representations of microbeâ€“metabolite interactions\næ–‡ç« Supplementary\nhttps://static-content.springer.com/esm/art%3A10.1038%2Fs41592-019-0616-3/MediaObjects/41592_2019_616_MOESM1_ESM.pdf\nè¿™ç¯‡æ–‡ç« ä¸­çš„interactions across omicså°±æ˜¯æŒ‡åœ¨ç»Ÿè®¡å­¦æ„ä¹‰ä¸Šçš„ä¸¤ä¸ªå˜é‡çš„å…³ç³»,å¦‚ç›¸å…³æ€§.\nmicrobe-metabolite relationshipå°±æ˜¯æŒ‡å¾®ç”Ÿç‰©å’Œmetaboliteçš„ç›¸å…³æ€§.\n1 Abstract\rPrevious work has been able to predict metabolite abundance profiles from microbe abundance profiles1 2. However, because conventional correlation techniques have unacceptably high false-discovery rates, finding meaningful relationships between genes within complex microbiomes and their products in the metabolome is challenging.\nä¼ ç»Ÿçš„correlationè®¡ç®—æ–¹æ³•æœ‰ç€éå¸¸å¤§çš„é”™è¯¯å‘ç°ç‡,å› æ­¤å‘ç°microbeå’Œä»–ä»¬çš„product metaboliteè¿˜æ˜¯éå¸¸å…·æœ‰æŒ‘æˆ˜æ€§çš„.\nRelative abundances of thousands of microbes and metabolites can be measured using sequencing technology and mass spectrometry, respectively, resulting in the generation of high-dimensional microbiome and metabolomics datasets.\nmicrobiomeå¾—åˆ°çš„å®šé‡ä¿¡æ¯ä¹Ÿæ˜¯relative abundance.å¯¹äºmetabolomeæ•°æ®,èƒ½å¤Ÿæµ‹åˆ°çš„metaboliteä¾èµ–äºæå–çš„æ–¹æ³•ä»¥åŠåˆ†ææ–¹æ³•,å› æ­¤å…¶å®æˆ‘ä»¬å¾—åˆ°çš„metabolomeæ˜¯a partial snapshot of the metabolome.å¹¶ä¸å®Œå…¨çš„å®Œæ•´çš„.\nQuantifying microbeâ€“metabolite interactions from these abundances requires estimating a distribution across all possible microbeâ€“metabolite interactions.\nä»ç›¸å¯¹å®šé‡çš„æ•°æ®ä¸­å¾—åˆ°microbe-metabolite interactionséœ€è¦å¾—åˆ°æ‰€æœ‰çš„microbeâ€“metabolite interactionsçš„åˆ†å¸ƒ.æ˜¯å¦å¯ä»¥ç†è§£ä¸ºéœ€è¦ç”±NULLåˆ†å¸ƒ,ç„¶åæ‰èƒ½çŸ¥é“æŸä¸ªinteractionæ˜¯ä¸æ˜¯çœŸçš„interaction?\nPearsonâ€™s and Spearmanâ€™s correlations assume independence between interactions.\næˆ‘ä»¬å¸¸ç”¨çš„correlationæ–¹æ³•å‡è®¾ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»å’Œå…¶ä»–çš„å˜é‡æ˜¯ç‹¬ç«‹çš„,è¿™æ˜¯ä¸ä¸€å®šçš„.æ‰€ä»¥è¿˜æœ‰ä¸€ç§åŠæ³•å«åšåç›¸å…³æ€§.\nä½œè€…ä¸¾äº†ä¾‹å­æ¥è¯´æ˜,ä¸ºä»€ä¹ˆä½¿ç”¨ä¼ ç»Ÿçš„correlationæ•°æ®ä¼šæ—©æˆé”™è¯¯å‘ç°(å‡é˜³æ€§æˆ–è€…å‡é˜´æ€§).\nSupplementary Figure 1\n\ræˆ‘å¹¶æ²¡æœ‰çœ‹æ‡‚ä»–æ˜¯ä»€ä¹ˆæ„æ€?\nåœ¨microbomeå’Œmetaboliteä¸­ä¼šæœ‰ä½¿ç”¨æŸä¸ªå˜é‡å æ‰€æœ‰å˜é‡çš„æ¯”ä¾‹æ¥è¡¨ç¤ºè¿™ä¸ªå˜é‡çš„å—?\nå¥½åƒå¹¶æ²¡æœ‰å•Š.\nscale invarianceä»€ä¹ˆæ„æ€?æ ‡åº¦ä¸å˜.\nAn alternative approach is to consider co-occurrence probabilities instead of correlations.\nä¸€ä¸ªå¯æ›¿ä»£çš„æ–¹æ³•æ˜¯è€ƒè™‘å…±å‡ºç°çš„æ¦‚ç‡è€Œä¸æ˜¯ç›¸å…³æ€§.\nHere, co-occurrence probabilities refer to the conditional probability of observing a metabolite given that a microbe was observed, thereby allowing us to identify the most likely microbeâ€“metabolite interactions.\nå…±å‡ºç°æ¦‚ç‡æ˜¯æŒ‡å½“ä¸€ä¸ªmicrobe(ç»†èŒ)åœ¨çš„æ—¶å€™,è§‚å¯Ÿåˆ°æŸä¸ªä»£è°¢ç‰©çš„æ¡ä»¶æ¦‚ç‡.ä»è€Œèƒ½å¤Ÿé‰´å®šåˆ°çœŸæ­£çš„microbe-metabolite interaction.\nTo do this, we propose â€˜mmvecâ€™, (microbeâ€“metabolite vecors), a neural network that predicts an entire metabolite abundance profile from a single microbe sequence.\nå› æ­¤ä½œè€…æå‡ºäº†mmvec(microbeâ€“metabolite vecors)æ¦‚å¿µ.åˆ©ç”¨neural networkä»ä¸€ä¸ªsingle microbeçš„sequenceæ¥é¢„æµ‹æ•´ä¸ªçš„metabolite abundance.\nFigure 1\n\rè¿™å¹…å›¾æ˜¯æŒ‡å¦‚ä½•ä½¿ç”¨microbe sequenceå»é¢„æµ‹metabolite abundance.\nThrough iterative training, mmvec can learn the co-occurrence probabilities between microbes and metabolites. The microbeâ€“metabolite interactions can be ranked and visualized through standard dimensionality reduction interfaces, enabling interpretable findings.\nå…¶å®å°±æ˜¯ç»™å®šmicrobeçš„ä¸­çš„ä¸€ä¸ªsequnceä¹‹å,é¢„æµ‹æ‰€æœ‰metabolite abundance.\n\r2 Results\r\r3 Reference\r\r\rNoecker, C. et al.Â Metabolic model-based integration of microbiome taxonomic and metabolomic profiles elucidates mechanistic links between ecological and metabolic variation. MSystems 1, e00013â€“e00015 (2016).â†©\n\rMallick, H. et al.Â Predictive metabolomic profiling of microbial communities using amplicon or metagenomic sequences. Nat. Commun. 10, 3136 (2019).â†©\n\r\r\r","date":1573430400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573430400,"objectID":"faeadda5062f229ac326a32ba593e0a2","permalink":"/post/2019-11-11-nm-mmvec/","publishdate":"2019-11-11T00:00:00Z","relpermalink":"/post/2019-11-11-nm-mmvec/","section":"post","summary":"1 Abstract 2 Results 3 Reference æ–‡ç« é¢˜ç›®: Learning representations of microbeâ€“metabolite interactions æ–‡ç« Supplementary https://static-content.springer.com/esm/art%3A10.1038%2Fs41592-019-0616-3/MediaObjects/41592_2019_616_MOESM1_ESM.pdf è¿™ç¯‡æ–‡ç« ä¸­çš„interactions across om","tags":["Blog","Chinese"],"title":"Learning representations of microbeâ€“metabolite interactionsæ–‡çŒ®æ€»ç»“","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 CSVæ–‡ä»¶\r1.1 è¯»å–\r1.1.1 readråŒ…\r\r\r\r\r1 CSVæ–‡ä»¶\r1.1 è¯»å–\r1.1.1 readråŒ…\rreadråŒ…ä¸­æœ‰å‡ ä¸ªå‡½æ•°å¯ä»¥è¯»å–csvæ–‡ä»¶.å…¶ä¸­ç¬¬ä¸€ä¸ªå°±æ˜¯read_csv()å‡½æ•°.å¦å¤–è¿˜æœ‰ä¸€ä¸ªä¸å…¶éå¸¸ç±»ä¼¼çš„read_csv2()å‡½æ•°,å”¯ä¸€åŒºåˆ«åœ¨äºread_csv()è¯»å–çš„csvæ–‡ä»¶åˆ†éš”ç¬¦æ˜¯é€—å·(,),è€Œread_csv2()è¯»å–çš„åˆ†éš”ç¬¦æ˜¯åˆ†å·(;),è¿™åœ¨æŸäº›æ¬§æ´²å›½å®¶ä¼šæ¯”è¾ƒå¸¸è§.éœ€è¦æ³¨æ„ä¸€ä¸‹.\nç¬¬ä¸€ä¸ªå‚æ•°fileç”¨æ¥æŒ‡å®šè¦è¯»å–çš„æ–‡ä»¶çš„è·¯å¾„å’Œåç§°.\nä½¿ç”¨readrè‡ªå¸¦çš„ç¤ºä¾‹æ•°æ®.\nlibrary(readr)\rtest \u0026lt;- readr_example(path = \u0026quot;mtcars.csv\u0026quot;)\rtest\r## [1] \u0026quot;D:/software/R/R-3.6.0/library/readr/extdata/mtcars.csv\u0026quot;\rtest \u0026lt;- read_csv(file = test)\r## Parsed with column specification:\r## cols(\r## mpg = col_double(),\r## cyl = col_double(),\r## disp = col_double(),\r## hp = col_double(),\r## drat = col_double(),\r## wt = col_double(),\r## qsec = col_double(),\r## vs = col_double(),\r## am = col_double(),\r## gear = col_double(),\r## carb = col_double()\r## )\rå¯ä»¥çœ‹åˆ°è¯»å–æ•°æ®çš„æ—¶å€™,æ˜¾ç¤ºå‡ºäº†æ¯ä¸€åˆ—ç±»å‹,ä»–å°±æŒ‰ç…§è¿™ä¸ªç±»å‹å¯¹æ¯ä¸€åˆ—è¿›è¡Œè§£æ.\nreadr()é»˜è®¤è¯»å–å‰1000è¡Œ,å¹¶å¯¹å…¶ç±»å‹è¿›è¡ŒçŒœæµ‹,ç„¶åæŒ‰ç…§çŒœæµ‹çš„ç±»å‹å¯¹æ‰€æœ‰æ•°æ®è¿›è¡Œè¯»å–è§£æ.\n\r\r\r","date":1573430400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573430400,"objectID":"f264f639ce1525588622e574834961e0","permalink":"/post/2019-11-12-r-import-export-data/","publishdate":"2019-11-11T00:00:00Z","relpermalink":"/post/2019-11-12-r-import-export-data/","section":"post","summary":"1 CSVæ–‡ä»¶ 1.1 è¯»å– 1.1.1 readråŒ… 1 CSVæ–‡ä»¶ 1.1 è¯»å– 1.1.1 readråŒ… readråŒ…ä¸­æœ‰å‡ ä¸ªå‡½æ•°å¯ä»¥è¯»å–csvæ–‡ä»¶.å…¶ä¸­ç¬¬ä¸€ä¸ªå°±æ˜¯read_csv(","tags":["Blog","Chinese"],"title":"Rè¯»å–å’Œè¾“å‡ºæ•°æ®","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 å®‰è£…\r2 ä½¿ç”¨\r\r\rrayshaderåŒ…å¯ä»¥å°†ggplot2å›¾ç‰‡è½¬æ¢ä¸º3D.\nå‚è€ƒåŸä½œè€…å¸–å­:\nhttps://www.tylermw.com/3d-ggplots-with-rayshader/\n1 å®‰è£…\rdevtools::install_github(\u0026quot;tylermorganwall/rayshader\u0026quot;)\r\r2 ä½¿ç”¨\rlibrary(rayshader)\rlibrary(ggplot2)\rlibrary(tidyverse)\rgg \u0026lt;- ggplot(diamonds, aes(x, depth)) +\rstat_density_2d(aes(fill = stat(nlevel)), geom = \u0026quot;polygon\u0026quot;,\rn = 100,bins = 10,contour = TRUE) +\rfacet_wrap(clarity~.) +\rscale_fill_viridis_c(option = \u0026quot;A\u0026quot;)\rrayshader::plot_gg(gg, multicore = TRUE, width = 5, height = 5,scale = 250)\rblogdown::shortcode(\u0026quot;video\u0026quot;, src = \u0026quot;./test.mp4\u0026quot;)\r\rblogdown::shortcode(\u0026quot;youtube\u0026quot;, \u0026quot;p4liifrbK8w\u0026quot;)\r  \r","date":1573430400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573430400,"objectID":"639bb9ff25d744d1fc4520beab73119e","permalink":"/post/2019-11-11-ggpot2-3d/","publishdate":"2019-11-11T00:00:00Z","relpermalink":"/post/2019-11-11-ggpot2-3d/","section":"post","summary":"1 å®‰è£… 2 ä½¿ç”¨ rayshaderåŒ…å¯ä»¥å°†ggplot2å›¾ç‰‡è½¬æ¢ä¸º3D. å‚è€ƒåŸä½œè€…å¸–å­: https://www.tylermw.com/3d-ggplots-with-rayshader/ 1 å®‰è£… devtools::install_github(\u0026quot;tylermorganwall/rayshader\u0026quot;) 2 ä½¿ç”¨ library(rayshader) library(ggplot2) library(tidyverse) gg \u0026lt;- ggplot(diamonds, aes(x, depth)) + stat_density_2d(aes(fill = stat(nlevel)), geom = \u0026quot;polygon\u0026quot;, n = 100,bins = 10,contour","tags":["Blog","Chinese"],"title":"ä½¿ç”¨rayshaderåŒ…å°†ggplot2è½¬æ¢ä¸º3Då›¾åƒ","type":"post"},{"authors":null,"categories":["life"],"content":"\rç¾å›½è½¦å¿…é¡»è´­ä¹°è½¦é™©,å¦åˆ™ä¸èƒ½ä¸Šè·¯,æœ‰éå¸¸å¤šçš„å…¬å¸,å¯ä»¥ç›´æ¥åœ¨ç½‘ä¸Šquote(æŠ¥ä»·),å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©ä¸åŒçš„å¥—é¤,ç„¶åç›´æ¥åœ¨ç½‘ä¸Šè´­ä¹°å°±å¥½äº†.æˆ‘åˆšæ¥ç¾å›½çš„æ—¶å€™,åœ¨ç½‘ä¸Šä¹°çš„æ˜¯progressiveå…¬å¸çš„,ç„¶åä¹°äº†åŠå¹´,é©¬ä¸Šå°±è¦åˆ°æœŸäº†,å› æ­¤éœ€è¦å†è´­ä¹°.\næ¯”è¾ƒå¥‡æ€ªçš„æ˜¯,æˆ‘å½“æ—¶åªåœ¨progressiveä¹°äº†åŠå¹´,ä»5.12-11.12,ç½‘ç«™ä¸Šæ˜¾ç¤ºçš„ä¹Ÿæ˜¯.ä½†æ˜¯å¾ˆå¥‡æ€ª,ä»–ä»ç„¶ç»™æˆ‘æé†’,è¿˜è¦æ¥ç€å†æ‰£åŠå¹´,å¹¶ä¸”æˆ‘ä¹Ÿæ‰¾ä¸åˆ°å¦‚ä½•å–æ¶ˆæ‰.\næˆ‘éœ€è¦é‡æ–°quote,å› ä¸ºæˆ‘å·²ç»å‘†äº†å¤§åŠå¹´äº†,åº”è¯¥èƒ½å¤Ÿæ‹¿åˆ°ä¸€ä¸ªæ›´ä¾¿å®œçš„.\n","date":1573344000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573344000,"objectID":"8366c4e069b4ac031d8e68d7c6e7d07e","permalink":"/post/2019-11-10-car-insurance/","publishdate":"2019-11-10T00:00:00Z","relpermalink":"/post/2019-11-10-car-insurance/","section":"post","summary":"ç¾å›½è½¦å¿…é¡»è´­ä¹°è½¦é™©,å¦åˆ™ä¸èƒ½ä¸Šè·¯,æœ‰éå¸¸å¤šçš„å…¬å¸,å¯ä»¥ç›´æ¥åœ¨ç½‘ä¸Šquote(æŠ¥ä»·),å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é€‰æ‹©ä¸åŒçš„å¥—é¤,ç„¶åç›´æ¥åœ¨ç½‘ä¸Šè´­ä¹°å°±å¥½","tags":["Blog","Chinese"],"title":"åœ¨ç¾å›½è´­ä¹°è½¦é™©","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 åˆ›å»ºä¸€ä¸ªtibble\r1.1 tibble()å‡½æ•°\r1.2 as_tibble()å‡½æ•°\r1.3 tribble()å‡½æ•°\r1.4 enframe()å‡½æ•°\r\r2 tibbleæ˜¾ç¤ºæ§åˆ¶\r2.1 ä½¿ç”¨print()å‡½æ•°\r2.2 ä¿®æ”¹options()é»˜è®¤å‚æ•°\r\r3 tibbleåˆ‡ç‰‡æ“ä½œ\r4 tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ\r4.1 æ·»åŠ æ–°çš„è¡Œ\r4.2 æ·»åŠ æ–°çš„åˆ—\r\r5 tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ\r5.1 åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå\r5.2 è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢\r\r\r\r1 åˆ›å»ºä¸€ä¸ªtibble\r1.1 tibble()å‡½æ•°\rä½¿ç”¨tibble()å¯ä»¥åˆ›å»ºæ–°çš„tibbleå¯¹è±¡,ä½†æ˜¯ä¸€èˆ¬ç”¨æ¥åˆ›å»ºæ¯”è¾ƒç®€å•çš„tibbleã€‚\nlibrary(tidyverse)\r## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1\r## -- Attaching packages ------------------------------------------------------------------------------------------------------- tidyverse 1.2.1 --\r## v ggplot2 3.2.1 v purrr 0.3.2\r## v tibble 2.1.3 v dplyr 0.8.3\r## v tidyr 1.0.0 v stringr 1.4.0\r## v readr 1.3.1 v forcats 0.4.0\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tibble\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tidyr\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 3.6.1\r## -- Conflicts ---------------------------------------------------------------------------------------------------------- tidyverse_conflicts() --\r## x dplyr::filter() masks stats::filter()\r## x dplyr::lag() masks stats::lag()\ra \u0026lt;- 1\rb \u0026lt;- 2:6\rtibble(a, b)\r## # A tibble: 5 x 2\r## a b\r## \u0026lt;dbl\u0026gt; \u0026lt;int\u0026gt;\r## 1 1 2\r## 2 1 3\r## 3 1 4\r## 4 1 5\r## 5 1 6\r# ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¿®æ”¹åˆ—å\rtibble(column1 = a, column2 = b)\r## # A tibble: 5 x 2\r## column1 column2\r## \u0026lt;dbl\u0026gt; \u0026lt;int\u0026gt;\r## 1 1 2\r## 2 1 3\r## 3 1 4\r## 4 1 5\r## 5 1 6\réœ€è¦æ³¨æ„çš„æ˜¯,å¦‚æœè¾“å…¥çš„vectoré•¿åº¦ä¸ä¸€è‡´,åªæœ‰å…¶ä¸­æŸä¸€ä¸ªé•¿åº¦ä¸º1,æ‰ä¼šå¾ªç¯è¡¥é½,å¦åˆ™æŠ¥é”™.\ntibble()å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°å¯ä»¥æ³¨æ„ä¸€ä¸‹:.name_repair,ç”¨æ¥æ§åˆ¶å¯¹é‚£äº›ä¸å¦‚ä½•è§„çŸ©çš„åˆ—åå¦‚ä½•å¤„ç†.å¸¸ç”¨çš„ä¸€å…±æœ‰4ä¸ªé€‰é¡¹:\n\rminimal å¯¹åˆ—åä¸åšä»»ä½•å¤„ç†,æ—¢ä¸åšåˆ—åæ£€æŸ¥,ä¹Ÿä¸åšå¤„ç†.\n\runique ä¿è¯åˆ—åéƒ½æ˜¯å”¯ä¸€çš„å¹¶ä¸”ä¸èƒ½ä¸ºç©º.\n\r\r#å¦‚æœåˆ—åæ˜¯é‡å¤çš„,ä¼šåœ¨åˆ—åååŠ å…¥ä¸åŒçš„åºå·.\rtry(\rtibble(a = 1:3, a = 1:3, 1:3, .name_repair = \u0026quot;unique\u0026quot;) )\r## New names:\r## * a -\u0026gt; a...1\r## * a -\u0026gt; a...2\r## # A tibble: 3 x 3\r## a...1 a...2 `1:3`\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt;\r## 1 1 1 1\r## 2 2 2 2\r## 3 3 3 3\r\rcheck_unique è¿™æ˜¯é»˜è®¤çš„å‚æ•°è®¾ç½®,ä¸å¯¹åˆ—ååšä¿®æ”¹,åªåšåˆ—åæ£€æŸ¥.\r\r#å¦‚æœåˆ—åæ˜¯é‡å¤çš„,åˆ™ä¼šæŠ¥é”™\rtry(\rtibble(a = 1:3, a = 1:3) )\r## Error : Column name `a` must not be duplicated.\r## Use .name_repair to specify repair.\r## Backtrace:\r## x\r## 1. +-base::local(...)\r## 2. | \\-base::eval.parent(substitute(eval(quote(expr), envir)))\r## 3. | \\-base::eval(expr, p)\r## 4. | \\-base::eval(expr, p)\r## 5. +-base::eval(...)\r## 6. | \\-base::eval(...)\r## 7. | \\-rmarkdown::render(...)\r## 8. | \\-knitr::knit(...)\r## 9. | \\-knitr:::process_file(text, output)\r## 10. | +-base::withCallingHandlers(...)\r## 11. | +-knitr:::process_group(group)\r## 12. | \\-knitr:::process_group.block(group)\r## 13. | \\-knitr:::call_block(x)\r## 14. | \\-knitr:::block_exec(params)\r## 15. | +-knitr:::in_dir(...)\r## 16. | \\-knitr:::evaluate(...)\r## 17. | \\-evaluate::evaluate(...)\r## 18. | \\-evaluate:::evaluate_call(...)\r## 19. | +-evaluate:::timing_fn(...)\r## 20. | +-base:::handle(...)\r## 21. | +-base::withCallingHandlers(...)\r## 22. | +-base::withVisible(eval(expr, envir, enclos))\r## 23. | \\-base::eval(expr, envir, enclos)\r## 24. | \\-base::eval(expr, envir, enclos)\r## 25. +-base::try(tibble(a = 1:3, a = 1:3))\r## 26. | \\-base::tryCatch(...)\r## 27. | \\-base:::tryCatchList(expr, classes, parentenv, handlers)\r## 28. | \\-base:::tryCatchOne(expr, names, parentenv, handlers[[1L]])\r## 29. | \\-base:::doTryCatch(return(expr), name, parentenv, handler)\r## 30. \\-tibble::tibble(a = 1:3, a = 1:3)\r## 31. \\-tibble:::lst_to_tibble(xlq$output, .rows, .name_repair, lengths = xlq$lengths)\r## 32. \\-tibble:::set_repaired_names(x, .name_repair)\r## 33. +-rlang::set_names(x, repaired_names(names(x), .name_repair = .name_repair))\r## 34. | \\-rlang:::set_names_impl(x, x, nm, ...)\r## 35. | \\-rlang::is_function(nm)\r## 36. | \\-rlang::is_closure(x)\r## 37. \\-tibble:::repaired_names(names(x), .name_repair = .name_repair)\r## 38. \\-tibble:::check_unique(new_name)\r\runiversal ä¿è¯åˆ—åéƒ½æ˜¯å”¯ä¸€çš„å¹¶ä¸”ç¬¦åˆRè¯­è¨€è¯­æ³•.\r\rå¦‚æœæœ‰ç›¸åŒçš„åˆ—å,ä¼šåœ¨åˆ—åååŠ å…¥ä¸åŒçš„åºå·.\n#å¦‚æœåˆ—åæ˜¯é‡å¤çš„,åˆ™ä¼šæŠ¥é”™\rtry(\rtibble(a = 1:3, a = 1:3, .name_repair = \u0026quot;universal\u0026quot;) )\r## New names:\r## * a -\u0026gt; a...1\r## * a -\u0026gt; a...2\r## # A tibble: 3 x 2\r## a...1 a...2\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt;\r## 1 1 1\r## 2 2 2\r## 3 3 3\r\r1.2 as_tibble()å‡½æ•°\rä½¿ç”¨as_tibble()å‡½æ•°å¯ä»¥å°†å·²æœ‰çš„matrixå’Œdata.frameè½¬å˜ä¸ºtibbleå¯¹è±¡.\ntest1 \u0026lt;- matrix(1:6, ncol = 2)\rtibble::as_tibble(test1)\r## Warning: `as_tibble.matrix()` requires a matrix with column names or a `.name_repair` argument. Using compatibility `.name_repair`.\r## This warning is displayed once per session.\r## # A tibble: 3 x 2\r## V1 V2\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt;\r## 1 1 4\r## 2 2 5\r## 3 3 6\rtest2 \u0026lt;- data.frame(a = 1:3, b = 2:4, stringsAsFactors = FALSE)\rtibble::as_tibble(test2)\r## # A tibble: 3 x 2\r## a b\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt;\r## 1 1 2\r## 2 2 3\r## 3 3 4\ras_tibble()å‡½æ•°çš„å‚æ•°ä¸tibble()å¤§æ¦‚ç›¸åŒ,å¦å¤–ä¸€ä¸ªéœ€è¦æ³¨æ„çš„çš„å‚æ•°æ˜¯:rownames,ç”¨æ¥æ§åˆ¶å¦‚ä½•å¤„ç†åŸæœ‰çš„è¡Œå.å¦‚æœè®¾ç½®ä¸ºNULL,åˆ™å»é™¤æ‰è¡Œå(é»˜è®¤),å¦‚æœè®¾ç½®ä¸ºNA,åˆ™ä¿ç•™åŸæ¥çš„åˆ—å.è®¾ç½®ä¸ºä¸€ä¸ªstring vector,åˆ™å°†å…¶è®¾ç½®ä¸ºæ–°çš„åˆ—å.\n\r1.3 tribble()å‡½æ•°\rä½¿ç”¨tribble()å‡½æ•°å¯ä»¥ç”¨å¦å¤–ä¸€ç§æ–¹æ³•æ¥åˆ›å»ºtibbleå¯¹è±¡.\ntibble::tribble(\r~colA, ~colB,\r## two columns\r\u0026quot;a\u0026quot;, 1,\r\u0026quot;b\u0026quot;, 2,\r\u0026quot;c\u0026quot;, 3\r)\r## # A tibble: 3 x 2\r## colA colB\r## \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 a 1\r## 2 b 2\r## 3 c 3\réœ€è¦æ³¨æ„çš„æ˜¯,tibbleå’Œdata.frameä¸€æ ·,ä»–ä»¬ä¸­çš„å…ƒç´ ä¹Ÿå¯ä»¥æ˜¯list.\ntribble(\r~x, ~y,\r\u0026quot;a\u0026quot;, 1:3,\r\u0026quot;b\u0026quot;, 4:6\r)\r## # A tibble: 2 x 2\r## x y ## \u0026lt;chr\u0026gt; \u0026lt;list\u0026gt; ## 1 a \u0026lt;int [3]\u0026gt;\r## 2 b \u0026lt;int [3]\u0026gt;\r\r1.4 enframe()å‡½æ•°\renframe()å¯ä»¥å°†vectorè½¬æ¢ä¸ºtibble,å¦å¤–æœ‰ä¸€ä¸ªç›¸åçš„å‡½æ•°,deframe()å‡½æ•°,å°†tibble/data.frameè½¬å˜ä¸ºvector.\nenframe(x = 1:3)\r## # A tibble: 3 x 2\r## name value\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt;\r## 1 1 1\r## 2 2 2\r## 3 3 3\renframe(c(a = 5, b = 7))\r## # A tibble: 2 x 2\r## name value\r## \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 a 5\r## 2 b 7\renframe(list(one = 1, two = 2:3, three = 4:6))\r## # A tibble: 3 x 2\r## name value ## \u0026lt;chr\u0026gt; \u0026lt;list\u0026gt; ## 1 one \u0026lt;dbl [1]\u0026gt;\r## 2 two \u0026lt;int [2]\u0026gt;\r## 3 three \u0026lt;int [3]\u0026gt;\renframe()çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯x,å¿…é¡»æ˜¯ä¸€ä¸ªvectoræˆ–è€…list,ä»–ä¼šå°†ä»–çš„æ¯ä¸€ä¸ªå…ƒç´ çš„åå­—ç»„æˆç¬¬ä¸€åˆ—,è€Œå…¶å†…å®¹ä½œä¸ºç¬¬äºŒåˆ—è½¬å˜ä¸ºä¸€ä¸ªtibble.ä¹Ÿå°±æ˜¯è¯´å…¶åªèƒ½ç”¨æ¥åˆ›å»ºä¸¤åˆ—çš„tibble.ä¸¤åˆ—çš„åˆ—åé»˜è®¤ä¸ºnameå’Œvalueå¦‚æœæƒ³è¦ä¿®æ”¹,å¯ä»¥æ›´æ”¹ä¸¤ä¸ªå‚æ•°(nameå’Œvalue).\nä½¿ç”¨deframe()å‡½æ•°å°†ä¸€ä¸ªä¸€åˆ—æˆ–è€…ä¸¤åˆ—çš„tibbleè½¬å˜ä¸ºvectoræˆ–è€…list.\ndeframe(enframe(1:3))\r## 1 2 3 ## 1 2 3\r\r\r2 tibbleæ˜¾ç¤ºæ§åˆ¶\rtibbleé»˜è®¤æƒ…å†µä¸‹åªè¾“å‡ºå‰åè¡Œå†…å®¹,åˆ—è‡ªåŠ¨é€‚åº”å±å¹•å®½åº¦,å¦‚æœæƒ³è¦è¾“å‡ºæ¯”é»˜è®¤æ›´å¤šçš„æ•°æ®,æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•.\n2.1 ä½¿ç”¨print()å‡½æ•°\rä½¿ç”¨print()å‡½æ•°,å¯ä»¥æ§åˆ¶è¡Œæ•°å’Œåˆ—æ•°.\nlibrary(tidyverse)\r# é»˜è®¤æ˜¾ç¤º\rnycflights13::flights\r## # A tibble: 336,776 x 19\r## year month day dep_time sched_dep_time dep_delay arr_time\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;int\u0026gt;\r## 1 2013 1 1 517 515 2 830\r## 2 2013 1 1 533 529 4 850\r## 3 2013 1 1 542 540 2 923\r## 4 2013 1 1 544 545 -1 1004\r## 5 2013 1 1 554 600 -6 812\r## 6 2013 1 1 554 558 -4 740\r## 7 2013 1 1 555 600 -5 913\r## 8 2013 1 1 557 600 -3 709\r## 9 2013 1 1 557 600 -3 838\r## 10 2013 1 1 558 600 -2 753\r## # ... with 336,766 more rows, and 12 more variables: sched_arr_time \u0026lt;int\u0026gt;,\r## # arr_delay \u0026lt;dbl\u0026gt;, carrier \u0026lt;chr\u0026gt;, flight \u0026lt;int\u0026gt;, tailnum \u0026lt;chr\u0026gt;,\r## # origin \u0026lt;chr\u0026gt;, dest \u0026lt;chr\u0026gt;, air_time \u0026lt;dbl\u0026gt;, distance \u0026lt;dbl\u0026gt;, hour \u0026lt;dbl\u0026gt;,\r## # minute \u0026lt;dbl\u0026gt;, time_hour \u0026lt;dttm\u0026gt;\r# è¾“å‡º15è¡ŒåŠæ‰€æœ‰åˆ—æ•°\rnycflights13::flights %\u0026gt;% print(n = 15, width = Inf)\r## # A tibble: 336,776 x 19\r## year month day dep_time sched_dep_time dep_delay arr_time\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;int\u0026gt;\r## 1 2013 1 1 517 515 2 830\r## 2 2013 1 1 533 529 4 850\r## 3 2013 1 1 542 540 2 923\r## 4 2013 1 1 544 545 -1 1004\r## 5 2013 1 1 554 600 -6 812\r## 6 2013 1 1 554 558 -4 740\r## 7 2013 1 1 555 600 -5 913\r## 8 2013 1 1 557 600 -3 709\r## 9 2013 1 1 557 600 -3 838\r## 10 2013 1 1 558 600 -2 753\r## 11 2013 1 1 558 600 -2 849\r## 12 2013 1 1 558 600 -2 853\r## 13 2013 1 1 558 600 -2 924\r## 14 2013 1 1 558 600 -2 923\r## 15 2013 1 1 559 600 -1 941\r## sched_arr_time arr_delay carrier flight tailnum origin dest air_time\r## \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;int\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 819 11 UA 1545 N14228 EWR IAH 227\r## 2 830 20 UA 1714 N24211 LGA IAH 227\r## 3 850 33 AA 1141 N619AA JFK MIA 160\r## 4 1022 -18 B6 725 N804JB JFK BQN 183\r## 5 837 -25 DL 461 N668DN LGA ATL 116\r## 6 728 12 UA 1696 N39463 EWR ORD 150\r## 7 854 19 B6 507 N516JB EWR FLL 158\r## 8 723 -14 EV 5708 N829AS LGA IAD 53\r## 9 846 -8 B6 79 N593JB JFK MCO 140\r## 10 745 8 AA 301 N3ALAA LGA ORD 138\r## 11 851 -2 B6 49 N793JB JFK PBI 149\r## 12 856 -3 B6 71 N657JB JFK TPA 158\r## 13 917 7 UA 194 N29129 JFK LAX 345\r## 14 937 -14 UA 1124 N53441 EWR SFO 361\r## 15 910 31 AA 707 N3DUAA LGA DFW 257\r## distance hour minute time_hour ## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dttm\u0026gt; ## 1 1400 5 15 2013-01-01 05:00:00\r## 2 1416 5 29 2013-01-01 05:00:00\r## 3 1089 5 40 2013-01-01 05:00:00\r## 4 1576 5 45 2013-01-01 05:00:00\r## 5 762 6 0 2013-01-01 06:00:00\r## 6 719 5 58 2013-01-01 05:00:00\r## 7 1065 6 0 2013-01-01 06:00:00\r## 8 229 6 0 2013-01-01 06:00:00\r## 9 944 6 0 2013-01-01 06:00:00\r## 10 733 6 0 2013-01-01 06:00:00\r## 11 1028 6 0 2013-01-01 06:00:00\r## 12 1005 6 0 2013-01-01 06:00:00\r## 13 2475 6 0 2013-01-01 06:00:00\r## 14 2565 6 0 2013-01-01 06:00:00\r## 15 1389 6 0 2013-01-01 06:00:00\r## # ... with 3.368e+05 more rows\r\r2.2 ä¿®æ”¹options()é»˜è®¤å‚æ•°\r\roptions(tibble.print_max = n, tibble.pring_min = m):å¦‚æœå¤šäºmè¡Œ,åˆ™åªæ‰“å°å‡ºn\rè¡Œ.options(tibble.print_min = Inf)è¡¨ç¤ºæ€»æ˜¯æ‰“å°æ‰€æœ‰è¡Œ.\n\roptions(tibble.width = Inf)è¡¨ç¤ºæ€»æ˜¯æ‰“å°æ‰€æœ‰åˆ—,ä¸è€ƒè™‘å±å¹•çš„å®½åº¦.\n\r\roptions()ä¸­æ‰€æœ‰å’Œtibbleç›¸å…³çš„å‚æ•°:\ntibble.print_max:Row number threshold: Maximum number of rows printed. Set to Inf to always print all rows. Default: 20.\n\rtibble.print_min: å¦‚æœè®¾ç½®ä¸ºm,æ„æ€å³ä¸ºå¦‚æœè¡Œæ•°å¤§äºm,åˆ™åªæ‰“å°å‡ºå‰nè¡Œ.\n\rtibble.width: æ‰“å°åˆ—çš„å®½åº¦.é»˜è®¤ä¸ºNULL,ä¹Ÿå°±æ˜¯é€‚åº”å±å¹•å®½åº¦.è®¾ç½®ä¸ºInf,åˆ™æ‰“å°å‡ºå…¨éƒ¨åˆ—.\n\rtibble.max_extra_cols: Number of extra columns printed in reduced form. Default: 100.\n\rpillar.bold: pillaræ˜¯æŸ±å­çš„æ„æ€.å¦‚æœè®¾ç½®ä¸ºTRUE,åˆ™åˆ—åä¸ºç²—ä½“,é»˜è®¤ä¸ºFALSE,å› ä¸ºåœ¨terminalä¸­å¾ˆå¤šå­—ä½“å¯¹ç²—ä½“æ”¯æŒä¸å¤Ÿ.\n\rpillar.subtle: æ˜¯å¦æ‰“å°å‡ºå…¶ä»–è¯¦ç»†çš„ä¿¡æ¯,æ¯”å¦‚æ€»çš„è¡Œå’Œåˆ—æ•°.é»˜è®¤ä¸ºTRUE.\n\rpillar.subtle_num: Use subtle style for insignificant digits? Default: FALSE, is also affected by the pillar.subtle option.\n\rpillar.neg: æ˜¯å¦é«˜äº®è´Ÿå€¼.é»˜è®¤ä¸ºTRUE.\n\rpillar.sigfig: é«˜äº®é‚£äº›æ•°å­—,æ¯”å¦‚å¦‚æœè®¾ç½®ä¸º3,åˆ™ä¼šé«˜äº®æ•°å­—3.\n\rpillar.min_title_chars: åˆ—åæ‰“å°æ—¶æœ€å°çš„å­—ç¬¦æ•°,é»˜è®¤ä¸º15.æ„å‘³ç€å¦‚æœæŸäº›åˆ—åå¤§äº15,åˆ™ä¼šè¢«æˆªæ–­.è®¾ç½®ä¸ºInf,æ‰“å°å‡ºå®Œæ•´çš„åˆ—å.\n\r\r\r\r3 tibbleåˆ‡ç‰‡æ“ä½œ\rå¦‚ä½•å–å‡ºä¸€ä¸ªtibbleçš„ä¸€åˆ—æˆ–è€…å‡ åˆ—.\ntest \u0026lt;- as_tibble(mtcars)\rtest[,1, drop = TRUE]\r## [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2\r## [15] 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4\r## [29] 15.8 19.7 15.0 21.4\rmtcars[,1]\r## [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2\r## [15] 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4\r## [29] 15.8 19.7 15.0 21.4\rtibbleå¦‚æœä½¿ç”¨[å‡½æ•°æ¥è¿›è¡Œé€‰æ‹©æŸä¸€åˆ—,åˆ™é»˜è®¤å‡ºæ¥çš„è¿˜æ˜¯ä¸€ä¸ªtibble,å½“ç„¶å¯ä»¥ä½¿ç”¨dropå‚æ•°æ¥è®¾ç½®ä¸ºTRUE,è®©å…¶è½¬å˜æˆä¸€ä¸ªvector.è€Œå¯¹äºdata.frame,åˆ™å–å‡ºä¸€åˆ—,é»˜è®¤ä¸ºvector.\ntest$mpg\r## [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2\r## [15] 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4\r## [29] 15.8 19.7 15.0 21.4\rtest[[\u0026quot;mpg\u0026quot;]]\r## [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2\r## [15] 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4\r## [29] 15.8 19.7 15.0 21.4\rå½“ç„¶è¿˜å¯ä»¥ä½¿ç”¨$å’Œ[[å‡½æ•°,è¿™ä¸¤ä¸ªå‡½æ•°å–å‡ºæ¥çš„éƒ½æ˜¯vector.\nlibrary(tidyverse)\rtest %\u0026gt;% pull(mpg)\r## [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2\r## [15] 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4\r## [29] 15.8 19.7 15.0 21.4\rå½“ç„¶,è¿˜å¯ä»¥ä½¿ç”¨dplyrä¸­çš„pull()å‡½æ•°,å–å‡ºæ¥çš„ä¹Ÿæ˜¯vector.\n\r4 tibbleæ·»åŠ æ–°çš„åˆ—æˆ–è€…è¡Œ\r4.1 æ·»åŠ æ–°çš„è¡Œ\rä½¿ç”¨add_row()å‡½æ•°å¯ä»¥ç»™å·²æœ‰çš„tibbleå¯¹è±¡æ·»åŠ æ–°çš„è¡Œ.\ndf \u0026lt;- tibble(x = 1:3, y = 3:1)\radd_row(df, x = 4, y = 0)\r## # A tibble: 4 x 2\r## x y\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 3\r## 2 2 2\r## 3 3 1\r## 4 4 0\rå¯ä»¥é€šè¿‡è®¾ç½®.beforeå’Œ.afterå‚æ•°æ¥æŒ‡å®šæ’å…¥çš„ä½ç½®.é»˜è®¤éƒ½æ˜¯NULL,æ’å…¥åˆ°æœ€åçš„ä½ç½®.\nadd_row(df, x = 4, y = 0, .before = 1)\r## # A tibble: 4 x 2\r## x y\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 4 0\r## 2 1 3\r## 3 2 2\r## 4 3 1\radd_row(df, x = 4, y = 0, .before = 2)\r## # A tibble: 4 x 2\r## x y\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 3\r## 2 4 0\r## 3 2 2\r## 4 3 1\radd_row(df, x = 4, y = 0, .before = 3)\r## # A tibble: 4 x 2\r## x y\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 3\r## 2 2 2\r## 3 4 0\r## 4 3 1\r.beforeè®¾ç½®ä¸ºn,åˆ™æ˜¯æŒ‡ä»åŸæ¥çš„ç¬¬nè¡Œçš„å‰ä¸€è¡Œå¼€å§‹æ·»åŠ .\nadd_row(df, x = 4, y = 0, .after = 1)\r## # A tibble: 4 x 2\r## x y\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 3\r## 2 4 0\r## 3 2 2\r## 4 3 1\radd_row(df, x = 4, y = 0, .after = 2)\r## # A tibble: 4 x 2\r## x y\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 3\r## 2 2 2\r## 3 4 0\r## 4 3 1\radd_row(df, x = 4, y = 0, .after = 3)\r## # A tibble: 4 x 2\r## x y\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 3\r## 2 2 2\r## 3 3 1\r## 4 4 0\r.afterè®¾ç½®ä¸ºm,åˆ™æ˜¯æŒ‡ä»åŸæ¥çš„ç¬¬mè¡Œçš„åé¢ä¸€è¡Œå¼€å§‹æ·»åŠ .\nå¦‚æœæŸäº›è¡Œä¸æä¾›æ–°çš„å…ƒç´ ,åˆ™ä¼šå˜ä¸ºNA.\nadd_row(df, x = 4)\r## # A tibble: 4 x 2\r## x y\r## \u0026lt;dbl\u0026gt; \u0026lt;int\u0026gt;\r## 1 1 3\r## 2 2 2\r## 3 3 1\r## 4 4 NA\r\r4.2 æ·»åŠ æ–°çš„åˆ—\rä½¿ç”¨add_column()å‡½æ•°å¯ä»¥ç»™å·²æœ‰çš„tibbleå¯¹è±¡æ·»åŠ æ–°çš„åˆ—.è·Ÿadd_column()ä¸€æ ·çš„.\n# add_column ---------------------------------\rdf \u0026lt;- tibble(x = 1:3, y = 3:1)\radd_column(df, z = -1:1, w = 0)\r## # A tibble: 3 x 4\r## x y z w\r## \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 3 -1 0\r## 2 2 2 0 0\r## 3 3 1 1 0\réœ€è¦æ³¨æ„çš„æ˜¯,å¹¶ä¸èƒ½è¦†ç›–åŸæ¥çš„åˆ—ä»¥åŠå’ŒåŸæ¥çš„è¡Œæ•°ä¸ä¸€æ ·çš„æ–°çš„åˆ—.\n# You can\u0026#39;t overwrite existing columns\rtry(\radd_column(df, x = 4:6) )\r## Error : Can\u0026#39;t add duplicate columns with `add_column()`:\r## * Column `x` already exists in `.data`.\r## Backtrace:\r## x\r## 1. +-base::local(...)\r## 2. | \\-base::eval.parent(substitute(eval(quote(expr), envir)))\r## 3. | \\-base::eval(expr, p)\r## 4. | \\-base::eval(expr, p)\r## 5. +-base::eval(...)\r## 6. | \\-base::eval(...)\r## 7. | \\-rmarkdown::render(...)\r## 8. | \\-knitr::knit(...)\r## 9. | \\-knitr:::process_file(text, output)\r## 10. | +-base::withCallingHandlers(...)\r## 11. | +-knitr:::process_group(group)\r## 12. | \\-knitr:::process_group.block(group)\r## 13. | \\-knitr:::call_block(x)\r## 14. | \\-knitr:::block_exec(params)\r## 15. | +-knitr:::in_dir(...)\r## 16. | \\-knitr:::evaluate(...)\r## 17. | \\-evaluate::evaluate(...)\r## 18. | \\-evaluate:::evaluate_call(...)\r## 19. | +-evaluate:::timing_fn(...)\r## 20. | +-base:::handle(...)\r## 21. | +-base::withCallingHandlers(...)\r## 22. | +-base::withVisible(eval(expr, envir, enclos))\r## 23. | \\-base::eval(expr, envir, enclos)\r## 24. | \\-base::eval(expr, envir, enclos)\r## 25. +-base::try(add_column(df, x = 4:6))\r## 26. | \\-base::tryCatch(...)\r## 27. | \\-base:::tryCatchList(expr, classes, parentenv, handlers)\r## 28. | \\-base:::tryCatchOne(expr, names, parentenv, handlers[[1L]])\r## 29. | \\-base:::doTryCatch(return(expr), name, parentenv, handler)\r## 30. \\-tibble::add_column(df, x = 4:6)\r# You can\u0026#39;t create new observations\rtry(\radd_column(df, z = 1:5) )\r## Error : New columns in `add_column()` must be consistent with `.data`:\r## * `.data` has 3 rows\r## * New column contributes 5 rows\r## Backtrace:\r## x\r## 1. +-base::local(...)\r## 2. | \\-base::eval.parent(substitute(eval(quote(expr), envir)))\r## 3. | \\-base::eval(expr, p)\r## 4. | \\-base::eval(expr, p)\r## 5. +-base::eval(...)\r## 6. | \\-base::eval(...)\r## 7. | \\-rmarkdown::render(...)\r## 8. | \\-knitr::knit(...)\r## 9. | \\-knitr:::process_file(text, output)\r## 10. | +-base::withCallingHandlers(...)\r## 11. | +-knitr:::process_group(group)\r## 12. | \\-knitr:::process_group.block(group)\r## 13. | \\-knitr:::call_block(x)\r## 14. | \\-knitr:::block_exec(params)\r## 15. | +-knitr:::in_dir(...)\r## 16. | \\-knitr:::evaluate(...)\r## 17. | \\-evaluate::evaluate(...)\r## 18. | \\-evaluate:::evaluate_call(...)\r## 19. | +-evaluate:::timing_fn(...)\r## 20. | +-base:::handle(...)\r## 21. | +-base::withCallingHandlers(...)\r## 22. | +-base::withVisible(eval(expr, envir, enclos))\r## 23. | \\-base::eval(expr, envir, enclos)\r## 24. | \\-base::eval(expr, envir, enclos)\r## 25. +-base::try(add_column(df, z = 1:5))\r## 26. | \\-base::tryCatch(...)\r## 27. | \\-base:::tryCatchList(expr, classes, parentenv, handlers)\r## 28. | \\-base:::tryCatchOne(expr, names, parentenv, handlers[[1L]])\r## 29. | \\-base:::doTryCatch(return(expr), name, parentenv, handler)\r## 30. \\-tibble::add_column(df, z = 1:5)\ræ‰€ä»¥å…¶å®å¹¶ä¸æ–¹ä¾¿,è¿˜æ˜¯ä½¿ç”¨dplyræ›´æ–¹ä¾¿.\n\r\r5 tibbleå¯¹åˆ—åå’Œè¡Œåçš„æ“ä½œ\r5.1 åˆ¤æ–­æ˜¯å¦æœ‰è¡Œå\rhead(mtcars)\r## mpg cyl disp hp drat wt qsec vs am gear carb\r## Mazda RX4 21.0 6 160 110 3.90 2.620 16.46 0 1 4 4\r## Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 17.02 0 1 4 4\r## Datsun 710 22.8 4 108 93 3.85 2.320 18.61 1 1 4 1\r## Hornet 4 Drive 21.4 6 258 110 3.08 3.215 19.44 1 0 3 1\r## Hornet Sportabout 18.7 8 360 175 3.15 3.440 17.02 0 0 3 2\r## Valiant 18.1 6 225 105 2.76 3.460 20.22 1 0 3 1\rrownames(mtcars)\r## [1] \u0026quot;Mazda RX4\u0026quot; \u0026quot;Mazda RX4 Wag\u0026quot; \u0026quot;Datsun 710\u0026quot; ## [4] \u0026quot;Hornet 4 Drive\u0026quot; \u0026quot;Hornet Sportabout\u0026quot; \u0026quot;Valiant\u0026quot; ## [7] \u0026quot;Duster 360\u0026quot; \u0026quot;Merc 240D\u0026quot; \u0026quot;Merc 230\u0026quot; ## [10] \u0026quot;Merc 280\u0026quot; \u0026quot;Merc 280C\u0026quot; \u0026quot;Merc 450SE\u0026quot; ## [13] \u0026quot;Merc 450SL\u0026quot; \u0026quot;Merc 450SLC\u0026quot; \u0026quot;Cadillac Fleetwood\u0026quot; ## [16] \u0026quot;Lincoln Continental\u0026quot; \u0026quot;Chrysler Imperial\u0026quot; \u0026quot;Fiat 128\u0026quot; ## [19] \u0026quot;Honda Civic\u0026quot; \u0026quot;Toyota Corolla\u0026quot; \u0026quot;Toyota Corona\u0026quot; ## [22] \u0026quot;Dodge Challenger\u0026quot; \u0026quot;AMC Javelin\u0026quot; \u0026quot;Camaro Z28\u0026quot; ## [25] \u0026quot;Pontiac Firebird\u0026quot; \u0026quot;Fiat X1-9\u0026quot; \u0026quot;Porsche 914-2\u0026quot; ## [28] \u0026quot;Lotus Europa\u0026quot; \u0026quot;Ford Pantera L\u0026quot; \u0026quot;Ferrari Dino\u0026quot; ## [31] \u0026quot;Maserati Bora\u0026quot; \u0026quot;Volvo 142E\u0026quot;\rhas_rownames(mtcars)\r## [1] TRUE\rhead(iris)\r## Sepal.Length Sepal.Width Petal.Length Petal.Width Species\r## 1 5.1 3.5 1.4 0.2 setosa\r## 2 4.9 3.0 1.4 0.2 setosa\r## 3 4.7 3.2 1.3 0.2 setosa\r## 4 4.6 3.1 1.5 0.2 setosa\r## 5 5.0 3.6 1.4 0.2 setosa\r## 6 5.4 3.9 1.7 0.4 setosa\rrownames(iris)\r## [1] \u0026quot;1\u0026quot; \u0026quot;2\u0026quot; \u0026quot;3\u0026quot; \u0026quot;4\u0026quot; \u0026quot;5\u0026quot; \u0026quot;6\u0026quot; \u0026quot;7\u0026quot; \u0026quot;8\u0026quot; \u0026quot;9\u0026quot; \u0026quot;10\u0026quot; \u0026quot;11\u0026quot; ## [12] \u0026quot;12\u0026quot; \u0026quot;13\u0026quot; \u0026quot;14\u0026quot; \u0026quot;15\u0026quot; \u0026quot;16\u0026quot; \u0026quot;17\u0026quot; \u0026quot;18\u0026quot; \u0026quot;19\u0026quot; \u0026quot;20\u0026quot; \u0026quot;21\u0026quot; \u0026quot;22\u0026quot; ## [23] \u0026quot;23\u0026quot; \u0026quot;24\u0026quot; \u0026quot;25\u0026quot; \u0026quot;26\u0026quot; \u0026quot;27\u0026quot; \u0026quot;28\u0026quot; \u0026quot;29\u0026quot; \u0026quot;30\u0026quot; \u0026quot;31\u0026quot; \u0026quot;32\u0026quot; \u0026quot;33\u0026quot; ## [34] \u0026quot;34\u0026quot; \u0026quot;35\u0026quot; \u0026quot;36\u0026quot; \u0026quot;37\u0026quot; \u0026quot;38\u0026quot; \u0026quot;39\u0026quot; \u0026quot;40\u0026quot; \u0026quot;41\u0026quot; \u0026quot;42\u0026quot; \u0026quot;43\u0026quot; \u0026quot;44\u0026quot; ## [45] \u0026quot;45\u0026quot; \u0026quot;46\u0026quot; \u0026quot;47\u0026quot; \u0026quot;48\u0026quot; \u0026quot;49\u0026quot; \u0026quot;50\u0026quot; \u0026quot;51\u0026quot; \u0026quot;52\u0026quot; \u0026quot;53\u0026quot; \u0026quot;54\u0026quot; \u0026quot;55\u0026quot; ## [56] \u0026quot;56\u0026quot; \u0026quot;57\u0026quot; \u0026quot;58\u0026quot; \u0026quot;59\u0026quot; \u0026quot;60\u0026quot; \u0026quot;61\u0026quot; \u0026quot;62\u0026quot; \u0026quot;63\u0026quot; \u0026quot;64\u0026quot; \u0026quot;65\u0026quot; \u0026quot;66\u0026quot; ## [67] \u0026quot;67\u0026quot; \u0026quot;68\u0026quot; \u0026quot;69\u0026quot; \u0026quot;70\u0026quot; \u0026quot;71\u0026quot; \u0026quot;72\u0026quot; \u0026quot;73\u0026quot; \u0026quot;74\u0026quot; \u0026quot;75\u0026quot; \u0026quot;76\u0026quot; \u0026quot;77\u0026quot; ## [78] \u0026quot;78\u0026quot; \u0026quot;79\u0026quot; \u0026quot;80\u0026quot; \u0026quot;81\u0026quot; \u0026quot;82\u0026quot; \u0026quot;83\u0026quot; \u0026quot;84\u0026quot; \u0026quot;85\u0026quot; \u0026quot;86\u0026quot; \u0026quot;87\u0026quot; \u0026quot;88\u0026quot; ## [89] \u0026quot;89\u0026quot; \u0026quot;90\u0026quot; \u0026quot;91\u0026quot; \u0026quot;92\u0026quot; \u0026quot;93\u0026quot; \u0026quot;94\u0026quot; \u0026quot;95\u0026quot; \u0026quot;96\u0026quot; \u0026quot;97\u0026quot; \u0026quot;98\u0026quot; \u0026quot;99\u0026quot; ## [100] \u0026quot;100\u0026quot; \u0026quot;101\u0026quot; \u0026quot;102\u0026quot; \u0026quot;103\u0026quot; \u0026quot;104\u0026quot; \u0026quot;105\u0026quot; \u0026quot;106\u0026quot; \u0026quot;107\u0026quot; \u0026quot;108\u0026quot; \u0026quot;109\u0026quot; \u0026quot;110\u0026quot;\r## [111] \u0026quot;111\u0026quot; \u0026quot;112\u0026quot; \u0026quot;113\u0026quot; \u0026quot;114\u0026quot; \u0026quot;115\u0026quot; \u0026quot;116\u0026quot; \u0026quot;117\u0026quot; \u0026quot;118\u0026quot; \u0026quot;119\u0026quot; \u0026quot;120\u0026quot; \u0026quot;121\u0026quot;\r## [122] \u0026quot;122\u0026quot; \u0026quot;123\u0026quot; \u0026quot;124\u0026quot; \u0026quot;125\u0026quot; \u0026quot;126\u0026quot; \u0026quot;127\u0026quot; \u0026quot;128\u0026quot; \u0026quot;129\u0026quot; \u0026quot;130\u0026quot; \u0026quot;131\u0026quot; \u0026quot;132\u0026quot;\r## [133] \u0026quot;133\u0026quot; \u0026quot;134\u0026quot; \u0026quot;135\u0026quot; \u0026quot;136\u0026quot; \u0026quot;137\u0026quot; \u0026quot;138\u0026quot; \u0026quot;139\u0026quot; \u0026quot;140\u0026quot; \u0026quot;141\u0026quot; \u0026quot;142\u0026quot; \u0026quot;143\u0026quot;\r## [144] \u0026quot;144\u0026quot; \u0026quot;145\u0026quot; \u0026quot;146\u0026quot; \u0026quot;147\u0026quot; \u0026quot;148\u0026quot; \u0026quot;149\u0026quot; \u0026quot;150\u0026quot;\rhas_rownames(iris)\r## [1] FALSE\rå¯ä»¥ä½¿ç”¨remove_rownames()å‡½æ•°å»é™¤æ‰è¡Œå.å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å°†è¡Œåè®¾ç½®ä¸ºNULLæ‰“åˆ°ç›®çš„\nhas_rownames(mtcars)\r## [1] TRUE\rmtcars2 \u0026lt;- remove_rownames(mtcars)\rhas_rownames(mtcars2)\r## [1] FALSE\r\r5.2 è¡Œåå’ŒæŸä¸€åˆ—äº’ç›¸è½¬æ¢\rrownames_to_column()å‡½æ•°å¯ä»¥å°†tibbleçš„è¡Œåè½¬å˜ä¸ºæŸä¸€åˆ—,å¹¶ä¸”åˆ é™¤æ‰è¡Œå.\nmtcars2 \u0026lt;- rownames_to_column(mtcars, var = \u0026quot;test\u0026quot;)\rmtcars2 %\u0026gt;% as_tibble()\r## # A tibble: 32 x 12\r## test mpg cyl disp hp drat wt qsec vs am gear carb\r## \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 Mazda~ 21 6 160 110 3.9 2.62 16.5 0 1 4 4\r## 2 Mazda~ 21 6 160 110 3.9 2.88 17.0 0 1 4 4\r## 3 Datsu~ 22.8 4 108 93 3.85 2.32 18.6 1 1 4 1\r## 4 Horne~ 21.4 6 258 110 3.08 3.22 19.4 1 0 3 1\r## 5 Horne~ 18.7 8 360 175 3.15 3.44 17.0 0 0 3 2\r## 6 Valia~ 18.1 6 225 105 2.76 3.46 20.2 1 0 3 1\r## 7 Duste~ 14.3 8 360 245 3.21 3.57 15.8 0 0 3 4\r## 8 Merc ~ 24.4 4 147. 62 3.69 3.19 20 1 0 4 2\r## 9 Merc ~ 22.8 4 141. 95 3.92 3.15 22.9 1 0 4 2\r## 10 Merc ~ 19.2 6 168. 123 3.92 3.44 18.3 1 0 4 4\r## # ... with 22 more rows\rå¦å¤–ä¸€ä¸ªå‡½æ•°,rowid_to_column()å¯ä»¥å»é™¤æ‰è¡Œå,å¹¶åœ¨æœ€å¼€å§‹æ·»åŠ ä¸€åˆ—rowid,ä»1å¼€å§‹.\nrowid_to_column(mtcars) %\u0026gt;% as_tibble()\r## # A tibble: 32 x 12\r## rowid mpg cyl disp hp drat wt qsec vs am gear carb\r## \u0026lt;int\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1 21 6 160 110 3.9 2.62 16.5 0 1 4 4\r## 2 2 21 6 160 110 3.9 2.88 17.0 0 1 4 4\r## 3 3 22.8 4 108 93 3.85 2.32 18.6 1 1 4 1\r## 4 4 21.4 6 258 110 3.08 3.22 19.4 1 0 3 1\r## 5 5 18.7 8 360 175 3.15 3.44 17.0 0 0 3 2\r## 6 6 18.1 6 225 105 2.76 3.46 20.2 1 0 3 1\r## 7 7 14.3 8 360 245 3.21 3.57 15.8 0 0 3 4\r## 8 8 24.4 4 147. 62 3.69 3.19 20 1 0 4 2\r## 9 9 22.8 4 141. 95 3.92 3.15 22.9 1 0 4 2\r## 10 10 19.2 6 168. 123 3.92 3.44 18.3 1 0 4 4\r## # ... with 22 more rows\rå½“ç„¶ä¹Ÿå¯ä»¥å°†æŸä¸€åˆ—å˜ä¸ºè¡Œå:column_to_rownames().æ³¨æ„å¿…é¡»è¦æ±‚tibbleæ²¡æœ‰è¡Œå,ä¸”æ–°çš„è¡Œåæ˜¯æ²¡æœ‰é‡å¤å…ƒç´ çš„.\ncolumn_to_rownames(mtcars2, var = \u0026quot;test\u0026quot;)\r## mpg cyl disp hp drat wt qsec vs am gear carb\r## Mazda RX4 21.0 6 160.0 110 3.90 2.620 16.46 0 1 4 4\r## Mazda RX4 Wag 21.0 6 160.0 110 3.90 2.875 17.02 0 1 4 4\r## Datsun 710 22.8 4 108.0 93 3.85 2.320 18.61 1 1 4 1\r## Hornet 4 Drive 21.4 6 258.0 110 3.08 3.215 19.44 1 0 3 1\r## Hornet Sportabout 18.7 8 360.0 175 3.15 3.440 17.02 0 0 3 2\r## Valiant 18.1 6 225.0 105 2.76 3.460 20.22 1 0 3 1\r## Duster 360 14.3 8 360.0 245 3.21 3.570 15.84 0 0 3 4\r## Merc 240D 24.4 4 146.7 62 3.69 3.190 20.00 1 0 4 2\r## Merc 230 22.8 4 140.8 95 3.92 3.150 22.90 1 0 4 2\r## Merc 280 19.2 6 167.6 123 3.92 3.440 18.30 1 0 4 4\r## Merc 280C 17.8 6 167.6 123 3.92 3.440 18.90 1 0 4 4\r## Merc 450SE 16.4 8 275.8 180 3.07 4.070 17.40 0 0 3 3\r## Merc 450SL 17.3 8 275.8 180 3.07 3.730 17.60 0 0 3 3\r## Merc 450SLC 15.2 8 275.8 180 3.07 3.780 18.00 0 0 3 3\r## Cadillac Fleetwood 10.4 8 472.0 205 2.93 5.250 17.98 0 0 3 4\r## Lincoln Continental 10.4 8 460.0 215 3.00 5.424 17.82 0 0 3 4\r## Chrysler Imperial 14.7 8 440.0 230 3.23 5.345 17.42 0 0 3 4\r## Fiat 128 32.4 4 78.7 66 4.08 2.200 19.47 1 1 4 1\r## Honda Civic 30.4 4 75.7 52 4.93 1.615 18.52 1 1 4 2\r## Toyota Corolla 33.9 4 71.1 65 4.22 1.835 19.90 1 1 4 1\r## Toyota Corona 21.5 4 120.1 97 3.70 2.465 20.01 1 0 3 1\r## Dodge Challenger 15.5 8 318.0 150 2.76 3.520 16.87 0 0 3 2\r## AMC Javelin 15.2 8 304.0 150 3.15 3.435 17.30 0 0 3 2\r## Camaro Z28 13.3 8 350.0 245 3.73 3.840 15.41 0 0 3 4\r## Pontiac Firebird 19.2 8 400.0 175 3.08 3.845 17.05 0 0 3 2\r## Fiat X1-9 27.3 4 79.0 66 4.08 1.935 18.90 1 1 4 1\r## Porsche 914-2 26.0 4 120.3 91 4.43 2.140 16.70 0 1 5 2\r## Lotus Europa 30.4 4 95.1 113 3.77 1.513 16.90 1 1 5 2\r## Ford Pantera L 15.8 8 351.0 264 4.22 3.170 14.50 0 1 5 4\r## Ferrari Dino 19.7 6 145.0 175 3.62 2.770 15.50 0 1 5 6\r## Maserati Bora 15.0 8 301.0 335 3.54 3.570 14.60 0 1 5 8\r## Volvo 142E 21.4 4 121.0 109 4.11 2.780 18.60 1 1 4 2\r\r\r","date":1573257600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573257600,"objectID":"387f47fa9b6bbc120cfc341acfe516ed","permalink":"/post/2019-10-09-tibble-cookbook/","publishdate":"2019-11-09T00:00:00Z","relpermalink":"/post/2019-10-09-tibble-cookbook/","section":"post","summary":"1 åˆ›å»ºä¸€ä¸ªtibble 1.1 tibble()å‡½æ•° 1.2 as_tibble()å‡½æ•° 1.3 tribble()å‡½æ•° 1.4 enframe()å‡½æ•° 2 tibbleæ˜¾ç¤ºæ§","tags":["Blog","Chinese"],"title":"tibble cookbook","type":"post"},{"authors":null,"categories":["Study"],"content":"\r\r1 å¦‚ä½•åœ¨ä¸¤å°ç”µè„‘é—´å…±äº«æ–‡ä»¶å¤¹?\r2 CMDå‘½ä»¤\r2.1 å¦‚ä½•ä½¿ç”¨CMDä¿®æ”¹è·¯å¾„?\r2.2 æŸ¥çœ‹å½“å‰è·¯å¾„\r2.3 æŸ¥çœ‹å½“å‰è·¯å¾„ä¸‹æ–‡ä»¶\r\r\r\r1 å¦‚ä½•åœ¨ä¸¤å°ç”µè„‘é—´å…±äº«æ–‡ä»¶å¤¹?\rå‚è€ƒå¸–å­:\nhttps://jingyan.baidu.com/article/93f9803f3e9788e0e46f55c8.html\nä¿è¯ä¸¤å°ç”µè„‘åœ¨åŒä¸€ä¸ªç½‘ç»œä¸­.å¯¹äºStanfordæ¥è¯´,å¦‚æœåœ¨å…¶ä»–åœ°æ–¹,éœ€è¦è¿æ¥VPN.\n\råœ¨workstation(ç”µè„‘B)ä¸Šæ‰“å¼€ç½‘ç»œè®¾ç½®.\n\r\ré€‰æ‹©Sharing options\r\rPrivateæŒ‰ç…§ä¸‹é¢è¿›è¡Œè®¾ç½®.\r\rAll networkæŒ‰ç…§ä¸‹é¢è®¾ç½®\r\ré€‰æ‹©è¦å…±äº«çš„æ–‡ä»¶å¤¹,ç„¶åå³é”®æ‰“å¼€å±æ€§.ç„¶åé€‰æ‹©Share.\r\ré€‰æ‹©Everyone,ç„¶åç‚¹å‡»Share.\r\r8.ç„¶åå†ç‚¹å‡»ç¬¬6æ­¥ä¸­çš„Advanced Sharing.æŒ‰ç…§ä¸‹å›¾è®¾ç½®.\n9.å¿«æ·é”®win + Ræ‰“å¼€run.ç„¶åè¾“å…¥Bç”µè„‘çš„IPV4åœ°å€.ç„¶åéœ€è¦ç™»å½•,æ³¨æ„,ä½¿ç”¨çš„æ˜¯ä½ åœ¨Bç”µè„‘ä¸Šçš„è´¦å·å’Œå¯†ç ç™»å½•,æœ‰æ—¶å€™æ³¨æ„ç™»å½•åå‰éœ€è¦æ·»åŠ win\\\næœ€ç»ˆæ•ˆæœå¦‚ä¸‹å›¾.\r\r\r2 CMDå‘½ä»¤\r2.1 å¦‚ä½•ä½¿ç”¨CMDä¿®æ”¹è·¯å¾„?\rå¦‚æœä¿®æ”¹æŸä¸ªç›˜,å…ˆç›´æ¥æ‰“ç›˜ååŠ å†’å·å³å¯,ä¸éœ€è¦ä½¿ç”¨cdå‘½ä»¤.\nD:\rç„¶åè¿›å…¥åˆ°æŸä¸ªç›˜çš„å­ç›®å½•ä¸‹,æ‰éœ€è¦ä½¿ç”¨cdå‘½ä»¤.\n\r2.2 æŸ¥çœ‹å½“å‰è·¯å¾„\rcd\r\r2.3 æŸ¥çœ‹å½“å‰è·¯å¾„ä¸‹æ–‡ä»¶\rdir\r\r\r","date":1573171200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1573171200,"objectID":"cfbf416835406223ed52377223457b95","permalink":"/post/2019-11-08-windows-summary/","publishdate":"2019-11-08T00:00:00Z","relpermalink":"/post/2019-11-08-windows-summary/","section":"post","summary":"1 å¦‚ä½•åœ¨ä¸¤å°ç”µè„‘é—´å…±äº«æ–‡ä»¶å¤¹? 2 CMDå‘½ä»¤ 2.1 å¦‚ä½•ä½¿ç”¨CMDä¿®æ”¹è·¯å¾„? 2.2 æŸ¥çœ‹å½“å‰è·¯å¾„ 2.3 æŸ¥çœ‹å½“å‰è·¯å¾„ä¸‹æ–‡ä»¶ 1 å¦‚ä½•åœ¨ä¸¤å°ç”µè„‘é—´å…±äº«æ–‡ä»¶å¤¹? å‚è€ƒå¸–å­","tags":["Blog"],"title":"Windowsä½¿ç”¨Summary","type":"post"},{"authors":null,"categories":["literature"],"content":"\r\r1 Predictive metabolomic profiling of microbial communities using amplicon or metagenomic sequences\r1.1 Methods\r1.1.1 Training and validation cohort descriptions\r1.1.2 Taxonomic and functional profiling\r1.1.3 Metabolite profiling\r1.1.4 Elastic net regularization\r1.1.5 Significance testing with shuffled data\r1.1.6 Gene set enrichment analysis\r\r\r\r\r1 Predictive metabolomic profiling of microbial communities using amplicon or metagenomic sequences\rå¼€å‘çš„è½¯ä»¶åå­—å«åšMelonnPan(Model-based Genomically Informed High-dimensional Predictor of Microbial Community Metabolic Profile)\nåœ¨ä¸€ä¸ªcohortä¸Šå¼€å‘, åœ¨å¦ä¸€ä¸ªindepent datasetä¸ŠåšéªŒè¯.\nThis revealed high concordance (ä¸€è‡´) between predicted and observed community metabolic trends in \u0026gt;50% of metabolites whose identities were confirmed against laboratory standards, including prediction of metabolic shifts associated with bile acids, fatty acids, steroids, prenol lipids, and sphingolipids.\n1.1 Methods\r1.1.1 Training and validation cohort descriptions\rOne training data sets, two validation data sets.\n\r1.1.2 Taxonomic and functional profiling\rStool samples.\n\r1.1.3 Metabolite profiling\rHHILIC and RPLC. 8869 features and 466 metabolites.\n\r1.1.4 Elastic net regularization\rElastic net regularization technique. Use the R package glmnet.\nSpearman correlation coefficient (r) between the true and pre- dicted metabolite compositions was used to evaluate the predictability of each compound. Following Cohen68, we term those metabolites for which r is \u0026gt;0.3 as â€œwell predictedâ€ and flag the rest as poorly predicted metabolites.\n\r1.1.5 Significance testing with shuffled data\rå…¶å®å°±æ˜¯permutation test.\n\r1.1.6 Gene set enrichment analysis\r\r\r\r","date":1572825600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572825600,"objectID":"b46015b27e8bbbd04dfe87ee4a3ee645","permalink":"/post/2019-11-04-metmicrobome-literature-sumamry/","publishdate":"2019-11-04T00:00:00Z","relpermalink":"/post/2019-11-04-metmicrobome-literature-sumamry/","section":"post","summary":"1 Predictive metabolomic profiling of microbial communities using amplicon or metagenomic sequences 1.1 Methods 1.1.1 Training and validation cohort descriptions 1.1.2 Taxonomic and functional profiling 1.1.3 Metabolite profiling 1.1.4 Elastic net regularization 1.1.5 Significance testing with shuffled data 1.1.6 Gene set enrichment analysis 1 Predictive metabolomic profiling of microbial communities using amplicon or metagenomic sequences å¼€å‘çš„è½¯ä»¶åå­—å«åšMelonn","tags":["Academic"],"title":"Metmicrobome Literature Sumamry","type":"post"},{"authors":null,"categories":["literature"],"content":"\r\r1 Abstract\r2 Methods\r2.1 Study population\r2.2 Definition of the fetal and birth measurements\r2.3 Metabolic profiling by NMR\r2.4 Statistical analysis\r2.4.1 Step 1. Identify main sources of metabolic variation between first and third trimesters of gestation\r2.4.2 Step 2. Identify metabolites associated with fetal growth\r2.4.3 Step 3. Assess the extent to which the metabolite panel associated with fetal growth can be explained by known growth-related factors from epidemiological and clinical data\r2.4.4 Step 4. Determinants of birth weight: a variance decomposition analysis\r\r\r\r\r1 Abstract\rä½¿ç”¨NMRä»ªå™¨é‡‡é›†urineæ•°æ®.ä¸€å…±ä¸¤ä¸ªcohort.ä¸¤ä¸ªæ—¶é—´ç‚¹(fisrt and third trimesters of gestation).ç”¨metabolomeæ¥é¢„æµ‹fetal growthå’Œbirth weight.\næµ‹åˆ°çš„ä¸œè¥¿åŒ…æ‹¬:branched-chain amino acids(æ”¯é“¾æ°¨åŸºé…¸);isoleucine(å¼‚äº®æ°¨é…¸),valine(é¢‰æ°¨é…¸),leucine(äº®æ°¨é…¸),alanine(ä¸™æ°¨é…¸)å’Œ3 hydroxyisobutyrate(ç¾ŸåŸºå¼‚ä¸é…¸)(metabolite of valine).\nå¦å¤–ä¸€å¤§ç±»å°±æ˜¯:pregnancy-related hormone by-products of estrogens and progesterone, and the methyl donor choline.\rPhysical activity, as well as other modifiable lifestyle/clinical factors, such as coffee consumption, vitamin D intake, and smoking, were identified as potential sources of metabolic variation during pregnancy.First trimester metabolic phenotypes could not predict reproducibly weight at later stages of development.\nSignificant reproducible maternal urinary metabolic signatures of fetal growth and birth weight are identified for the first time and linked to modifiable lifestyle factors. This novel approach to prenatal(äº§å‰çš„) screening, combining multiple risk factors, present a great opportunity to personalize pregnancy management management and reduce newborn disease risk in later life.\n\r2 Methods\rNMRé‡‡é›†æ•°æ®,ä¸€å…±1695 metabolic phenotypes.\nExploratory metabolic profiling offers a powerful means of capturing systems-level information that re- flects both maternal genetic and environmental influ- ences, hence helping to elucidate metabolic disturbances and pathways associated with fetal outcomes.\nThis study aimed to (1) characterize the maternal urinary metabolome throughout pregnancy, (2) identify maternal metabolic signatures of fetal growth in two subcohorts, (3) explain potential sources of variation in metabolic profiles based on lifestyle and clinical data, and finally (4) to determine the individ- ual importance of metabolic signatures versus other maternal\n2.1 Study population\rThe women were interviewed twice during pregnancy (in the first and third trimesters of gestation) to obtain infor- mation about their sociodemographic characteristics and lifestyle variables. The urine samples were collected in the same interview in the morning (spot samples). The urine samples were collected in the same interview in the morning (spot samples). æ‰€ä»¥ä¸€å…±æœ‰ä¸¤ä¸ªæ—¶é—´ç‚¹.åˆ†åˆ«åœ¨first trimester and third trimesters.æ—¶é—´ä¸º12.4 Â± 1.2å’Œ33.9 Â± 1.3 weeks.\n\r2.2 Definition of the fetal and birth measurements\rFetal weight(FW)å°±æ˜¯ä½¿ç”¨ultrasoundå¯¹èƒå„¿çš„å‡ ä¸ªæŒ‡æ ‡è¿›è¡Œæµ‹é‡(è¯¦ç»†æŒ‡æ ‡è§ä¸‹é¢å†…å®¹),ç„¶åä½¿ç”¨Hadlockå…¬å¼è¿›è¡Œè®¡ç®—,å¯ä»¥å¾—å‡ºèƒå„¿çš„ä½“é‡.\nç„¶åä¸‹é¢ä¸€ä¸ªæ¦‚å¿µå°±æ˜¯fetal growth score.\nä¸‹é¢æ˜¯åŸæ–‡:\nFetal growth scores or standard deviation scores (z- scores) were obtained using longitudinal growth curves calculated for each individual adjusting for constitutional factors known to affect fetal growth (i.e., maternal age, height, parity, pre-pregnancy weight, country of origin, fatherâ€™s height, and fetal sex).\næ¨æµ‹åšæ³•:\nå¯¹äºæ¯ä¸€ä¸ªæ¯äº²,ä½¿ç”¨èƒå„¿çš„ä½“é‡(fetal weight,FW)ä½œä¸ºå› å˜é‡,ç„¶åå…¶ä»–çš„ä¸€äº›å› ç´ ,æ¯”å¦‚maternal ageç­‰ç­‰ä½œä¸ºcofounding factor,ç„¶åè¿›è¡Œå›å½’,å‰©ä½™çš„æ®‹å·®å°±æ˜¯çŸ«æ­£è¿‡åçš„fetal growth score.\nåå˜é‡:\nGestational age was calculated from the date of the last menstrual period (LMP) which was self-reported and was confirmed using ultrasound examination in 12 wk of gestation. When the date did not match the ultrasound measurement estimation by 7 days or more, the gestational age was corrected using its relationship to the crown-rump length(é¡¶è‡€é•¿).\nGAæœ‰ä¸¤ç§è®¡ç®—æ–¹å¼,ä¸€ç§æ˜¯ä½¿ç”¨å­•å¦‡è‡ªå·±æŠ¥å‘Šçš„æœ€åä¸€æ¬¡æœˆç»çš„ç¬¬ä¸€å¤©å¼€å§‹ç®—èµ·,æ•´ä¸ªæ€€å­•å‘¨æœŸä¸º280å¤©.10ä¸ªå¦Šå¨ æœˆ(æ¯ä¸ªå¦Šå¨ æœˆä¸º28å¤©).å¦å¤–ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ultrasoundåœ¨12å‘¨çš„æ•°æ®è¿›è¡Œåæ¨.å¦‚æœä¸¤ç§æ–¹æ³•çš„è¯¯å·®ä¸åœ¨ä¸€å‘¨å†…,åˆ™ä»¥å“ªç§ä¸ºå‡†å‘¢?å¦‚æœè¯¯å·®åœ¨å¤§äºä¸€å‘¨,åˆ™ä½¿ç”¨ä»–ä»¬ä¸crown-rump length(é¡¶è‡€é•¿)çš„å…³ç³»è¿›è¡ŒçŸ«æ­£(å¦‚ä½•çŸ«æ­£?).\nFetal growth scoreæ˜¯ä½¿ç”¨longitudinal growth curveæ¥è®¡ç®—çš„,ç„¶åadjustäº†ä¸€äº›å·²çŸ¥çš„èƒ½å¤Ÿå½±å“fetal growthçš„å› ç´ ,å¦‚maternal age(æ¯äº²çš„å¹´é¾„),height(æ¯äº²çš„èº«é«˜),parity(å·²ç”Ÿèƒæ•°),pre-pregnancy weight(æ€€å­•å‰çš„ä½“é‡),country of origin(åœ°åŒº),fatherâ€™s height(æ¯äº²çš„èº«é«˜),and fetal sex(èƒå„¿æ€§åˆ«).\nè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–åçš„å€¼.(standard deviation scores,z-scores).\næ²¡æœ‰çŸ«æ­£åçš„z-score.\ndate of conception:å¦Šå¨ æœŸ.\nGestational age(å­•é¾„)was established by using crownâ€“rump length when the calculated date of conception differed from the fetal age based on the subjectâ€™s self-reported last menstrual period by 7 days or more.\n\r2.3 Metabolic profiling by NMR\rä¸€å…±é‰´å®šåˆ°64ä¸ªä»£è°¢ç‰©,å…¶ä¸­47ä¸ªfully identified.\n\r2.4 Statistical analysis\r2.4.1 Step 1. Identify main sources of metabolic variation between first and third trimesters of gestation\rPCAå’ŒOPLSAç”¨æ¥è§‚å¯Ÿfirst and third trimester gestationçš„æ•´ä½“å·®å¼‚.\n\r2.4.2 Step 2. Identify metabolites associated with fetal growth\rå¯¹äºæ‰€æœ‰çš„metaboliteæ•°æ®,é¦–å…ˆå°†å…¶è¿›è¡Œlog transformation.ç„¶åå°†fetal growth scoreä½œä¸ºå› å˜é‡,metaboliteä½œä¸ºè‡ªå˜é‡,è€Œé‡‡æ ·æ—¶é—´ä½œä¸ºconfounding factorè¿›è¡Œmultivarite linear regression.å¾—åˆ°çš„æ¯ä¸€ä¸ªmetaboliteçš„coefficientä¹˜ä»¥1.5çš„ä½œä¸ºå½“è¯¥metabolite levelæé«˜50%æ—¶å…¶å¯¹fetal growth scoreçš„å½±å“(æ²¡æœ‰å¤ªæ‡‚?).\nRegression coefficients are presented as a percent of change in the z-score of each fetal growth measure.\n\r2.4.3 Step 3. Assess the extent to which the metabolite panel associated with fetal growth can be explained by known growth-related factors from epidemiological and clinical data\ræ¢ç©¶å“ªä¸€äº›çš„metaboloite-fetal relationshiå¯ä»¥è¢«ä¸€äº›å·²çŸ¥çš„epidemiologicalå’Œclinical dataæ‰€è§£é‡Š.\nä½œè€…è€ƒè™‘äº†ä»¥ä¸‹å·²çŸ¥çš„å’Œfetal growthç›¸å…³çš„å‚æ•°:\nmaternal clinical parameters.\nmaterna lifestyle in third trimester.\ndietary intake in third trimester.\nsociodemographic characteristics (ç¤¾ä¼šäººå£ç‰¹å¾).\nä¸€å…±æœ‰38ä¸ªä¿¡æ¯.è¯¦ç»†ä¿¡æ¯è¯·è¯·è§è¯¥è¡¨æ ¼.\nå°†metaboliteå’Œmaternal parametersè¿›è¡Œspearman correlationçš„è®¡ç®—,ç„¶ååŒ–ä½œcrios plot(åªä¿ç•™p adjust \u0026lt; 0.05, FDRçŸ«æ­£).\nIn addition, correlation adjusted scores (CAR scores) were used to measure the correlation between metabolite levels and all the Mahalanobis decorrelated predictors in one model (growth-related factors selected from epidemiological and clinical data) as implemented in the R-package â€˜careâ€™\nè¿™æ®µè¯æ²¡æœ‰çœ‹æ‡‚.\nä»€ä¹ˆæ˜¯correlation adjusted scores?\n\r2.4.4 Step 4. Determinants of birth weight: a variance decomposition analysis\r\r\r\r","date":1572566400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572566400,"objectID":"b381d97443ae39e8082b12db6c55c011","permalink":"/post/2019-11-01-maternal-urinary-metabolic-signatures/","publishdate":"2019-11-01T00:00:00Z","relpermalink":"/post/2019-11-01-maternal-urinary-metabolic-signatures/","section":"post","summary":"1 Abstract 2 Methods 2.1 Study population 2.2 Definition of the fetal and birth measurements 2.3 Metabolic profiling by NMR 2.4 Statistical analysis 2.4.1 Step 1. Identify main sources of metabolic variation between first and third trimesters of gestation 2.4.2 Step 2. Identify metabolites associated with fetal growth 2.4.3 Step 3. Assess the extent to which the metabolite panel associated with fetal growth can be explained by known growth-related factors","tags":["Academic"],"title":"Maternal urinary metabolic signatures of fetal growth and associated clinical and environmental factors in the INMA studyæ–‡çŒ®é˜…è¯»æ€»ç»“","type":"post"},{"authors":null,"categories":["literature"],"content":"\r\r1 å­•é¾„(gestational age,GA)çš„è®¡ç®—\r\r\rå› ä¸ºè¦åšè·Ÿæ€€å­•ç›¸å…³çš„é¡¹ç›®,æ‰€ä»¥æŠŠä¸€äº›åŸºç¡€çš„æ€€å­•çŸ¥è¯†åšä¸€ä¸‹æ€»ç»“.\n1 å­•é¾„(gestational age,GA)çš„è®¡ç®—\ræ•´ä¸ªæ€€å­•å‘¨æœŸä¸º280å¤©.10ä¸ªå¦Šå¨ æœˆ(æ¯ä¸ªå¦Šå¨ æœˆä¸º28å¤©).å­•å¦‡åœ¨å¦Šå¨ 38-42å‘¨å†…åˆ†å¨©,å‡ä¸ºè¶³æœˆ.ç”±äºæ¯ä½å¥³æ€§æœˆç»å‘¨æœŸé•¿çŸ­ä¸ä¸€,æ‰€ä»¥æ¨æµ‹çš„é¢„äº§æœŸä¸å®é™…é¢„äº§æœŸæœ‰1-2å‘¨çš„å‡ºå…¥ä¹Ÿæ˜¯æ­£å¸¸çš„.ä¸»è¦çš„è®¡ç®—æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§:\næ ¹æ®æœ«æ¬¡æœˆç»è®¡ç®—:\r\ræœ«æ¬¡æœˆç»æ—¥æœŸ(ç¬¬ä¸€å¤©)çš„æœˆä»½åŠ 9æˆ–å‡3,ä¸ºé¢„äº§æœŸæœˆä»½æ•°;å¤©æ•°åŠ 7,ä¸ºé¢„äº§æœŸæ—¥.ä¾‹å¦‚:å¼ å¥³å£«çš„æœ«æ¬¡æœˆç»æ˜¯2008å¹´3æœˆ13æ—¥,å…¶é¢„äº§æœŸçº¦ä¸º:2008å¹´12æœˆ20æ—¥.æå¥³å£«çš„æœ«æ¬¡æœˆç»æ˜¯2008å¹´5æœˆ28æ—¥,å…¶é¢„äº§æœŸçº¦ä¸º:2009å¹´3æœˆ5æ—¥.ä¹Ÿå¯ä»¥ä»æœ«æ¬¡æœˆç»ç¬¬ä¸€å¤©èµ·å‘åæ¨ç®—åˆ°ç¬¬280å¤©å°±æ˜¯é¢„äº§æœŸ.\næ ¹æ®èƒåŠ¨æ—¥æœŸè®¡ç®—:\r\rå¦‚ä¸æ¸…æœ«æ¬¡æœˆç»æ—¥æœŸ,å¯ä»¥ä¾æ®èƒåŠ¨æ—¥æœŸæ¥è¿›è¡Œæ¨ç®—.ä¸€èˆ¬èƒåŠ¨å¼€å§‹äºæ€€å­•åçš„18-20å‘¨.è®¡ç®—æ–¹æ³•ä¸º:åˆäº§å¦‡æ˜¯èƒåŠ¨æ—¥åŠ 20å‘¨;ç»äº§å¦‡æ˜¯èƒåŠ¨æ—¥åŠ 22å‘¨.\næ ¹æ®åŸºç¡€ä½“æ¸©æ›²çº¿è®¡ç®—:\r\rå°†åŸºç¡€ä½“æ¸©æ›²çº¿çš„ä½æ¸©æ®µçš„æœ€åä¸€å¤©ä½œä¸ºæ’åµæ—¥,ä»æ’åµæ—¥å‘åæ¨ç®—264-268å¤©,æˆ–åŠ 38å‘¨.\næ ¹æ®Bè¶…æ£€æŸ¥æ¨ç®—:\r\råŒ»ç”ŸåšBè¶…æ—¶æµ‹å¾—èƒå¤´åŒé¡¶é—´å¾„,å¤´è‡€é•¿åº¦åŠè‚¡éª¨é•¿åº¦å³å¯ä¼°ç®—å‡ºèƒé¾„,å¹¶æ¨ç®—å‡ºé¢„äº§æœŸ(æ­¤æ–¹æ³•å¤§å¤šä½œä¸ºåŒ»ç”ŸBè¶…æ£€æŸ¥è¯Šæ–­åº”ç”¨).\nç”¨æ¥é¢„æµ‹èƒå„¿ä½“é‡(fetal birth weight)çš„å‡ ä¸ªå‚æ•°(ä»è¶…å£°æ³¢æµ‹é‡è€Œæ¥):\n\rFiparietal diameter(BPD):èƒå„¿åŒé¡¶å¾„.ä¸ºä¸¤ä¾§é¡¶éª¨éš†çªé—´çš„è·ç¦»,æ˜¯èƒå¤´æœ€å¤§æ¨ªå¾„,ä¸´åºŠç”¨Bå‹è¶…å£°æ£€æµ‹æ­¤å€¼åˆ¤æ–­èƒå„¿å¤§å°,å¦Šå¨ è¶³æœˆæ—¶å¹³å‡é•¿åº¦çº¦9.3cm.\n\rFemur length(FL):èƒå„¿è‚¡éª¨é•¿åº¦.\n\rHead circumference (AC):èƒå„¿å¤´å›´.\n\rAbdominal circumference (AC):èƒå„¿è…¹å›´.\n\rcrownâ€“rump length:èƒå„¿çš„å¤´è‡€é•¿.\n\r\rä»å­•åå¼€å§‹çš„æ—¶é—´æ¨ç®—:\r\rååº”å­•åä¸€èˆ¬å‡ºç°åœ¨æ€€å­•6å‘¨æœ«ï¼Œå°±æ˜¯æœ«æ¬¡æœˆç»å42å¤©ï¼Œç”±æ­¤å‘åæ¨ç®—è‡³280å¤©å³ä¸ºé¢„äº§æœŸã€‚\n\r","date":1572566400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572566400,"objectID":"ee98065121834ce4bbe9b78a0078c2dd","permalink":"/post/2019-11-01-pregnancy-knowledge/","publishdate":"2019-11-01T00:00:00Z","relpermalink":"/post/2019-11-01-pregnancy-knowledge/","section":"post","summary":"1 å­•é¾„(gestational age,GA)çš„è®¡ç®— å› ä¸ºè¦åšè·Ÿæ€€å­•ç›¸å…³çš„é¡¹ç›®,æ‰€ä»¥æŠŠä¸€äº›åŸºç¡€çš„æ€€å­•çŸ¥è¯†åšä¸€ä¸‹æ€»ç»“. 1 å­•é¾„(gestationa","tags":["Academic"],"title":"æ€€å­•åŸºç¡€çŸ¥è¯†æ€»ç»“","type":"post"},{"authors":null,"categories":[],"content":"","date":1572543110,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572543110,"objectID":"7ac159074e2796b905bdb4b6ccca28d5","permalink":"/post/2019-10-31-date-summary/","publishdate":"2019-10-31T10:31:50-07:00","relpermalink":"/post/2019-10-31-date-summary/","section":"post","summary":"","tags":[],"title":"2019 10 31 Date Summary","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 æ—¥æœŸæ ¼å¼è½¬æ¢\r1.1 æ¯”å¦‚ç¾å›½è¿™è¾¹å¸¸è§çš„æœˆ/æ—¥/å¹´.\r1.2 å›½å†…å¸¸è§å¸¸è§çš„å¹´/æœˆ/æ—¥\r1.3 å¸¸è§æ—¥æœŸå„ä¸ªå…ƒç´ çš„å†™æ³•åŠç›¸åº”formatçš„å†™æ³•\r1.3.1 å¹´\r1.3.2 æœˆ\r1.3.3 æ—¥\r1.3.4 æ—¶é—´\r\r\r\r\rRè¯­è¨€ä¸­å’Œæ—¥æœŸæ—¶é—´ç›¸å…³çš„ä¸€å…±æœ‰ä¸‰ç§æ ¼å¼,åˆ†åˆ«æ˜¯æ—¥æœŸ(date),æ—¥æœŸæ—¶é—´(data-times)å’Œæ—¶é—´(time).\nä¸€èˆ¬æ¥è¯´,æ—¥æœŸæ ¼å¼éœ€è¦ç¬¦åˆISO8601æ ¼å¼,è¿™æ˜¯ä¸€ç§å›½é™…ä¸Šé€šç”¨çš„æ—¥æœŸæ—¶é—´æ ¼å¼,åŒ…å«çš„å†…å®¹ä»å¤§åˆ°å°åŒ…æ‹¬:å¹´,æœˆ,æ—¥,å°æ—¶,åˆ†é’Ÿå’Œç§’.\nlibrary(readr)\rparse_datetime(\u0026quot;2019-11-11T2010\u0026quot;)\r## [1] \u0026quot;2019-11-11 20:10:00 UTC\u0026quot;\rparse_datetime()æ˜¯readråŒ…ä¸­çš„ç”¨äºè§£ææ—¥æœŸçš„å‡½æ•°.\n1 æ—¥æœŸæ ¼å¼è½¬æ¢\rä½¿ç”¨as.Date()å‡½æ•°å°†æ–‡æœ¬æ ¼å¼æ—¥æœŸè½¬æ¢ä¸ºdateæ ¼å¼æ•°æ®.ä¸€å…±éœ€è¦ä¸¤ä¸ªå‚æ•°:\n\rx:æ–‡æœ¬æ ¼å¼æ—¥æœŸ.\n\rformat:æ–‡æœ¬æ ¼å¼æ—¥æœŸçš„æ ¼å¼.\n\r\r1.1 æ¯”å¦‚ç¾å›½è¿™è¾¹å¸¸è§çš„æœˆ/æ—¥/å¹´.\rdate \u0026lt;- c(\u0026quot;8/6/2014\u0026quot;, \u0026quot;3/18/2015\u0026quot;)\rclass(date)\r## [1] \u0026quot;character\u0026quot;\rdate2 \u0026lt;- as.Date(x = date, format = \u0026quot;%m/%d/%Y\u0026quot;)\rdate2\r## [1] \u0026quot;2014-08-06\u0026quot; \u0026quot;2015-03-18\u0026quot;\rclass(date2)\r## [1] \u0026quot;Date\u0026quot;\rdate \u0026lt;- c(\u0026quot;08/06/2014\u0026quot;, \u0026quot;03/18/2015\u0026quot;)\rdate2 \u0026lt;- as.Date(x = date, format = \u0026quot;%m/%d/%Y\u0026quot;)\rdate2\r## [1] \u0026quot;2014-08-06\u0026quot; \u0026quot;2015-03-18\u0026quot;\rclass(date2)\r## [1] \u0026quot;Date\u0026quot;\rdate \u0026lt;- c(\u0026quot;08/06/14\u0026quot;, \u0026quot;03/18/15\u0026quot;)\rdate2 \u0026lt;- as.Date(x = date, format = \u0026quot;%m/%d/%y\u0026quot;)\rdate2\r## [1] \u0026quot;2014-08-06\u0026quot; \u0026quot;2015-03-18\u0026quot;\rclass(date2)\r## [1] \u0026quot;Date\u0026quot;\ræ³¨æ„å¯ä»¥çœ‹åˆ°,å¯¹äºå¹´,æœ‰æ—¶å€™å¤§å®¶ä¼šçœå†™,æ¯”å¦‚2015å†™ä¸º15.è¿™æ—¶å€™åœ¨formatå‚æ•°ä¸­ä»£è¡¨å¹´çš„ä½ç½®åº”å½“ç”±å…¨å†™çš„Yæ”¹ä¸ºå°å†™çš„y.å¯¹äºæœˆå’Œæ—¥åˆ™ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜.\n\r1.2 å›½å†…å¸¸è§å¸¸è§çš„å¹´/æœˆ/æ—¥\rå½“ç„¶å¯¹äºå…¶ä»–çš„ç±»ä¼¼ä½¿ç”¨/åˆ†éš”å¼€æ—¥æœŸå½¢å¼,åªè¦å˜æ¢formatä¸­çš„é¡ºåºå³å¯.\ndate \u0026lt;- c(\u0026quot;2015/8/6\u0026quot;, \u0026quot;3/18/15\u0026quot;)\rclass(date)\r## [1] \u0026quot;character\u0026quot;\rdate2 \u0026lt;- as.Date(x = date, format = c(\u0026quot;%Y/%m/%d\u0026quot; ,\u0026quot;%m/%d/%y\u0026quot;))\rdate2\r## [1] \u0026quot;2015-08-06\u0026quot; \u0026quot;2015-03-18\u0026quot;\rclass(date2)\r## [1] \u0026quot;Date\u0026quot;\rå¯ä»¥çœ‹åˆ°å¯¹äºæ ¼å¼ä¸åŒçš„æ•°æ®,å¯ä»¥å°†formatè®¾ç½®ä¸ºå‘é‡.\n\r1.3 å¸¸è§æ—¥æœŸå„ä¸ªå…ƒç´ çš„å†™æ³•åŠç›¸åº”formatçš„å†™æ³•\r1.3.1 å¹´\r\r%Y: 4ä½å®Œæ•´æ•°å­—çš„å¹´.å¦‚2019\n\r%y: 2ä½æ•°å­—çš„å¹´.å¦‚19\n\r\r\r1.3.2 æœˆ\r\r%m: ä¸¤ä½æˆ–è€…ä¸€ä½çš„æœˆ,å¦‚01æˆ–è€…10.\n\r%b: æœˆä»½çš„ç®€å†™,æ¯”å¦‚Jan.\n\r%B: æœˆä»½çš„å…¨å†™,æ¯”å¦‚January.\n\r\r\r1.3.3 æ—¥\r\r%d: ä¸¤ä½æˆ–è€…ä¸€ä½çš„æ—¥,æ¯”å¦‚1æˆ–è€…28.\n\r%d: ä¸¤ä½æˆ–è€…ä¸€ä½çš„æ—¥,æ¯”å¦‚1æˆ–è€…28.\n\r\r\r1.3.4 æ—¶é—´\r\r%H: 0-23å°æ—¶çš„æ—¶é—´æ ¼å¼.\n\r%I: 0-12å°æ—¶çš„æ—¶é—´æ ¼å¼.å¿…é¡»å’Œ%pè”åˆä½¿ç”¨.\n\r%p: a.m.å’Œp.m.\n\r%M: åˆ†é’Ÿ.\n\r%S: æ•´æ•°ç§’.\n\r%OS: çœŸå®ç§’.\n\r%Z: æ—¶åŒº.å¿…é¡»æ˜¯ä¸€ä¸ªåœ°å.å¦‚Americaæˆ–è€…Chicago.\n\r\r## locale-specific version of the date\rformat(Sys.Date(), \u0026quot;%a %b %d\u0026quot;)\r## [1] \u0026quot;Tue Nov 12\u0026quot;\rx \u0026lt;- c(\u0026quot;1jan1960\u0026quot;, \u0026quot;2jan1960\u0026quot;, \u0026quot;31mar1960\u0026quot;, \u0026quot;30jul1960\u0026quot;)\rz \u0026lt;- as.Date(x, \u0026quot;%d%b%Y\u0026quot;)\rz\r## [1] \u0026quot;1960-01-01\u0026quot; \u0026quot;1960-01-02\u0026quot; \u0026quot;1960-03-31\u0026quot; \u0026quot;1960-07-30\u0026quot;\r## read in date/time info in format \u0026#39;m/d/y\u0026#39;\rdates \u0026lt;- c(\u0026quot;02/27/92\u0026quot;, \u0026quot;02/27/92\u0026quot;, \u0026quot;01/14/92\u0026quot;, \u0026quot;02/28/92\u0026quot;, \u0026quot;02/01/92\u0026quot;)\ras.Date(dates, \u0026quot;%m/%d/%y\u0026quot;)\r## [1] \u0026quot;1992-02-27\u0026quot; \u0026quot;1992-02-27\u0026quot; \u0026quot;1992-01-14\u0026quot; \u0026quot;1992-02-28\u0026quot; \u0026quot;1992-02-01\u0026quot;\r## date given as number of days since 1900-01-01 (a date in 1989)\ras.Date(32768, origin = \u0026quot;1900-01-01\u0026quot;)\r## [1] \u0026quot;1989-09-19\u0026quot;\r## Excel is said to use 1900-01-01 as day 1 (Windows default) or\r## 1904-01-01 as day 0 (Mac default), but this is complicated by Excel\r## incorrectly treating 1900 as a leap year.\r## So for dates (post-1901) from Windows Excel\ras.Date(35981, origin = \u0026quot;1899-12-30\u0026quot;) # 1998-07-05\r## [1] \u0026quot;1998-07-05\u0026quot;\r## and Mac Excel\ras.Date(34519, origin = \u0026quot;1904-01-01\u0026quot;) # 1998-07-05\r## [1] \u0026quot;1998-07-05\u0026quot;\r## (these values come from http://support.microsoft.com/kb/214330)\r## Experiment shows that Matlab\u0026#39;s origin is 719529 days before ours,\r## (it takes the non-existent 0000-01-01 as day 1)\r## so Matlab day 734373 can be imported as\ras.Date(734373, origin = \u0026quot;1970-01-01\u0026quot;) - 719529 # 2010-08-23\r## [1] \u0026quot;2010-08-23\u0026quot;\r## (value from\r## http://www.mathworks.de/de/help/matlab/matlab_prog/represent-date-and-times-in-MATLAB.html)\r## Time zone effect\rz \u0026lt;- ISOdate(2010, 04, 13, c(0,12)) # midnight and midday UTC\ras.Date(z) # in UTC\r## [1] \u0026quot;2010-04-13\u0026quot; \u0026quot;2010-04-13\u0026quot;\r## these time zone names are common\ras.Date(z, tz = \u0026quot;NZ\u0026quot;)\r## [1] \u0026quot;2010-04-13\u0026quot; \u0026quot;2010-04-14\u0026quot;\ras.Date(z, tz = \u0026quot;HST\u0026quot;) # Hawaii\r## [1] \u0026quot;2010-04-12\u0026quot; \u0026quot;2010-04-13\u0026quot;\r\r\r\r","date":1572480000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572480000,"objectID":"2164e0a3aa67018be1a9afa936ea9a95","permalink":"/post/2019-10-31-date-summary/","publishdate":"2019-10-31T00:00:00Z","relpermalink":"/post/2019-10-31-date-summary/","section":"post","summary":"1 æ—¥æœŸæ ¼å¼è½¬æ¢ 1.1 æ¯”å¦‚ç¾å›½è¿™è¾¹å¸¸è§çš„æœˆ/æ—¥/å¹´. 1.2 å›½å†…å¸¸è§å¸¸è§çš„å¹´/æœˆ/æ—¥ 1.3 å¸¸è§æ—¥æœŸå„ä¸ªå…ƒç´ çš„å†™æ³•åŠç›¸åº”formatçš„å†™æ³• 1.3.1 å¹´ 1.3.2 æœˆ 1.3.3 æ—¥ 1.3.4 æ—¶é—´ R","tags":["Blog"],"title":"æ—¥æœŸæ—¶é—´æ“ä½œæ€»ç»“","type":"post"},{"authors":null,"categories":["literature"],"content":"\r\r1 Maternal DOB\r2 Age\r3 Marital Status\r4 Ethinic Group\r5 Employed\r6 Housing\r7 Parity\r8 PMH\r9 PSH\r10 OB hx\r11 Genetic testing\r12 \r\r\r1 Maternal DOB\rMaternal date of birth.\n\r2 Age\rMother age.\n\r3 Marital Status\rMothersâ€™ marriage status\n\r\rLable\rMeaning\r\r\r\rMarried, FOB involved\rMarried, FOB involved\r\rUnknown, FOB involved\rUnknown, FOB involved\r\rSingle, FOB involved\rSingle, FOB involved\r\rUnknown\rUnknown\r\rNA\rNA\r\rUnmarried, FOB involved\rUnmarried, FOB involved\r\rUnmarried, FOB involved, but not living together\rUnmarried, FOB involved, but not living together\r\rUnmarried, FOB not involved\rUnmarried, FOB not involved\r\runknown, FOB involved but living separately\runknown, FOB involved but living separately\r\rSingle\rSingle\r\r\r\rNote:\nI donâ€™t know what the meaning of â€œFOB involvedâ€.\n\r4 Ethinic Group\rThe ethnicity of mothers.\n\r\rLable\rMeaning\r\r\r\rAfr Am\rBlack\r\r4 (Asian)\rAsian\r\r1\rWhite\r\r2\rBlack\r\r3\rLatina\r\r4\rPacific Islander\r\r5\rAsian\r\r\r\r\r5 Employed\rThe mothersâ€™ work status.\n\r6 Housing\rHouse status.\n\r7 Parity\rGravidity is defined as the number of times that a woman has been pregnant.\nNote:\n[8] â€œG4P1021â€ â€œG3P1011â€ NA â€œG5P2â€ â€œG5P0â€ â€œG10P3154â€ â€œG3P2002â€\n[15] â€œG4P2012â€ â€œG4P0303â€ â€œG6P5005â€ â€œG14P4-1-8-4â€ â€œG4P3003â€ â€œG7P4115â€ â€œG9P4044â€\n[22] â€œG5P2022â€ â€œG5P2113â€ â€œG5P0040â€ â€œG8P5025â€\nI don not understand what that means.\n\r8 PMH\rI donâ€™t understand what this means, but it may be mothersâ€™s diesease.\n\r9 PSH\rI donâ€™t understand what this means.\n\r10 OB hx\rI donnâ€™t understand what this means.\n\r11 Genetic testing\rGenetic testing for mothers.\n\r12 \r\r","date":1572393600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572393600,"objectID":"31c002ac7216ddd14549ffbca9acae53","permalink":"/post/pregancy-project-participant-information-summary/","publishdate":"2019-10-30T00:00:00Z","relpermalink":"/post/pregancy-project-participant-information-summary/","section":"post","summary":"1 Maternal DOB\r2 Age\r3 Marital Status\r4 Ethinic Group\r5 Employed\r6 Housing\r7 Parity\r8 PMH\r9 PSH\r10 OB hx\r11 Genetic testing\r12 \r\r\r1 Maternal DOB\rMaternal date of birth.\n\r2 Age\rMother age.\n\r3 Marital Status\rMothersâ€™ marriage status\n\r\rLable\rMeaning\r\r\r\rMarried, FOB involved\rMarried, FOB involved\r\rUnknown, FOB involved\rUnknown, FOB involved\r\rSingle, FOB involved\rSingle, FOB involved\r\rUnknown\rUnknown\r\rNA\rNA\r\rUnmarried, FOB involved\rUnmarried, FOB involved\r\rUnmarried, FOB involved, but not living together\rUnmarried, FOB involved, but not living together\r\rUnmarried, FOB not involved\rUnmarried, FOB not involved\r\runknown, FOB involved but living separately\runknown, FOB involved but living separately\r\rSingle\rSingle\r\r\r\rNote:","tags":["Blog"],"title":"Pregancy project participant information summary","type":"post"},{"authors":null,"categories":["Study"],"content":"\r\r1 Markdowné€šç”¨æŠ€å·§\r1.1 å¦‚ä½•åœ¨markdownä¸­ä½¿ç”¨font?\r1.2 å¦‚ä½•åœ¨markdownä¸­æ’å…¥è„šæ³¨?\r\r2 Rmarkdown\r\r\r1 Markdowné€šç”¨æŠ€å·§\r1.1 å¦‚ä½•åœ¨markdownä¸­ä½¿ç”¨font?\rå‚è€ƒæ–‡æ¡£:https://sspai.com/post/45217\nåœ¨markdownæ–‡æ¡£ä»»æ„åœ°æ–¹æ’å…¥ä¸‹é¢çš„ä»£ç :\n\u0026lt;head\u0026gt; \u0026lt;script defer src=\u0026quot;https://use.fontawesome.com/releases/v5.0.13/js/all.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script defer src=\u0026quot;https://use.fontawesome.com/releases/v5.0.13/js/v4-shims.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;link rel=\u0026quot;stylesheet\u0026quot; href=\u0026quot;https://use.fontawesome.com/releases/v5.0.13/css/all.css\u0026quot;\u0026gt;\rç„¶åä½¿ç”¨ä¸‹åˆ—è¯­å¥æ’å…¥font:\n\u0026lt;i class=\u0026quot;fa fa-weixin\u0026quot;\u0026gt;\u0026lt;/i\u0026gt;\ræ˜¾ç¤º:\n\r1.2 å¦‚ä½•åœ¨markdownä¸­æ’å…¥è„šæ³¨?\råœ¨æ­£æ–‡ä¸­æ’å…¥:\nYou can create footnotes like this[^footnote].\rç„¶ååœ¨å‚è€ƒæ–‡çŒ®åœ°æ–¹æ’å…¥:\n[^footnote]: Here is the *text* of the **footnote**.\ræ˜¾ç¤ºå¦‚ä¸‹:\nYou can create footnotes like this1.\n\r\r2 Rmarkdown\r\r\rHere is the text of the footnote.â†©\n\r\r\r","date":1572307200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572307200,"objectID":"2de729c5180bc68002a15fd8d67499e1","permalink":"/post/markdown-cookbook/","publishdate":"2019-10-29T00:00:00Z","relpermalink":"/post/markdown-cookbook/","section":"post","summary":"1 Markdowné€šç”¨æŠ€å·§ 1.1 å¦‚ä½•åœ¨markdownä¸­ä½¿ç”¨font? 1.2 å¦‚ä½•åœ¨markdownä¸­æ’å…¥è„šæ³¨? 2 Rmarkdown 1 Markdowné€šç”¨æŠ€å·§ 1.1 å¦‚ä½•åœ¨","tags":["Chinese"],"title":"Markdown cookbook","type":"post"},{"authors":null,"categories":["life"],"content":"\r\r1 Email\r1.1 Fare thee well (å†ä¼šå§)\r1.2 November 3, 2019 Request\r1.3 Thanksgiving\r1.4 Desktop PC fixing\r1.5 Postdoc hike\r1.6 Thanksgiving dinner\r\r2 Oral communication\r2.1 Açš„å‘éŸ³\r\r3 æ—¥å¸¸ç”¨å“å•è¯\r3.1 èƒ¶å¸¦\r\r\r\rè¿™ç¯‡åšå®¢ç”¨æ¥è®°å½•åœ¨ç¾å›½è·Ÿç¾å›½äººæ‰“äº¤é“çš„æ—¶å€™å­¦åˆ°çš„è‹±è¯­,åŒ…æ‹¬å£è¯­,é‚®ä»¶,ä¹¦é¢å’Œæ–‡ç« ç­‰ç­‰.\n1 Email\r1.1 Fare thee well (å†ä¼šå§)\rHi everyone,\nIâ€™m excited and surprised to announce that I have accepted an offer to become the xxx at xxx. My last day at Stanford will be Friday, Nov 15.\nAfter nearly twelve years at Stanford â€“ the last eight in xxx â€“ Iâ€™m filled with gratitude and pride to have been even a small part of the remarkable work you amazing people do every day. It has been the privilege of a lifetime to work with so many dedicated and talented and tireless and splendid people. Iâ€™ve benefitted from your knowledge, your creativity, your patience, friendship, and faith, and Iâ€™ve received far more than I could ever repay. My endless thanks to you all.\nYours,\nxxx\nè¿™å°é‚®ä»¶æ˜¯ç³»é‡Œé¢çš„ä¸€ä½å·¥ä½œäººå‘˜è¦ç¦»å¼€Stanfordå‘ç»™å¤§å®¶çš„å†è§ä¿¡.æ„Ÿè§‰å†™çš„éå¸¸å¥½.å€¼å¾—æˆ‘å¥½å¥½å­¦ä¹ .\n\r1.2 November 3, 2019 Request\rHi Jasper,\nI put you on the schedule for this upcoming Sunday. I will be out of town, so please let me know as soon as possible if you are able to help out(è¿™ä¸ªç”¨æ³•ç¬¬ä¸€æ¬¡è§help out). Remember to come by (ç±»ä¼¼äºstop by) 6:30 to welcome people, and stick around (é€—ç•™) for a few minutes afterward to help any newcomers get plugged in(è¿™ä¸ªç¬¬ä¸€æ¬¡è§è¿™ä¸ªæ„æ€). Let me know if you have any questions! Thanks for all you do.\nThanks,\nxxx\nè¿™å°é‚®ä»¶æ˜¯ä¸€ä¸ªç»„ç»‡çš„å‘¨æœ«èšä¼šè¦æ±‚æˆ‘è¿‡å»å½“å¿—æ„¿è€…çš„.å­¦åˆ°çš„çŸ¥è¯†,åŒ…æ‹¬: help out, come by, stick around, get plugged inç­‰.\n\r1.3 Thanksgiving\rYou are invited to xxxâ€™s Thanksgiving Potluck (å®¶å¸¸ä¾¿é¥­,ç¾åˆ†è‡ªå¸¦ä¸€ä¸ªèœçš„å®¶åº­èšä¼š) at his home ~ xxx November 28, 2019.\nIf you are able to attend please let us know what potluck item you would like to bring \u0026amp; if you plan to come for football (to play or cheer from the sidelines(çƒåœºçš„è¾¹çº¿,åœºè¾¹)).\nPlease use the following link to sign up:\n\r1.4 Desktop PC fixing\rHi xxx,\nWe were able to find the drivers for the Desktop and we will start the re-imaging process.\nI will let you know when this is completed.\nThank you.\rxxx\rField Service Technician\rTechnology \u0026amp; Digital Solutions\rStanford Health Care\n\r1.5 Postdoc hike\rHello Postdocs,\nWhat: SURPAS Hike\nWhen: Sunday, November 17, 2019\n9 am at the Stanford Oval (for carpools), 9:45 am at the trailhead\nWhere: Sweeny Ridge Loop\nWe will hike the Sweeny Ridge loop near Pacifica. This is a 5.7 mile intermediate loop hike with 954 feet of elevation (æµ·æ‹”) and 360-degree views. We should be able to complete the hike in around (æ›´é€‚åˆä½¿ç”¨aroundè€Œä¸æ˜¯about) 3-4 hours. This hike is dog friendly!\nPlease register here (more details will be provided before the hike)\nMore info: Route description\nPlease consider driving (conder doing sth) a carpool for your fellow postdocs that (æ„Ÿè§‰æ›´åº”è¯¥æ˜¯who?) donâ€™t have cars, we will give you priority in signing up. You can drive a carpool from San Francisco area or from Stanford.\nWe will limit our group size to 20 participants, so please sign up soon and let us know if you canâ€™t make it.\nâ€“SURPAS Sports Committee\n\r1.6 Thanksgiving dinner\rFolks,\nI look forward to seeing those who are able to come.\nFootball at 12:30 PM, dinner at 3:00 PM\n\rIt is not supposed to rain so I think that football will still be on. You might bring some extra clothes and shoes in case you get muddy(å˜å¾—æ³¥æ³,å‘ç°getæ˜¯ä¸‡èƒ½çš„).\n\rIf it is rainy I will post on the sign up sheet by noon whether we are playing or not. You can also text me at xxxx.\n\rIt is supposed to be a bit cold so likely we will eat inside this year, but we will have some heaters for those who like the cool air.\n\r\rPlease do(ä¸€å®š,ç¡®ä¿,åŠ¡å¿…,å¼ºè°ƒçš„æ„Ÿè§‰) sign up to help with the head count(ç‚¹äººå¤´,å¥½å£è¯­åŒ–çš„è¯´æ³•).\rSee you soon.\nBest,\nxxx\nå­¦åˆ°çš„å†…å®¹:\n\rIt is (not) supposted to do something: åº”è¯¥ä¸ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ….\n\rIt is rainy: ä¸‹é›¨å¤©\n\rhead count: ç‚¹äººå¤´,è®°äººæ•°.\n\r\r\r\r2 Oral communication\r2.1 Açš„å‘éŸ³\rå·²çŸ¥åˆ†ä¸æ¸…Aä»€ä¹ˆæ—¶å€™æ˜¯Ã¦çš„å‘éŸ³,ä»€ä¹ˆæ—¶å€™eçš„å‘éŸ³.åæ¥é—®ä¸€ä¸ªæœ‹å‹,ä»–è¯´ä¸€èˆ¬é•¿å•è¯æ˜¯Ã¦,çŸ­å•è¯æ˜¯e.æ¯”å¦‚â€œAdaâ€,éŸ³æ ‡ä¸º/e di e/,è¯»éŸ³ä¸º/e di e/.è€Œâ€œAppleâ€,éŸ³æ ‡ä¸º/ËˆÃ¦pl/è¯»éŸ³ä¸º/ËˆÃ¦pl/.\n\r\r3 æ—¥å¸¸ç”¨å“å•è¯\r3.1 èƒ¶å¸¦\rèƒ¶å¸¦å«åštape,é€æ˜èƒ¶å¸¦å«åšScotch tape.\n\r\r","date":1572307200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572307200,"objectID":"7215e9850c37f2adf691bdb7427b8e75","permalink":"/post/english-study/","publishdate":"2019-10-29T00:00:00Z","relpermalink":"/post/english-study/","section":"post","summary":"1 Email 1.1 Fare thee well (å†ä¼šå§) 1.2 November 3, 2019 Request 1.3 Thanksgiving 1.4 Desktop PC fixing 1.5 Postdoc hike 1.6 Thanksgiving dinner 2 Oral communication 2.1 Açš„å‘éŸ³ 3 æ—¥å¸¸ç”¨å“å•è¯ 3.1 èƒ¶å¸¦ è¿™ç¯‡åšå®¢ç”¨æ¥è®°å½•åœ¨ç¾å›½è·Ÿç¾å›½äººæ‰“äº¤é“çš„æ—¶å€™å­¦åˆ°çš„","tags":["Blog"],"title":"è‹±è¯­å­¦ä¹ ","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 å¯¹è¡Œè¿›è¡Œç­›é€‰:filter_xxx()ç³»åˆ—å‡½æ•°\r1.1 filter_all()å‡½æ•°\r\r\r\r1 å¯¹è¡Œè¿›è¡Œç­›é€‰:filter_xxx()ç³»åˆ—å‡½æ•°\r1.1 filter_all()å‡½æ•°\rfilter_all()å‡½æ•°å¯ä»¥å¯¹æ‰€æœ‰çš„åˆ—è¿›è¡Œåˆ¤æ–­ä»è€Œå¯¹è¡Œè¿›è¡Œç­›é€‰.\næ¯”å¦‚æˆ‘æƒ³å¯¹mtcarsæ•°æ®é›†è¿›è¡Œç­›é€‰,å¯¹äºæ¯ä¸€è¡Œ,åªæœ‰æ¯ä¸€è¡Œçš„å€¼éƒ½å¤§äº150æ‰ä¿ç•™ä¸‹æ¥.\nlibrary(tidyverse)\r## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1\r## -- Attaching packages ------------------------------------------------------------------------------------ tidyverse 1.2.1 --\r## v ggplot2 3.2.1 v purrr 0.3.2\r## v tibble 2.1.3 v dplyr 0.8.3\r## v tidyr 1.0.0 v stringr 1.4.0\r## v readr 1.3.1 v forcats 0.4.0\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tibble\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tidyr\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 3.6.1\r## -- Conflicts --------------------------------------------------------------------------------------- tidyverse_conflicts() --\r## x dplyr::filter() masks stats::filter()\r## x dplyr::lag() masks stats::lag()\rfilter_all(mtcars, all_vars(. \u0026gt; 150))\r## [1] mpg cyl disp hp drat wt qsec vs am gear carb\r## \u0026lt;0 rows\u0026gt; (or 0-length row.names)\rå¦‚æœåªè¦ä»»æ„ä¸€è¡Œå¤§äº150,å°±ä¿ç•™ä¸‹æ¥,é‚£ä¹ˆå¯ä»¥è¿™ä¹ˆå†™:\nfilter_all(mtcars, any_vars(. \u0026gt; 150))\r## mpg cyl disp hp drat wt qsec vs am gear carb\r## 1 21.0 6 160.0 110 3.90 2.620 16.46 0 1 4 4\r## 2 21.0 6 160.0 110 3.90 2.875 17.02 0 1 4 4\r## 3 21.4 6 258.0 110 3.08 3.215 19.44 1 0 3 1\r## 4 18.7 8 360.0 175 3.15 3.440 17.02 0 0 3 2\r## 5 18.1 6 225.0 105 2.76 3.460 20.22 1 0 3 1\r## 6 14.3 8 360.0 245 3.21 3.570 15.84 0 0 3 4\r## 7 19.2 6 167.6 123 3.92 3.440 18.30 1 0 4 4\r## 8 17.8 6 167.6 123 3.92 3.440 18.90 1 0 4 4\r## 9 16.4 8 275.8 180 3.07 4.070 17.40 0 0 3 3\r## 10 17.3 8 275.8 180 3.07 3.730 17.60 0 0 3 3\r## 11 15.2 8 275.8 180 3.07 3.780 18.00 0 0 3 3\r## 12 10.4 8 472.0 205 2.93 5.250 17.98 0 0 3 4\r## 13 10.4 8 460.0 215 3.00 5.424 17.82 0 0 3 4\r## 14 14.7 8 440.0 230 3.23 5.345 17.42 0 0 3 4\r## 15 15.5 8 318.0 150 2.76 3.520 16.87 0 0 3 2\r## 16 15.2 8 304.0 150 3.15 3.435 17.30 0 0 3 2\r## 17 13.3 8 350.0 245 3.73 3.840 15.41 0 0 3 4\r## 18 19.2 8 400.0 175 3.08 3.845 17.05 0 0 3 2\r## 19 15.8 8 351.0 264 4.22 3.170 14.50 0 1 5 4\r## 20 19.7 6 145.0 175 3.62 2.770 15.50 0 1 5 6\r## 21 15.0 8 301.0 335 3.54 3.570 14.60 0 1 5 8\rå¯ä»¥çœ‹åˆ°,ffilter_all()ç»å¸¸å’Œall_vars()å’Œany_vals()å‡½æ•°æ­é…ä½¿ç”¨.\n\r\r","date":1572220800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572220800,"objectID":"08bc231fa486924f7a4d5481cd485d82","permalink":"/post/2019-10-28-dplyr-cookbook/","publishdate":"2019-10-28T00:00:00Z","relpermalink":"/post/2019-10-28-dplyr-cookbook/","section":"post","summary":"1 å¯¹è¡Œè¿›è¡Œç­›é€‰:filter_xxx()ç³»åˆ—å‡½æ•° 1.1 filter_all()å‡½æ•° 1 å¯¹è¡Œè¿›è¡Œç­›é€‰:filter_xxx()ç³»åˆ—å‡½æ•° 1.1 filter","tags":["Blog"],"title":"dplyr cookbook","type":"post"},{"authors":null,"categories":["R"],"content":"\rggthemesæ˜¯ggplot2çš„ä¸€ä¸ªä¸»é¢˜æ‰©å±•åŒ….å«æœ‰ggplot2çš„å¤šä¸ªæ‰©å±•ä¸»é¢˜.å®˜ç½‘å‚è€ƒæ–‡æ¡£è§ä¸‹é¢é“¾æ¥:\nå®‰è£…\r# ä»CRANå®‰è£…\rinstall.packages(\u0026#39;ggthemes\u0026#39;, dependencies = TRUE)\r# ä»githubå®‰è£…\rlibrary(\u0026quot;devtools\u0026quot;)\rinstall_github(c(\u0026quot;hadley/ggplot2\u0026quot;, \u0026quot;jrnold/ggthemes\u0026quot;))\r\rä¸»é¢˜\rggthemesæä¾›çš„æœ€ç›´æ¥çš„å°±æ˜¯ä¸»é¢˜.å¯ä»¥ç›´æ¥åœ¨ggplot2å¯¹è±¡åé€šè¿‡+å¥½æ·»åŠ ä¸»é¢˜.\ntheme_base()ä¸»é¢˜\rlibrary(\u0026quot;ggplot2\u0026quot;)\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\rlibrary(ggthemes)\r## Warning: package \u0026#39;ggthemes\u0026#39; was built under R version 3.6.1\r(\rp \u0026lt;- ggplot(mtcars) + geom_point(aes(x = wt, y = mpg,\rcolour = factor(gear))) + facet_wrap(~am)\r)\rp + theme_base()\rtheme_base()æœ‰ä¸¤ä¸ªå‚æ•°,base_sizeå’Œbase_family,åˆ†åˆ«ç”¨æ¥è®¾ç½®å›¾ç‰‡ä¸­æ‰€æœ‰å­—ä½“çš„é¢œè‰²å’Œå­—ä½“.\n\rtheme_calc()ä¸»é¢˜\rlibrary(\u0026quot;ggplot2\u0026quot;)\rlibrary(ggthemes)\r(\rp \u0026lt;- ggplot(mtcars) + geom_point(aes(x = wt, y = mpg,\rcolour = factor(gear))) + facet_wrap(~am)\r)\rp + theme_calc()\rè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„ä¸»é¢˜,å¯ä»¥ç›´æ¥å‚è€ƒå®˜æ–¹ç½‘ç«™.\n\r\ré¢œè‰²æ ‡åº¦\rggthemes()åŒæ ·ä¹Ÿæä¾›äº†é¢œè‰²æ ‡åº¦.\nè‰²ç›²å‹å¥½å‹é¢œè‰²è°ƒè‰²æ¿å’Œæ ‡åº¦\rå¯ä»¥å‚è€ƒå¦‚ä¸‹ç½‘å€:\nhttp://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#a-colorblind-friendly-palette\nä¸€å…±åŒ…æ‹¬å››ä¸ªå‡½æ•°:\ncolorblind_pal(),scale_colour_colorblind(),scale_color_colorblind()å’Œscale_fill_colorblind().ç”¨äºåˆ†æ•£æ€§çš„æ•°æ®.\nlibrary(\u0026quot;ggplot2\u0026quot;)\rlibrary(\u0026quot;scales\u0026quot;)\rlibrary(ggthemes)\rshow_col(colorblind_pal()(8))\r##è¯¥å‡½æ•°ç”¨æ¥ç»™å‡ºæœ€å¤š8ç§é¢œè‰²çš„åå­—\rlibrary(\u0026quot;ggplot2\u0026quot;)\rlibrary(\u0026quot;scales\u0026quot;)\rlibrary(ggthemes)\rshow_col(colorblind_pal()(8))\r##è¯¥å‡½æ•°ç”¨æ¥ç»™å‡ºæœ€å¤š8ç§é¢œè‰²çš„åå­—\r(\rp \u0026lt;- ggplot(mtcars) + geom_point(aes(x = wt, y = mpg,\rcolour = factor(gear))) + facet_wrap(~am)\r)\rp + theme_igray() + scale_colour_colorblind()\rscale_fill_colorblind()å‡½æ•°å’Œcolourå‡½æ•°ç›¸åŒ,åªæ˜¯ç”¨æ¥å¡«å…….\nè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„é¢œè‰²æ ‡åº¦æ‰©å±•,è¯¦æƒ…å¯ä»¥çœ‹å…¶å®˜æ–¹ç½‘ç«™.\n\r\rå½¢çŠ¶æ ‡åº¦\rç»™ç¾å­¦å‚æ•°shapeæ¥æä¾›æ‰©å±•.\nscale_shape_calc()\r(\rp \u0026lt;- ggplot(mtcars) + geom_point(aes(x = wt, y = mpg,\rshape = factor(gear))) + facet_wrap(~am)\r)\rp + scale_shape_calc()\r\r\rçº¿æ€§æ ‡åº¦\rç»™ç¾å­¦å‚æ•°linetypeæ¥æä¾›æ‰©å±•.\nscale_linetype_stata()\rlibrary(ggplot2)\rrequire(ggthemes)\r(\rp \u0026lt;- ggplot(mtcars,aes(mpg, wt)) +\rgeom_line(aes(linetype = factor(gear)))\r) \rp +\rscale_linetype_stata()\r\r\ré¢œè‰²,å½¢çŠ¶å’Œçº¿æ€§è°ƒè‰²æ¿\ræä¾›äº†éå¸¸å¤šçš„è‰²æ¿,å¯ä»¥çœ‹å®˜ç½‘.\nlibrary(ggthemes)\rlibrary(scales)\rshow_col(few_pal(palette = \u0026quot;Light\u0026quot;)(8))\rshow_col(few_pal(palette = \u0026quot;Medium\u0026quot;)(8))\rshow_col(few_pal(palette = \u0026quot;Dark\u0026quot;)(8))\r\rå‡ ä½•å¯¹è±¡å’Œç»Ÿè®¡å˜æ¢å‡½æ•°\rRange Framesgeom_rangeframe\rè¯¥å‡½æ•°æ˜¯ç”¨æ¥ç»™è½´åŠ ä¸Šç›´çº¿çš„.çœ‹ä»¥ä¸‹ä¾‹å­.ä¸å…¶ä»–å‡ ä½•å¯¹è±¡å‚æ•°ä¸€æ ·,ä»–ä¹Ÿå¯ä»¥æ¥å—ä¸€äº›å¸¸è§çš„å‚æ•°.\nlibrary(\u0026quot;ggplot2\u0026quot;)\rlibrary(ggthemes)\r(\rp \u0026lt;- ggplot(mtcars, aes(wt, mpg)) +\rgeom_point() )\rp +\rgeom_rangeframe(colour = \u0026quot;red\u0026quot;)\rp +\rgeom_rangeframe(colour = \u0026quot;red\u0026quot;, linetype = 2)\rp +\rgeom_rangeframe(colour = \u0026quot;red\u0026quot;, linetype = 2, sides = \u0026quot;top\u0026quot;)\rp +\rgeom_rangeframe(colour = \u0026quot;red\u0026quot;, linetype = 2, sides = c(\u0026quot;top\u0026quot;)) +\rgeom_rangeframe(colour = \u0026quot;red\u0026quot;, linetype = 2, sides = c(\u0026quot;right\u0026quot;))\r\rTufteâ€™s Box Plot\rlibrary(\u0026quot;ggplot2\u0026quot;)\rlibrary(ggthemes)\r(\rp \u0026lt;- ggplot(mtcars, aes(factor(cyl), mpg))\r)\r# with a point for the median and lines for whiskers\rp + geom_tufteboxplot()\r# with a line for the interquartile range and points for whiskers\rp + geom_tufteboxplot(median.type = \u0026quot;line\u0026quot;, whisker.type = \u0026quot;point\u0026quot;, hoffset = 0)\r# with a wide line for the interquartile range and lines for whiskers\rp + geom_tufteboxplot(median.type = \u0026quot;line\u0026quot;, hoffset = 0, width = 3)\r## Warning: position_dodge requires non-overlapping x intervals\r# with an offset line for the interquartile range and lines for whiskers\rp + geom_tufteboxplot(median.type = \u0026quot;line\u0026quot;)\r# combined with theme_tufte\rp + geom_tufteboxplot() +\rtheme_tufte() +\rtheme(axis.ticks.x = element_blank())\r\r\r","date":1572220800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572220800,"objectID":"8b72b105e5a7f4de1073719b70b41a45","permalink":"/post/2019-10-28-ggplot2-ggthemes/ggplot2-ggthemes/","publishdate":"2019-10-28T00:00:00Z","relpermalink":"/post/2019-10-28-ggplot2-ggthemes/ggplot2-ggthemes/","section":"post","summary":"ggthemesæ˜¯ggplot2çš„ä¸€ä¸ªä¸»é¢˜æ‰©å±•åŒ….å«æœ‰ggplot2çš„å¤šä¸ªæ‰©å±•ä¸»é¢˜.å®˜ç½‘å‚è€ƒæ–‡æ¡£è§ä¸‹é¢é“¾æ¥: å®‰è£… # ä»CRANå®‰è£… install.packages(\u0026#39;ggthemes\u0026#39;, dependencies = TRUE) # ä»","tags":["Blog"],"title":"ggplot2ä¸»é¢˜æ‰©å……åŒ…-ggthemes","type":"post"},{"authors":null,"categories":["literature"],"content":"\rå¦‚ä½•å¯¹æŸä¸ªå½±å“å› å­èŒƒå›´å†…çš„æ–‡ç« è¿›è¡Œç­›é€‰?\rå¯ä»¥å‚è€ƒä¸‹é¢çš„è¿æ¥.\nhttp://blog.scholarscope.cn/tutorial/pubmed-filter-longterm/\n\rå¦‚ä½•æŸ¥çœ‹æœŸåˆŠå½±å“å› å­?\rhttps://www.scholarscope.cn/tools.html\nç‚¹å‡»è¯¥ç½‘å€,ç„¶åç‚¹å‡»æŸ¥è¯¢æœŸåˆŠå½±å“å› å­.\n\r","date":1572220800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572220800,"objectID":"00a08616bb3119dfdf476d8bbc4eb323","permalink":"/post/pubmed-scholarscoop-summary/","publishdate":"2019-10-28T00:00:00Z","relpermalink":"/post/pubmed-scholarscoop-summary/","section":"post","summary":"å¦‚ä½•å¯¹æŸä¸ªå½±å“å› å­èŒƒå›´å†…çš„æ–‡ç« è¿›è¡Œç­›é€‰? å¯ä»¥å‚è€ƒä¸‹é¢çš„è¿æ¥. http://blog.scholarscope.cn/tutorial/pubmed-filter-longterm/ å¦‚ä½•æŸ¥çœ‹æœŸåˆŠå½±å“å› å­? https://www.scholarscope.cn/tools.html ç‚¹å‡»è¯¥ç½‘å€,ç„¶åç‚¹å‡»æŸ¥è¯¢æœŸåˆŠå½±å“å› å­.","tags":["Blog"],"title":"pubmedæ’ä»¶scholarscoopä½¿ç”¨æ€»ç»“","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 Rä¸€äº›å¸¸ç”¨å°å‘½ä»¤\r1.1 ç³»ç»Ÿç›¸å…³\r1.1.1 é‡å¯R session\r\r\r\r\r1 Rä¸€äº›å¸¸ç”¨å°å‘½ä»¤\r1.1 ç³»ç»Ÿç›¸å…³\r1.1.1 é‡å¯R session\r.rs.restartR()\r\r\r\r","date":1572220800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572220800,"objectID":"c63c6d719b97dc86a542392413b3dca3","permalink":"/post/2019-11-10-r-cookbook/","publishdate":"2019-10-28T00:00:00Z","relpermalink":"/post/2019-11-10-r-cookbook/","section":"post","summary":"1 Rä¸€äº›å¸¸ç”¨å°å‘½ä»¤ 1.1 ç³»ç»Ÿç›¸å…³ 1.1.1 é‡å¯R session 1 Rä¸€äº›å¸¸ç”¨å°å‘½ä»¤ 1.1 ç³»ç»Ÿç›¸å…³ 1.1.1 é‡å¯R session .rs.restartR()","tags":["Blog","Chinese"],"title":"R cookbook","type":"post"},{"authors":null,"categories":["literature"],"content":"\r\n\r\n\r\n\r\n","date":1572220800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572220800,"objectID":"6c28de65440c7aaa0563b61bbbfa647d","permalink":"/post/mendeley-summary/","publishdate":"2019-10-28T00:00:00Z","relpermalink":"/post/mendeley-summary/","section":"post","summary":"","tags":["Blog"],"title":"æ–‡çŒ®ç®¡ç†å·¥å…·mendeleyä½¿ç”¨æ€»ç»“","type":"post"},{"authors":null,"categories":["Mass Spectrometry"],"content":"\r\r1 MS\r1.1 Forevacuum presure too high.\r\r\r\r1 MS\r1.1 Forevacuum presure too high.\rå‡ ä¸ªåŸå› :\nion transfer tubeå µäº†,æ´—ä¸€ä¸‹è¯•è¯•.\n\rå¤§æ¦‚ç‡æ˜¯needleå µäº†,ä¸€èˆ¬åªèƒ½é‡æ–°æ¢ä¸ªæ–°çš„needle.\n\ræ¸©åº¦å¤ªä½,æ¯”å¦‚320åº¦å°±ä¸è¡Œ,æ¸©åº¦å¤ªä½å¯¼è‡´ç¦»å­åŒ–ç¨‹åº¦ä¸å¤Ÿ.\n\rèƒ½å¤Ÿåšçš„éƒ½åšäº†,è¿˜æ˜¯è§£å†³ä¸äº†,ç„¶åå†²äº†å¤§æ¦‚å‡ ä¸ªå°æ—¶,è‡ªå·±å˜å¥½äº†â€¦.\n\r\r\r\r","date":1572220800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572220800,"objectID":"de841ae2a6a68b846d58de6da7f6cc1f","permalink":"/post/ms-summary/","publishdate":"2019-10-28T00:00:00Z","relpermalink":"/post/ms-summary/","section":"post","summary":"1 MS 1.1 Forevacuum presure too high. 1 MS 1.1 Forevacuum presure too high. å‡ ä¸ªåŸå› : ion transfer tubeå µäº†,æ´—ä¸€ä¸‹è¯•è¯•. å¤§æ¦‚ç‡æ˜¯needleå µäº†,ä¸€èˆ¬åªèƒ½é‡æ–°æ¢ä¸ªæ–°çš„needle. æ¸©åº¦å¤ªä½,æ¯”","tags":["Blog","Chinese"],"title":"è´¨è°±å¸¸è§é—®é¢˜æ€»ç»“","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 ç³»ç»Ÿ\r1.1 ä¿å­˜ggplot2å¯¹è±¡æ—¶æŠ¥é”™.\r\r\r\rè¿™ç¯‡åšå®¢ç”¨æ¥è®°å½•Rå¸¸è§çš„é”™åŠå…¶å™¨è§£å†³åŠæ³•.\n1 ç³»ç»Ÿ\r1.1 ä¿å­˜ggplot2å¯¹è±¡æ—¶æŠ¥é”™.\rä½¿ç”¨ggraphç”»å›¾ä¹‹å,ä¿å­˜æŠ¥é”™.\né”™è¯¯å¦‚ä¸‹:\n\rError in grid.Call.graphics(C_text, as.graphicsAnnot(x\\(label), x\\)x, x$y, : invalid font type Traceback:\n\rå¾ˆæ˜æ˜¾æ—¶å­—ä½“çš„é”™è¯¯,ä½†æ˜¯åœ¨set_graph_styleä»¥åŠtheme_graphè®¾ç½®å­—ä½“ä¹‹å,è¿˜æ˜¯ä¸è¡Œ,ä»ç„¶æŠ¥é”™.\nset_graph_style(family = \u0026quot;Arial\u0026quot;)#é»˜è®¤ä¸º\u0026#39;Arial Narrow\u0026#39;\rtheme_graph(base_family = \u0026#39;Arial\u0026#39;)\rä½¿ç”¨extrafontåŒ…å¯¼å…¥å­—ä½“:\nextrafont::font_import()\ré‡å¯Rå’ŒRstuio.ç„¶åå…ˆloadå­—ä½“.\nextrafont::loadfonts()\rç„¶åç”»å›¾å†ä¿å­˜.\n\r\r","date":1572048000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572048000,"objectID":"84c756c742a61b3bef0e09ff36aa09bc","permalink":"/post/r-error-summary/","publishdate":"2019-10-26T00:00:00Z","relpermalink":"/post/r-error-summary/","section":"post","summary":"1 ç³»ç»Ÿ 1.1 ä¿å­˜ggplot2å¯¹è±¡æ—¶æŠ¥é”™. è¿™ç¯‡åšå®¢ç”¨æ¥è®°å½•Rå¸¸è§çš„é”™åŠå…¶å™¨è§£å†³åŠæ³•. 1 ç³»ç»Ÿ 1.1 ä¿å­˜ggplot2å¯¹è±¡æ—¶æŠ¥é”™. ä½¿ç”¨ggraphç”»å›¾ä¹‹","tags":["Blog"],"title":"Rå¸¸è§é”™è¯¯æ€»ç»“","type":"post"},{"authors":null,"categories":["R"],"content":"\rè®°å½•ä½¿ç”¨ä¸€äº›Rè¯­è¨€åŒ…ä¸‹è½½KEGGæ•°æ®åº“.\n#get the ID of all hsa pathways\rKEGGREST::listDatabases()\rpath_ID \u0026lt;- KEGGREST::keggList(organism = \u0026quot;hsa\u0026quot;, database = \u0026quot;pathway\u0026quot;) %\u0026gt;% names() %\u0026gt;% unique() %\u0026gt;% stringr::str_replace_all(., \u0026quot;path:\u0026quot;, \u0026quot;\u0026quot;)\rdir.create(path = \u0026quot;kegg_pathway\u0026quot;)\rsetwd(\u0026quot;kegg_pathway/\u0026quot;)\rnode_info \u0026lt;- vector(mode = \u0026quot;list\u0026quot;, length = length(path_ID))\redge_info \u0026lt;- vector(mode = \u0026quot;list\u0026quot;, length = length(path_ID))\rfor(i in i:length(path_ID)){\rcat(i, \u0026quot; \u0026quot;)\rtemp_kgml \u0026lt;- get_KGML(pathwayid = path_ID[i])\rif(is.na(temp_kgml)){\rnext()\r}\r# slot(object = temp_kgml, name = \u0026quot;pathwayInfo\u0026quot;)\r#Download a static pathway image (png file) to working directory:\rtemp_image_link \u0026lt;- slot(slot(temp_kgml, \u0026quot;pathwayInfo\u0026quot;), \u0026quot;image\u0026quot;)\rdownload.file(temp_image_link, basename(temp_image_link), mode = \u0026quot;wb\u0026quot;)\rtemp_kegg_mappings \u0026lt;- expand_KEGG_mappings(KGML_file = temp_kgml)\rtemp_kegg_edges \u0026lt;- expand_KEGG_edges(temp_kgml, temp_kegg_mappings)\r#Modify existing data sets; specify as nodes and edges\rtemp_node_mapping_info \u0026lt;- node_mapping_info(temp_kegg_mappings)\rtemp_edge_mapping_info \u0026lt;- edge_mapping_info(temp_kegg_edges)\r#Create an igraph object\r# kegg_graph \u0026lt;- get_graph_object(temp_node_mapping_info, temp_edge_mapping_info)\redge_info[[i]] \u0026lt;- temp_kegg_edges\rnode_info[[i]] \u0026lt;- temp_node_mapping_info\rtemp_kegg_nodes \u0026lt;- temp_node_mapping_info\r}\rsave(node_info, file = \u0026quot;node_info\u0026quot;)\rsave(edge_info, file = \u0026quot;edge_info\u0026quot;)\rpath_name \u0026lt;- KEGGREST::keggList(organism = \u0026quot;hsa\u0026quot;, database = \u0026quot;pathway\u0026quot;) %\u0026gt;% unname()\rpath_name_id \u0026lt;- paste(path_ID, path_name, sep = \u0026quot;;\u0026quot;)\rfor(i in 1:length(path_name_id)){\rcat(i, \u0026quot; \u0026quot;)\rif(!is.null(node_info[[i]])){\rtemp \u0026lt;- node_info[[i]]\rtemp[,3] \u0026lt;- lapply(temp[,3], function(x) paste(x, collapse = \u0026quot;;\u0026quot;)) %\u0026gt;% unlist()\rtemp[,4] \u0026lt;- lapply(temp[,4], function(x) paste(x, collapse = \u0026quot;;\u0026quot;)) %\u0026gt;% unlist()\rtemp[,13] \u0026lt;- lapply(temp[,13], function(x) paste(x, collapse = \u0026quot;;\u0026quot;)) %\u0026gt;% unlist()\rtemp[,14] \u0026lt;- lapply(temp[,14], function(x) paste(x, collapse = \u0026quot;;\u0026quot;)) %\u0026gt;% unlist()\rreadr::write_csv(temp[,-c(6,7,8,9,10,11,12,13,17,18)], paste(path_ID[i], \u0026quot;_node_info.csv\u0026quot;, sep = \u0026quot;\u0026quot;))\r}\rif(!is.null(edge_info[[i]])){\rtemp \u0026lt;- edge_info[[i]]\r# temp[,3] \u0026lt;- lapply(temp[,3], function(x) paste(x, collapse = \u0026quot;;\u0026quot;)) %\u0026gt;% unlist()\r# temp[,4] \u0026lt;- lapply(temp[,4], function(x) paste(x, collapse = \u0026quot;;\u0026quot;)) %\u0026gt;% unlist()\r# temp[,13] \u0026lt;- lapply(temp[,13], function(x) paste(x, collapse = \u0026quot;;\u0026quot;)) %\u0026gt;% unlist()\r# temp[,14] \u0026lt;- lapply(temp[,14], function(x) paste(x, collapse = \u0026quot;;\u0026quot;)) %\u0026gt;% unlist()\rreadr::write_csv(temp, paste(path_ID[i], \u0026quot;_edge_info.csv\u0026quot;, sep = \u0026quot;\u0026quot;))\r}\r}\rfor(i in 1:length(path_ID)){\rcat(i, \u0026quot; \u0026quot;)\rfile \u0026lt;- grep(path_ID[i], dir(), value = TRUE)\rdir.create(path_ID[i])\rfile.copy(from = file, to = path_ID[i]) }\runlink(grep(\u0026quot;csv\u0026quot;, dir(), value = TRUE))\rlibrary(igraph)\ras_edgelist(GO)\rvertex_attr(GO)\r","date":1572048000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1572048000,"objectID":"9c6a030453b6f468885bb502ca9eb569","permalink":"/post/download-kegg-database/","publishdate":"2019-10-26T00:00:00Z","relpermalink":"/post/download-kegg-database/","section":"post","summary":"è®°å½•ä½¿ç”¨ä¸€äº›Rè¯­è¨€åŒ…ä¸‹è½½KEGGæ•°æ®åº“. #get the ID of all hsa pathways KEGGREST::listDatabases() path_ID \u0026lt;- KEGGREST::keggList(organism = \u0026quot;hsa\u0026quot;, database = \u0026quot;pathway\u0026quot;) %\u0026gt;% names() %\u0026gt;% unique() %\u0026gt;% stringr::str_replace_all(., \u0026quot;path:\u0026quot;, \u0026quot;\u0026quot;) dir.create(path = \u0026quot;kegg_pathway\u0026quot;) setwd(\u0026quot;kegg_pathway/\u0026quot;) node_info \u0026lt;- vector(mode = \u0026quot;list\u0026quot;, length = length(path_ID)) edge_info \u0026lt;- vector(mode = \u0026quot;list\u0026quot;, length = length(path_ID)) for(i in i:length(path_ID)){ cat(i, \u0026quot; \u0026quot;)","tags":["Blog"],"title":"ä¸‹è½½KEGGæ•°æ®åº“","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 ç»˜å›¾åŸºç¡€(plot basics)\r1.1 ggplot() åˆ›å»ºä¸€ä¸ªæ–°çš„ggplotå›¾ç‰‡\r1.1.1 å‚æ•°\r1.1.2 ç»†èŠ‚\r1.1.3 ä¾‹å­\r\r1.2 aes() åˆ›å»ºç¾å­¦æ˜ å°„\r1.2.1 å‚æ•°\r1.2.2 ç»†èŠ‚\r1.2.3 ä¾‹å­\r\r1.3 ggsave()ä¿å­˜ggplot2å›¾ç‰‡å¯¹è±¡\r1.3.1 å‚æ•°\r\r\r2 å›¾å±‚(Layer):å‡ ä½•å¯¹è±¡(geoms)\r2.1 ç›´çº¿geom_abline,geom_hlineå’Œgeom_vline\r2.1.1 å‚æ•°\r2.1.2 ç»†èŠ‚\r2.1.3 ç¾å­¦æ˜ å°„(Aesthetics)\r2.1.4 ä¾‹å­\r\r2.2 æŸ±å½¢å›¾(bar charts)geom_bar(),geom_col()å’Œstat_count\r2.2.1 å‚æ•°\r2.2.2 ç»†èŠ‚\r2.2.3 ç¾å­¦å‚æ•°(Aesthetics)\r2.2.4 è®¡ç®—å˜é‡ (Computed variables)\r2.2.5 ä¾‹å­\r\r2.3 äºŒç»´æ–¹æ ¼è®¡æ•°çƒ­å›¾(Heatmap of 2d bin counts)geom_bin2d()å’Œstat_bin_2d()\r2.3.1 å‚æ•°\r2.3.2 ç¾å­¦å‚æ•°(Asethetics)\r2.3.3 è®¡ç®—å˜é‡(Computed variables)\r2.3.4 ä¾‹å­\r\r2.4 ç©ºç™½å›¾geom_blank()\r2.4.1 å‚æ•°\r2.4.2 ä¾‹å­\r\r2.5 ç®±å‹å›¾(boxplotæˆ–è€…whiskers plot)geom_boxplot()å’Œstat_boxplot()\r2.5.1 å‚æ•°\r2.5.2 ç»Ÿè®¡æ€»ç»“\r2.5.3 ç¾å­¦å‚æ•°\r2.5.4 è®¡ç®—å˜é‡\r2.5.5 ä¾‹å­\r\r2.6 3Dè¡¨é¢çš„2Dç­‰é«˜çº¿(contours)geom_contour()å’Œstat_contour()\r2.6.1 å‚æ•°\r2.6.2 ç¾å­¦å‚æ•°\r2.6.3 è®¡ç®—å˜é‡\r2.6.4 ä¾‹å­\r\r\r3 å¸¸è§é—®é¢˜æ€»ç»“\r3.1 å¦‚ä½•ä¿è¯ä¸åŒå›¾ä¸­legendçš„scaleä¸€è‡´\r\r\r\r1 ç»˜å›¾åŸºç¡€(plot basics)\ræ‰€æœ‰çš„ggplot2å›¾å½¢éƒ½å¼€å§‹äºggplot()å‡½æ•°çš„è°ƒç”¨.ç»™å…¶æä¾›æ•°æ®,ä»¥åŠç¾å­¦æ˜ å°„(aesthethic mappings)(ä½¿ç”¨aes()å‡½æ•°).ç„¶åæ·»åŠ å›¾å±‚(layers), åº¦é‡ç³»ç»Ÿ(scales), åæ ‡ç³»(coords)ä»¥åŠåˆ†é¢(facets).æ·»åŠ çš„æ¯ä¸ªå¯¹è±¡,éƒ½æ˜¯åœ¨å‰ä¸€è¡Œæœ«å°¾ä½¿ç”¨ç¬¦å·+.å¦‚æœéœ€è¦å°†ä¸€ä¸ªggplot2å›¾åƒä¿å­˜åœ¨æœ¬åœ°,ä½¿ç”¨ggsave()å‡½æ•°.\n1.1 ggplot() åˆ›å»ºä¸€ä¸ªæ–°çš„ggplotå›¾ç‰‡\rggplot()å‡½æ•°æ˜¯ç”¨æ¥å¯åŠ¨åˆå§‹åŒ–ä¸€ä¸ªggplot2å¯¹è±¡çš„.It can be used to declare the input data frame for a graphic and to specify the set of plot aesthetics intended to be common throughout all subsequent layers unless specifically overridden.\nggplot(data = NULL, mapping = aes(), ...,\renvironment = parent.frame())\rArguments\r1.1.1 å‚æ•°\r\rdata ç”¨äºç»˜å›¾çš„æ•°æ®.å¦‚æœæ•°æ®æ ¼å¼ä¸æ˜¯data.frame,ä¼šé»˜è®¤ä½¿ç”¨fortity()å‡½æ•°è½¬æ¢ä¸ºdata.frameæ ¼å¼.å¦‚æœåœ¨è¯¥å‡½æ•°ä¸­ä¸æä¾›data,åˆ™åœ¨åé¢æ·»åŠ çš„æ¯ä¸€ä¸ªå›¾å±‚,éƒ½éœ€è¦æä¾›data.\n\rmapping ç”¨äºç¾å­¦å›¾å±‚æ˜ å°„çš„å‚æ•°.å¦‚æœåœ¨è¿™é‡Œä¸æä¾›,åˆ™åé¢æ·»åŠ çš„æ¯ä¸ªå›¾å±‚,éƒ½éœ€è¦æä¾›.\n\râ€¦ å…¶ä»–å¯ç”¨äºè¯¥å‡½æ•°çš„å‚æ•°.\n\renvironment è¯¥å‚æ•°å·²ç»æ·˜æ±°äº†.\n\r\r\r1.1.2 ç»†èŠ‚\rggplot()ç”¨æ¥åˆå§‹åŒ–ggplot2å›¾å½¢å¯¹è±¡.ç»å¸¸åé¢éœ€è¦é€šè¿‡+æ¥æ·»åŠ å…¶ä»–çš„å¯¹è±¡.ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹æ³•è°ƒç”¨è¯¥å‡½æ•°:\n\rggplot(df, aes(x, y, other aesthetics))\n\rggplot(df)\n\rggplot2\n\r\rå¦‚æœåé¢çš„æ‰€æœ‰å›¾å±‚ä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€å¥—æ•°æ®ä»¥åŠç¾å­¦æ˜ å°„,åˆ™æ¨èä½¿ç”¨ç¬¬ä¸€ç§ç”¨æ³•.å¦‚æœåé¢å›¾å±‚ä½¿ç”¨æ•°æ®ä¸€è‡´,ä½†æ˜¯ç¾å­¦æ˜ å°„ä¸åŒ,åˆ™æ¨èä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•.å¦‚æœæ¯ä¸€ä¸ªå›¾å±‚ä½¿ç”¨çš„æ•°æ®å’Œç¾å­¦æ˜ å°„éƒ½ä¸ç›¸åŒ,åˆ™ä½¿ç”¨ç¬¬ä¸‰ç§æ–¹æ³•,ä¸€èˆ¬ç”¨æ¥æ„å»ºæ¯”è¾ƒå¤æ‚çš„å›¾å½¢.\n\r1.1.3 ä¾‹å­\rlibrary(ggplot2)\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r# äº§ç”Ÿéšæœºæ•°æ®,ç„¶åè®¡ç®—å¹³å‡å€¼å’Œæ ‡å‡†å·®\rdf \u0026lt;- data.frame(\rgp = factor(rep(letters[1:3], each = 10)),\ry = rnorm(30)\r)\rds \u0026lt;- do.call(rbind, lapply(split(df, df$gp), function(d) {\rdata.frame(mean = mean(d$y), sd = sd(d$y), gp = d$gp)\r}))\rggplot(df, aes(gp, y)) +\rgeom_point() +\rgeom_point(data = ds, aes(y = mean), colour = \u0026#39;red\u0026#39;, size = 3)\r#æ³¨æ„,ç¬¬ä¸€ä¸ªgeom_pointå›¾å±‚ä½¿ç”¨çš„æ˜¯ggplotä¸­çš„æ•°æ®å’Œç¾å­¦æ˜ å°„.è€Œç¬¬äºŒä¸ªgeom_point\r#å›¾å±‚ä¸­ä½¿ç”¨çš„åˆ™æ˜¯ä¸åŒçš„æ•°æ®å’Œç¾å­¦æ˜ å°„.\r# è€Œä¸‹é¢è¿™å¹…å›¾,ç¬¬ä¸€ä¸ªgeonm_pointå›¾å±‚å› ä¸ºæ²¡æœ‰æä¾›data,å› æ­¤ä½¿ç”¨çš„æ˜¯ggplot()ä¸­çš„data,\r#è€Œç¾å­¦æ˜ å°„åˆ™æ˜¯è‡ªå·±å®šä¹‰çš„.\rggplot(df) +\rgeom_point(aes(gp, y)) +\rgeom_point(data = ds, aes(gp, mean), colour = \u0026#39;red\u0026#39;, size = 3)\r# å¦å¤–ä¸€ä¸ªé€‰æ‹©åˆ™æ˜¯å®Œå…¨ä¸åœ¨ggplotä¸­å®šä¹‰æ•°æ®å’Œç¾å­¦æ˜ å°„,è€Œæ˜¯åœ¨æ¯ä¸€ä¸ªå›¾å±‚ä¸­åˆ†åˆ«å®šä¹‰.\r# å½“ä½ è¦ç”»å¤æ‚å›¾å½¢çš„æ—¶å€™,è¿™ç§æ–¹æ³•å°±ä¼šæ˜¾ç¤ºçš„éå¸¸æ¸…æ™°å’Œæ˜äº†.\rggplot() +\rgeom_point(data = df, aes(gp, y)) +\rgeom_point(data = ds, aes(gp, mean), colour = \u0026#39;red\u0026#39;, size = 3) +\rgeom_errorbar(\rdata = ds,\raes(gp, mean, ymin = mean - sd, ymax = mean + sd),\rcolour = \u0026#39;red\u0026#39;,\rwidth = 0.4\r)\r## Warning: Ignoring unknown aesthetics: y\r\r\r1.2 aes() åˆ›å»ºç¾å­¦æ˜ å°„\rç¾å­¦æ˜ å°„æŒ‡çš„æ˜¯æ•°æ®ä¸­çš„å˜é‡å¦‚ä½•æ˜ å°„åˆ°å›¾å½¢çš„è§†è§‰ç‰¹æ€§ä¸Š(ä¹Ÿå°±æ˜¯ç¾å­¦aesthetics).ç¾å­¦æ˜ å°„å¯ä»¥åœ¨ggplot()å‡½æ•°ä»¥åŠæ¯ä¸€ä¸ªå•ç‹¬çš„å›¾å±‚ä¸­è¿›è¡Œè®¾ç½®.\naes(x, y, ...)\n1.2.1 å‚æ•°\r\rx, y, â€¦ å°†å˜é‡æ˜ å°„åˆ°å›¾å½¢çš„è§†è§‰ç‰¹æ€§çš„åå­—.xå’Œyåˆ†åˆ«æŒ‡xè½´å’Œyè½´.é€šå¸¸ä»–ä»¬å¯ä»¥çœç•¥ä¸å†™.ä½†æ˜¯å…¶ä»–çš„,å¦‚é¢œè‰²(colour/color),å¡«å……é¢œè‰²(fill),å¤§å°(size)ç­‰åˆ™å¿…é¡»å†™æ˜å‚æ•°åå­—.\r\r\r1.2.2 ç»†èŠ‚\ræ³¨æ„çš„æ˜¯,åœ¨ggplot2ç§,å¯¹äºè§†è§‰ç‰¹å¾çš„åå­—è¿›è¡Œäº†è§„èŒƒåŒ–,å› æ­¤å’ŒR baseç»˜å›¾å‡½æ•°ç§çš„å¹¶ä¸ç›¸åŒ,æ¯”å¦‚ä»pchæ”¹ä¸ºshape,ä»cexæ”¹ä¸ºsize.\n\r1.2.3 ä¾‹å­\raes(x = mpg, y = wt)\r## Aesthetic mapping: ## * `x` -\u0026gt; `mpg`\r## * `y` -\u0026gt; `wt`\r#\u0026gt; Aesthetic mapping: #\u0026gt; * `x` -\u0026gt; `mpg`\r#\u0026gt; * `y` -\u0026gt; `wt`\raes(mpg, wt)\r## Aesthetic mapping: ## * `x` -\u0026gt; `mpg`\r## * `y` -\u0026gt; `wt`\r#\u0026gt; Aesthetic mapping: #\u0026gt; * `x` -\u0026gt; `mpg`\r#\u0026gt; * `y` -\u0026gt; `wt`\r# You can also map aesthetics to functions of variables\raes(x = mpg ^ 2, y = wt / cyl)\r## Aesthetic mapping: ## * `x` -\u0026gt; `mpg^2`\r## * `y` -\u0026gt; `wt/cyl`\r#\u0026gt; Aesthetic mapping: #\u0026gt; * `x` -\u0026gt; `mpg^2`\r#\u0026gt; * `y` -\u0026gt; `wt/cyl`\r# Or to constants\raes(x = 1, colour = \u0026quot;smooth\u0026quot;)\r## Aesthetic mapping: ## * `x` -\u0026gt; 1\r## * `colour` -\u0026gt; \u0026quot;smooth\u0026quot;\r#\u0026gt; Aesthetic mapping: #\u0026gt; * `x` -\u0026gt; 1\r#\u0026gt; * `colour` -\u0026gt; \u0026quot;smooth\u0026quot;\r# Aesthetic names are automatically standardised\raes(col = x)\r## Aesthetic mapping: ## * `colour` -\u0026gt; `x`\r#\u0026gt; Aesthetic mapping: #\u0026gt; * `colour` -\u0026gt; `x`\raes(fg = x)\r## Aesthetic mapping: ## * `colour` -\u0026gt; `x`\r#\u0026gt; Aesthetic mapping: #\u0026gt; * `colour` -\u0026gt; `x`\raes(color = x)\r## Aesthetic mapping: ## * `colour` -\u0026gt; `x`\r#\u0026gt; Aesthetic mapping: #\u0026gt; * `colour` -\u0026gt; `x`\raes(colour = x)\r## Aesthetic mapping: ## * `colour` -\u0026gt; `x`\r#\u0026gt; Aesthetic mapping: #\u0026gt; * `colour` -\u0026gt; `x`\r# aes() is passed to either ggplot() or specific layer. Aesthetics supplied\r# to ggplot() are used as defaults for every layer.\rggplot(mpg, aes(displ, hwy)) + geom_point()\rggplot(mpg) + geom_point(aes(displ, hwy))\r# Tidy evaluation ----------------------------------------------------\r# aes() automatically quotes all its arguments, so you need to use tidy\r# evaluation to create wrappers around ggplot2 pipelines. The\r# simplest case occurs when your wrapper takes dots:\rscatter_by \u0026lt;- function(data, ...) {\rggplot(data) + geom_point(aes(...))\r}\rscatter_by(mtcars, disp, drat)\r# If your wrapper has a more specific interface with named arguments,\r# you need \u0026quot;enquote and unquote\u0026quot;:\rscatter_by \u0026lt;- function(data, x, y) {\rx \u0026lt;- enquo(x)\ry \u0026lt;- enquo(y)\rggplot(data) + geom_point(aes(!!x, !!y))\r}\rscatter_by(mtcars, disp, drat)\r# Note that users of your wrapper can use their own functions in the\r# quoted expressions and all will resolve as it should!\rcut3 \u0026lt;- function(x) cut_number(x, 3)\rscatter_by(mtcars, cut3(disp), drat)\r\r\r1.3 ggsave()ä¿å­˜ggplot2å›¾ç‰‡å¯¹è±¡\rggsave()é»˜è®¤ä¼šä¿å­˜å½“å‰æœ€åä¸€å¹…ggplot2å›¾ç‰‡.å¦‚æœä¸è®¾ç½®å°ºå¯¸,åˆ™ä½¿ç”¨å½“å‰è®¾å¤‡å°ºå¯¸.\nggsave(filename, plot = last_plot(), device = NULL, path = NULL,\rscale = 1, width = NA, height = NA, units = c(\u0026quot;in\u0026quot;, \u0026quot;cm\u0026quot;, \u0026quot;mm\u0026quot;),\rdpi = 300, limitsize = TRUE, ...)\r1.3.1 å‚æ•°\r\rfilename è¦ä¿å­˜çš„å›¾ç‰‡çš„åå­—,æ³¨æ„ä¸åŒ…æ‹¬åç¼€å.\n\rplot è¦ä¿å­˜çš„ggplot2å›¾ç‰‡.\n\rdevice è¦ä¿å­˜çš„å›¾ç‰‡çš„ç±»å‹.åŒ…æ‹¬ä»¥ä¸‹:â€œepsâ€, â€œpsâ€, â€œtexâ€ (pictex), â€œpdfâ€, â€œjpegâ€, â€œtiffâ€, â€œpngâ€, â€œbmpâ€, â€œsvgâ€ or â€œwmfâ€ (windows only).\n\rpath å›¾ç‰‡æ‰€è¦ä¿å­˜çš„è·¯å¾„.\n\rscale Multiplicative scaling factor.æš‚æ—¶ä¸çŸ¥é“ä»€ä¹ˆæ„æ€?\n\rwidth, height, units è¦ä¿å­˜å›¾ç‰‡çš„å®½å’Œé«˜,ä»¥åŠå…¶å•ä½.å•ä½åŒ…æ‹¬:â€œinâ€(è‹±å¯¸), â€œcmâ€, or â€œmmâ€.\n\rdpi å›¾ç‰‡åˆ†è¾¨ç‡.ä¸€èˆ¬æ˜¯æ•°å­—.ä¹Ÿå¯ä»¥ä½¿ç”¨æ–‡å­—ç¬¦:â€œretinaâ€ (320), â€œprintâ€ (300), or â€œscreenâ€ (72).\n\rlimitsize å¦‚æœè®¾ç½®ä¸ºTRUE,åˆ™ggsaveä¸ä¼šä¿å­˜å°ºå¯¸å¤§äº50Ã—50 inchçš„å›¾ç‰‡.\n\râ€¦ å…¶ä»–å¯ä»¥ç”¨äºå›¾å½¢è®¾å¤‡(graphics device function)çš„å‚æ•°.\n\r\r\r\r\r2 å›¾å±‚(Layer):å‡ ä½•å¯¹è±¡(geoms)\rä¸€ä¸ªå›¾å±‚åŒ…æ‹¬äº†æ•°æ®(data),ç¾å­¦æ˜ å°„(aesthetic mapping),å‡ ä½•å¯¹è±¡(geometric object),ç»Ÿè®¡è½¬æ¢(statistical transformation),ä»¥åŠä½ç½®è°ƒæ•´(position adjustment).ä¸€èˆ¬æ¥è¯´,åº”è¯¥ä½¿ç”¨geom_xxx()å‡½æ•°æ¥åˆ›å»ºå›¾å±‚.å¿…è¦æƒ…å†µä¸‹,éœ€è¦æ‰‹åŠ¨è®¾ç½®å»è¦†ç›–é»˜è®¤çš„ä½ç½®å’Œç»Ÿè®¡è½¬æ¢.\n2.1 ç›´çº¿geom_abline,geom_hlineå’Œgeom_vline\rè¿™ä¸‰ä¸ªå‡½æ•°(å‡ ä½•å¯¹è±¡)åˆ†åˆ«ç”¨æ¥ç”»å¯¹è§’çº¿,æ°´å¹³å’Œå‚ç›´ç›´çº¿.\ngeom_abline(mapping = NULL, data = NULL, ..., slope, intercept,\rna.rm = FALSE, show.legend = NA)\rgeom_hline(mapping = NULL, data = NULL, ..., yintercept,\rna.rm = FALSE, show.legend = NA)\rgeom_vline(mapping = NULL, data = NULL, ..., xintercept,\rna.rm = FALSE, show.legend = NA)\r2.1.1 å‚æ•°\r\rmapping ç¾å­¦æ˜ å°„,ä½¿ç”¨aes()å‡½æ•°è®¾ç½®.\n\rdata ç”¨äºåˆ›å»ºè¯¥å›¾å±‚çš„æ•°æ®.æœ‰ä¸‰ç§é€‰æ‹©: 1)å¦‚æœè®¾ç½®ä¸ºNULL,ä¹Ÿæ˜¯é»˜è®¤è®¾ç½®.åˆ™è¯¥æ•°æ®ç»§æ‰¿è‡ªggplot()å‡½æ•°ä¸­çš„æ•°æ®.2)ä¸€ä¸ªdata.frame,æˆ–è€…å…¶ä»–çš„å¯¹è±¡,å¦‚tibble,è¿™å°†ä¼šè¦†ç›–ggplot()ä¸­çš„æ•°æ®.3)ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªfunction(),ä½†æ˜¯è¯¥functionæœ€åè¿”å›çš„å¯¹è±¡åº”è¯¥æ˜¯data.frame.functionå¯ä»¥ä½¿ç”¨formulaæ ¼å¼è¿›è¡Œåˆ›å»º,å¦‚:head(.x, 10)\n\râ€¦ å…¶ä»–çš„å¯ä»¥ä¼ å…¥layer()çš„å‚æ•°.ä¸€èˆ¬æ˜¯ç¾å­¦å¯¹è±¡,å¦‚colour = \"red\"æˆ–è€…size = 3.ä¹Ÿå¯ä»¥æ˜¯ä¸€äº›ä¸€äº›èƒ½å¤Ÿä¼ å…¥åˆ°å’Œgeom_é…å¯¹çš„geom/statçš„å‚æ•°.\n\rna.rm é»˜è®¤ä¸ºFALSE, missing valueä¼šè¢«å»é™¤æ‰,ä½†æ˜¯ä¼šç»™å‡ºwarning,å¦‚æœè®¾ç½®ä¸ºTRUE,missing valueä¹Ÿä¼šè¢«å»é™¤æ‰,ä½†æ˜¯ä¸ä¼šç»™warning.\n\rshow.legend è¯¥å›¾å±‚æ˜¯å¦è¦æ˜¾ç¤ºåœ¨legendä¸Š.é»˜è®¤ä¸ºNA,åˆ™è¯¥å›¾å±‚ä¸­æ‰€æœ‰çš„æ˜ å°„åˆ°å›¾å½¢å±æ€§çš„å˜é‡éƒ½ä¼šæ˜¾ç¤ºåœ¨legendä¸­.FALSEåˆ™æ°¸è¿œä¸æ˜¾ç¤º,TRUEåˆ™æ°¸è¿œæ˜¾ç¤º.å¦‚æœè¯¥å›¾å½¢æœ‰å¤šä¸ªå˜é‡æ˜ å°„åˆ°ä¸åŒçš„å›¾å½¢å±æ€§,åˆ™å¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªvector,åˆ†åˆ«æ§åˆ¶ä¸åŒçš„å˜é‡æ˜¯å¦æ˜¾ç¤º.\n\rxintercept/yintercept/slope/intercept æ§åˆ¶ç›´çº¿çš„ä½ç½®å‚æ•°.å¦‚æœè¿™äº›è®¾ç½®äº†,åˆ™data,mappingå’Œshow.legendåˆ™ä¼šè¢«è¦†ç›–æ‰.\n\r\r\r2.1.2 ç»†èŠ‚\rè¿™äº›å‡ ä½•å¯¹è±¡å’Œå…¶ä»–çš„å‡ ä½•å¯¹è±¡ç¨å¾®æœ‰äº›ä¸åŒ.å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹æ³•æä¾›å‚æ•°:1)ç»™layerå‡½æ•°æä¾›å‚æ•°,æˆ–è€…2)é€šè¿‡ç¾å­¦å¯¹è±¡æä¾›å‚æ•°.å¦‚æœä½ ä½¿ç”¨å‚æ•°,ä¾‹å¦‚geom_abline(intercept = 0, slope = 1),ç„¶åå‡ ä½•å¯¹è±¡(geom_)ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„data frame,è¿™ä¸ªdata rameåªåŒ…æ‹¬äº†ä½ æ‰€æä¾›çš„æ•°æ®.è¿™æ„å‘³ç€åœ¨æ‰€æœ‰çš„åˆ†é¢ä¸­,ç›´çº¿éƒ½æ˜¯ç›¸åŒçš„.å¦‚æœä½ æƒ³åœ¨ä¸åŒçš„åˆ†é¢ä¸­,ç›´çº¿ä¸ç›¸åŒ,ä½ éœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªdata frame,ç„¶åå†ç¾å­¦æ˜ å°„(aesthetics)ä¸­è®¾ç½®.\nä¸å…¶ä»–çš„å‡ ä½•å¯¹è±¡ä¸åŒ,è¿™äº›å‡ ä½•å¯¹è±¡ä¸ä¼šä»ggplotä¸­ç»§æ‰¿data.ä»–ä»¬ä¹Ÿä¸ä¼šå½±å“åˆ°xå’Œyçš„scale.\n\r2.1.3 ç¾å­¦æ˜ å°„(Aesthetics)\rè¿™ä¸‰ä¸ªå‡ ä½•å¯¹è±¡(geom)å…¶å®éƒ½æ˜¯ä½¿ç”¨geom_line()å‡½æ•°æ¥ç”»ç›´çº¿çš„,å› æ­¤ä»–ä»¬éƒ½æ”¯æŒgeom_line()çš„ç¾å­¦å‚æ•°,å¦‚alpha,colour,linetypeå’Œsize.å¯¹äºæ¯ä¸ªå‡ ä½•å¯¹è±¡éƒ½æœ‰,éƒ½æœ‰å•ç‹¬çš„å‚æ•°ç”¨æ¥æ§åˆ¶ç›´çº¿çš„ä½ç½®:\n\rgeom_vline:xintercept.\n\rgeom_hline:yintercept.\n\rgeom_vline:slope(æ–œç‡)å’Œintercept(æˆªè·).\n\r\r\r2.1.4 ä¾‹å­\rlibrary(ggplot2)\rp \u0026lt;- ggplot(mtcars, aes(wt, mpg)) + geom_point()\r# æ·»åŠ å‚ç›´ç›´çº¿\rp + geom_vline(xintercept = 5)\rp + geom_vline(xintercept = 1:5)\r# æ·»åŠ æ°´å¹³ç›´çº¿\rp + geom_hline(yintercept = 20)\r# æ·»åŠ å¯¹è§’çº¿,é»˜è®¤æ–œç‡ä¸º1\rp + geom_abline(intercept = 20)\r# è®¡ç®—ç›´çº¿å›å½’çš„æ–œç‡å’Œæˆªè·\rcoef(lm(mpg ~ wt, data = mtcars))\r## (Intercept) wt ## 37.285126 -5.344472\rp + geom_abline(intercept = 37, slope = -5)\r# ä½†æ˜¯ä½¿ç”¨geom_smoothæ›´åŠ ç®€å•h:\rp + geom_smooth(method = \u0026quot;lm\u0026quot;, se = FALSE)\r# å¦‚æœæƒ³è¦å†ä¸åŒåˆ†é¢æ˜¾ç¤ºä¸åŒçš„ç›´çº¿,åˆ™ä½¿ç”¨ç¾å­¦å¯¹è±¡,ä¹Ÿå°±æ˜¯éœ€è¦è‡ªå·±åˆ›å»º\rp \u0026lt;- ggplot(mtcars, aes(mpg, wt)) +\rgeom_point() +\rfacet_wrap(~ cyl)\rmean_wt \u0026lt;- data.frame(cyl = c(4, 6, 8), wt = c(2.28, 3.11, 4.00))\rmean_wt\r## cyl wt\r## 1 4 2.28\r## 2 6 3.11\r## 3 8 4.00\rp + geom_hline(mapping = aes(x = cyl, yintercept = wt), data = mean_wt)\r## Warning: Ignoring unknown aesthetics: x\r##å¦‚æœä¸ä½¿ç”¨ç¾å­¦å¯¹è±¡,åˆ™åœ¨æ¯ä¸€ä¸ªåˆ†é¢ä¸Šéƒ½æ˜¯ä¸€æ ·çš„\rp +\rgeom_hline(yintercept = mean_wt$wt)\r# æ§åˆ¶å…¶ä»–ç¾å­¦å¯¹è±¡\rggplot(mtcars, aes(mpg, wt, colour = wt)) +\rgeom_point() +\rgeom_hline(aes(yintercept = wt, colour = wt), mean_wt) +\rfacet_wrap(~ cyl)\r\r\r2.2 æŸ±å½¢å›¾(bar charts)geom_bar(),geom_col()å’Œstat_count\rä¸€å…±æœ‰ä¸¤ç§ç±»å‹çš„å‡½æ•°ç”¨æ¥ç»˜åˆ¶æŸ±å½¢å›¾:geom_bar()å’Œgeom_col()å‡½æ•°.geom_bar()é…å¯¹çš„ç»Ÿè®¡è½¬æ¢å‡½æ•°ä¸ºstat_count()å‡½æ•°,æ‰€ä»¥ä»–ä¼šè‡ªåŠ¨å°†æ¯ä¸ªgroupçš„caseä¸ªæ•°è®¡ç®—å‡ºæ¥,ç„¶åè½¬ä¸ºæ–°çš„data frame,ä¹Ÿå°±æ˜¯groupå’Œæ•°ç›®,ç„¶åæ˜ å°„åˆ°xå’Œyè½´ä¸Š.è€Œgeom_bar()åˆ™å’ŒR baseçš„bar plotå‡½æ•°ç›¸ä¼¼(é»˜è®¤é…å¯¹ç»Ÿè®¡è½¬æ¢å‡½æ•°ä¸ºstat_identify()å‡½æ•°),éœ€è¦æŒ‡å®šxå’Œyè½´å˜é‡,ç„¶åç›´æ¥å°†æŒ‡å®šçš„yè½´å˜é‡æ˜ å°„ä¸ºbarçš„é«˜åº¦.\ngeom_bar(mapping = NULL, data = NULL, stat = \u0026quot;count\u0026quot;,\rposition = \u0026quot;stack\u0026quot;, ..., width = NULL, binwidth = NULL,\rna.rm = FALSE, show.legend = NA, inherit.aes = TRUE)\rgeom_col(mapping = NULL, data = NULL, position = \u0026quot;stack\u0026quot;, ...,\rwidth = NULL, na.rm = FALSE, show.legend = NA,\rinherit.aes = TRUE)\rstat_count(mapping = NULL, data = NULL, geom = \u0026quot;bar\u0026quot;,\rposition = \u0026quot;stack\u0026quot;, ..., width = NULL, na.rm = FALSE,\rshow.legend = NA, inherit.aes = TRUE)\r2.2.1 å‚æ•°\r\rmapping ç¾å­¦æ˜ å°„,ä½¿ç”¨aes()å‡½æ•°è®¾ç½®.å¦‚æœè®¾ç½®å‚æ•°inherit.aes = TRUE(é»˜è®¤),åˆ™è¯¥å›¾å±‚ä¼šä»ggplot()å‡½æ•°ç»§æ‰¿ç¾å­¦æ˜ å°„çš„å‚æ•°.\n\rdata ç”¨äºåˆ›å»ºè¯¥å›¾å±‚çš„æ•°æ®.æœ‰ä¸‰ç§é€‰æ‹©: 1)å¦‚æœè®¾ç½®ä¸ºNULL,ä¹Ÿæ˜¯é»˜è®¤è®¾ç½®.åˆ™è¯¥æ•°æ®ç»§æ‰¿è‡ªggplot()å‡½æ•°ä¸­çš„æ•°æ®.2)ä¸€ä¸ªdata.frame,æˆ–è€…å…¶ä»–çš„å¯¹è±¡,å¦‚tibble,è¿™å°†ä¼šè¦†ç›–ggplot()ä¸­çš„æ•°æ®.3)ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªfunction(),ä½†æ˜¯è¯¥functionæœ€åè¿”å›çš„å¯¹è±¡åº”è¯¥æ˜¯data.frame.functionå¯ä»¥ä½¿ç”¨formulaæ ¼å¼è¿›è¡Œåˆ›å»º,å¦‚:head(.x, 10)\n\rposition ä½ç½®è°ƒæ•´(position adjustment).å¯ä»¥æ˜¯å­—ç¬¦,ä¹Ÿå¯ä»¥æ˜¯ä½¿ç”¨ä½ç½®è°ƒæ•´å‚æ•°è¿”å›çš„å¯¹è±¡.\n\râ€¦ å…¶ä»–çš„å¯ä»¥ä¼ å…¥layer()çš„å‚æ•°.ä¸€èˆ¬æ˜¯ç¾å­¦å¯¹è±¡,å¦‚colour = \"red\"æˆ–è€…size = 3.ä¹Ÿå¯ä»¥æ˜¯ä¸€äº›ä¸€äº›èƒ½å¤Ÿä¼ å…¥åˆ°å’Œgeom_é…å¯¹çš„geom/statçš„å‚æ•°.\n\rwidth æŸ±å½¢å›¾çš„å®½åº¦. é»˜è®¤è®¾ç½®ä¸ºæ•°æ®â€œåˆ†è¾¨ç‡â€çš„90%(0.9).\n\rna.rm é»˜è®¤ä¸ºFALSE, missing valueä¼šè¢«å»é™¤æ‰,ä½†æ˜¯ä¼šç»™å‡ºwarning,å¦‚æœè®¾ç½®ä¸ºTRUE,missing valueä¹Ÿä¼šè¢«å»é™¤æ‰,ä½†æ˜¯ä¸ä¼šç»™warning.\n\rshow.legend è¯¥å›¾å±‚æ˜¯å¦è¦æ˜¾ç¤ºåœ¨legendä¸Š.é»˜è®¤ä¸ºNA,åˆ™è¯¥å›¾å±‚ä¸­æ‰€æœ‰çš„æ˜ å°„åˆ°å›¾å½¢å±æ€§çš„å˜é‡éƒ½ä¼šæ˜¾ç¤ºåœ¨legendä¸­.FALSEåˆ™æ°¸è¿œä¸æ˜¾ç¤º,TRUEåˆ™æ°¸è¿œæ˜¾ç¤º.å¦‚æœè¯¥å›¾å½¢æœ‰å¤šä¸ªå˜é‡æ˜ å°„åˆ°ä¸åŒçš„å›¾å½¢å±æ€§,åˆ™å¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªvector,åˆ†åˆ«æ§åˆ¶ä¸åŒçš„å˜é‡æ˜¯å¦æ˜¾ç¤º.\n\rinherit.aes å¦‚æœè®¾ç½®ä¸ºFALSE,è¦†ç›–æ‰è€Œä¸æ˜¯ç»“åˆé»˜è®¤ç¾å­¦å‚æ•°. This is most useful for helper functions that define both data and aesthetics and shouldnâ€™t inherit behaviour from the default plot specification, e.g.Â borders().ä¸å¤ªæ˜ç™½è¿™ä¸ªæ„æ€?\n\rgeom, stat è¦†ç›–æ‰é»˜è®¤çš„geom_()å’Œstat_()å‡½æ•°.\n\r\r\r2.2.2 ç»†èŠ‚\ræŸ±å½¢å›¾ä½¿ç”¨é«˜åº¦æ¥è¡¨ç¤ºæ•°å€¼.æ‰€ä»¥ä¸€èˆ¬æŸ±å½¢å›¾æ˜¯ç”¨æ¥è¿›è¡Œå¯¹æ¯”å±•ç¤ºçš„.è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¦‚æœä½ å°†æ•°æ®logä¹‹å,ä½¿ç”¨æŸ±å½¢å›¾å°±ä¸å¤ªåˆé€‚.\né»˜è®¤,å¯¹äºåŒä¸ªxè½´ä½ç½®æœ‰ç€å¤šä¸ªæŸ±å­,åˆ™ä»–ä»¬ä¼šå †ç§¯åœ¨ä¸€èµ·.ä¹Ÿå°±è¾“å †ç§¯æŸ±å½¢å›¾,è¿™æ˜¯ç”±é»˜è®¤çš„ä½ç½®è°ƒæ•´å‡½æ•°position_stack()å®ç°çš„.å¦‚æœä½ æƒ³è¦è®©ä»–ä»¬å¹¶æ’æ’åˆ—,åˆ™éœ€è¦ä½¿ç”¨position_dodge()æˆ–è€…position_dodge2()å‡½æ•°.å½“ç„¶,å¦‚æœä½ æƒ³è¦å †å æŸ±å½¢å›¾,è€Œæ˜¾ç¤ºçš„æ˜¯æ¯”ä¾‹è€Œä¸æ˜¯çœŸå®æ•°å€¼,åˆ™éœ€è¦ä½¿ç”¨position_fill()å‡½æ•°.\n\r2.2.3 ç¾å­¦å‚æ•°(Aesthetics)\rgeom_bar()å¯ä»¥æ¥å—ä»¥ä¸‹ç¾å­¦å‚æ•°(ç²—ä½“ä¸ºå¿…é¡»å‚æ•°).\n\rx\n\ry\n\ralpha\n\rcolour\n\rfill\n\rgroup\n\rlinetype\n\rsize\n\r\rgeom_col()å¯ä»¥æ¥å—ä»¥ä¸‹ç¾å­¦å‚æ•°(ç²—ä½“ä¸ºå¿…é¡»å‚æ•°).\n\rx\n\ry\n\ralpha\n\rcolour\n\rfill\n\rgroup\n\rlinetype\n\rsize\n\r\rstat_count()å¯ä»¥æ¥å—ä»¥ä¸‹ç¾å­¦å‚æ•°(ç²—ä½“ä¸ºå¿…é¡»å‚æ•°).\n\rx\n\ry\n\rgroup\n\rweight\n\r\r\r2.2.4 è®¡ç®—å˜é‡ (Computed variables)\r\rcount æ¯ä¸€ä¸ªgrouä¸­çš„æ•°ç›®\n\rprop æ¯ç»„çš„æ¯”ä¾‹\n\r\r\r2.2.5 ä¾‹å­\rlibrary(ggplot2)\r## é¦–å…ˆåˆ›å»ºä¸€ä¸ªggplot2å¯¹è±¡\rg \u0026lt;- ggplot(mpg, aes(class))\r# ç„¶åä½¿ç”¨geom_baræ¥å±•ç¤ºæ¯ä¸ªclassçš„caseçš„æ•°ç›®\rg + geom_bar()\r# å¯ä»¥é€šè¿‡è®¾ç½®weightå‚æ•°,å°†æ¯ä¸ªæŸ±å­çš„é«˜åº¦æ”¹ä¸ºè¯¥å˜é‡çš„å’Œ\rg + geom_bar(aes(weight = displ))\r# å½“æ¯ä¸€ä¸ªæŸ±å­åˆå¯ä»¥åˆ†ä¸ºä¸åŒçš„groupæ—¶,é»˜è®¤æ˜¯å †ç§¯åœ¨ä¸€èµ·çš„.\rg + geom_bar(aes(fill = drv))\r# å¦‚æœæƒ³è¦ç¿»è½¬ç±»åˆ«çš„é¡ºåº,å¯ä»¥åœ¨positionå‚æ•°ä¸­è®¾ç½®\rg +\rgeom_bar(aes(fill = drv), position = position_stack(reverse = TRUE)) +\rcoord_flip() +\rtheme(legend.position = \u0026quot;top\u0026quot;)\r# å¦‚æœåªæ˜¯æƒ³è¦æŸ±å­é«˜åº¦æ˜¾ç¤ºæŸä¸ªå˜é‡çš„å€¼,ä½¿ç”¨geom_colå‡½æ•°\rdf \u0026lt;- data.frame(trt = c(\u0026quot;a\u0026quot;, \u0026quot;b\u0026quot;, \u0026quot;c\u0026quot;), outcome = c(2.3, 1.9, 3.2))\rggplot(df, aes(trt, outcome)) +\rgeom_col()\r# å½“ç„¶,geom_barå‡½æ•°ä¹Ÿå¯ä»¥ç”¨æ¥æ˜¾ç¤ºè¿ç»­æ€§çš„å˜é‡\rdf \u0026lt;- data.frame(x = rep(c(2.9, 3.1, 4.5), c(5, 10, 4)))\rggplot(df, aes(x)) + geom_bar()\r# cf. a histogram of the same data\rggplot(df, aes(x)) + geom_histogram(binwidth = 0.5)\r\r\r2.3 äºŒç»´æ–¹æ ¼è®¡æ•°çƒ­å›¾(Heatmap of 2d bin counts)geom_bin2d()å’Œstat_bin_2d()\rå°†å¹³é¢åˆ’åˆ†ä¸ºæ”¾ä¸ª,ç„¶åè®¡ç®—æ¯ä¸ªæ–¹æ ¼ä¸­caseçš„æ•°ç›®,ç„¶åå°†å°æ–¹æ ¼å†…çš„caseçš„æ•°ç›®æ˜ å°„åˆ°å°æ–¹æ ¼çš„å¡«å……é¢œè‰²ä¸Š(é»˜è®¤).è¿™ç§ä½œå›¾æ–¹æ³•ä¸geom_point()ç›¸æ¯”,å¥½å¤„æ˜¯å¯ä»¥æœ‰æ•ˆçš„é¿å…é‡å .\ngeom_bin2d(mapping = NULL, data = NULL, stat = \u0026quot;bin2d\u0026quot;,\rposition = \u0026quot;identity\u0026quot;, ..., na.rm = FALSE, show.legend = NA,\rinherit.aes = TRUE)\rstat_bin_2d(mapping = NULL, data = NULL, geom = \u0026quot;tile\u0026quot;,\rposition = \u0026quot;identity\u0026quot;, ..., bins = 30, binwidth = NULL,\rdrop = TRUE, na.rm = FALSE, show.legend = NA, inherit.aes = TRUE)\r2.3.1 å‚æ•°\r\rmapping ç¾å­¦æ˜ å°„å‚æ•°,ä½¿ç”¨aes()å»ºç«‹.å¦‚æœåœ¨è¯¥å›¾å±‚è¿›è¡Œè®¾ç½®,å¹¶ä¸”inherit.aes = TRUE(é»˜è®¤), it is combined with the default mapping at the top level of the plot. You must supply mapping if there is no plot mapping?\n\rdata ç”¨äºåˆ›å»ºè¯¥å›¾å±‚çš„æ•°æ®.æœ‰ä¸‰ç§é€‰æ‹©: 1)å¦‚æœè®¾ç½®ä¸ºNULL,ä¹Ÿæ˜¯é»˜è®¤è®¾ç½®.åˆ™è¯¥æ•°æ®ç»§æ‰¿è‡ªggplot()å‡½æ•°ä¸­çš„æ•°æ®.2)ä¸€ä¸ªdata.frame,æˆ–è€…å…¶ä»–çš„å¯¹è±¡,å¦‚tibble,è¿™å°†ä¼šè¦†ç›–ggplot()ä¸­çš„æ•°æ®.3)ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªfunction(),ä½†æ˜¯è¯¥functionæœ€åè¿”å›çš„å¯¹è±¡åº”è¯¥æ˜¯data.frame.functionå¯ä»¥ä½¿ç”¨formulaæ ¼å¼è¿›è¡Œåˆ›å»º,å¦‚:head(.x, 10)\n\rposition ä½ç½®è°ƒæ•´(position adjustment).å¯ä»¥æ˜¯å­—ç¬¦,ä¹Ÿå¯ä»¥æ˜¯ä½¿ç”¨ä½ç½®è°ƒæ•´å‚æ•°è¿”å›çš„å¯¹è±¡.\n\râ€¦ å…¶ä»–çš„å¯ä»¥ä¼ å…¥layer()çš„å‚æ•°.ä¸€èˆ¬æ˜¯ç¾å­¦å¯¹è±¡,å¦‚colour = \"red\"æˆ–è€…size = 3.ä¹Ÿå¯ä»¥æ˜¯ä¸€äº›ä¸€äº›èƒ½å¤Ÿä¼ å…¥åˆ°å’Œgeom_é…å¯¹çš„geom/statçš„å‚æ•°.\n\rna.rm é»˜è®¤ä¸ºFALSE, missing valueä¼šè¢«å»é™¤æ‰,ä½†æ˜¯ä¼šç»™å‡ºwarning,å¦‚æœè®¾ç½®ä¸ºTRUE,missing valueä¹Ÿä¼šè¢«å»é™¤æ‰,ä½†æ˜¯ä¸ä¼šç»™warning.\n\rshow.legend è¯¥å›¾å±‚æ˜¯å¦è¦æ˜¾ç¤ºåœ¨legendä¸Š.é»˜è®¤ä¸ºNA,åˆ™è¯¥å›¾å±‚ä¸­æ‰€æœ‰çš„æ˜ å°„åˆ°å›¾å½¢å±æ€§çš„å˜é‡éƒ½ä¼šæ˜¾ç¤ºåœ¨legendä¸­.FALSEåˆ™æ°¸è¿œä¸æ˜¾ç¤º,TRUEåˆ™æ°¸è¿œæ˜¾ç¤º.å¦‚æœè¯¥å›¾å½¢æœ‰å¤šä¸ªå˜é‡æ˜ å°„åˆ°ä¸åŒçš„å›¾å½¢å±æ€§,åˆ™å¯ä»¥å°†å…¶è®¾ç½®ä¸ºä¸€ä¸ªvector,åˆ†åˆ«æ§åˆ¶ä¸åŒçš„å˜é‡æ˜¯å¦æ˜¾ç¤º.\n\rinherit.aes å¦‚æœè®¾ç½®ä¸ºFALSE,è¦†ç›–æ‰è€Œä¸æ˜¯ç»“åˆé»˜è®¤ç¾å­¦å‚æ•°. This is most useful for helper functions that define both data and aesthetics and shouldnâ€™t inherit behaviour from the default plot specification, e.g.Â borders().ä¸å¤ªæ˜ç™½è¿™ä¸ªæ„æ€?\n\rgeom, stat è¦†ç›–æ‰é»˜è®¤çš„geom_()å’Œstat_()å‡½æ•°.\n\rbins æ•°å€¼å‹çš„å‘é‡,ç”¨æ¥åˆ†åˆ«è®¾ç½®å‚ç›´å’Œæ°´å¹³æ–¹å‘ä¸Šçš„binçš„æ•°ç›®,é»˜è®¤éƒ½æ˜¯30.\n\rbinwidth æ•°å€¼å‹å‘é‡,ç”¨äºè®¾ç½®åœ¨å‚ç›´å’Œæ°´å¹³æ–¹å‘ä¸Šçš„binçš„å®½åº¦.å¦‚æœè¯¥å‚æ•°è®¾ç½®,åˆ™ä¼šè¦†ç›–æ‰binså‚æ•°.\n\rdrop å¦‚æœè®¾ç½®ä¸ºTRUE,åˆ™ä¼šå»é™¤æ‰countä¸º0çš„æ–¹æ ¼.\n\r\r\r2.3.2 ç¾å­¦å‚æ•°(Asethetics)\rstat_bind2d()æ¥å—ä»¥ä¸‹ç¾å­¦å‚æ•°(é»‘ä½“ä¸ºå¿…é¡»å‚æ•°):\n\rx\n\ry\n\rfill\n\r\r*group\n\r2.3.3 è®¡ç®—å˜é‡(Computed variables)\r\rcount binä¸­çš„æ•°æ®ç‚¹çš„ä¸ªæ•°.\n\rdensity binä¸­æ•°æ®ç‚¹çš„å¯†åº¦(density),æ•´ä½“æ•°æ®ç‚¹æ•°ç›®ä¸º1,æ‰€æœ‰å…¶ä»–binå†…æ•°æ®ç‚¹æ•°ç›®ä¸ä¹‹scale.\n\rncount count, scaled to maximum of 1?\n\rndensity density, scaled to maximum of 1\n\r\r\r2.3.4 ä¾‹å­\rlibrary(ggplot2)\rd \u0026lt;- ggplot(diamonds, aes(x, y)) + xlim(4, 10) + ylim(4, 10)\rd + geom_bin2d()\r## Warning: Removed 478 rows containing non-finite values (stat_bin2d).\r\r\r2.4 ç©ºç™½å›¾geom_blank()\rgeom_blank()å‡½æ•°ä¸ç»˜åˆ¶ä»»ä½•ä¸œè¥¿,ä½†æ˜¯å¯ä»¥ç”¨æ¥ç»˜åˆ¶ä¸€ä¸ªç©ºçš„plotæ¥ä¿æŒä¸€å®šçš„åˆ»åº¦.\ngeom_blank(mapping = NULL, data = NULL, stat = \u0026quot;identity\u0026quot;,\rposition = \u0026quot;identity\u0026quot;, ..., show.legend = NA, inherit.aes = TRUE)\r2.4.1 å‚æ•°\ræ‰€æœ‰å‚æ•°å¯ä»¥å‚è€ƒä¸Šé¢æ‰€æœ‰çš„å‡½æ•°.\n\r2.4.2 ä¾‹å­\rp \u0026lt;- ggplot(mtcars, aes(wt, mpg))\rp\rp + geom_blank()\r\r\r2.5 ç®±å‹å›¾(boxplotæˆ–è€…whiskers plot)geom_boxplot()å’Œstat_boxplot()\rç®±å‹å›¾ç”¨æ¥å±•ç¤ºè¿ç»­æ€§å˜é‡çš„åˆ†å¸ƒ.å®ƒå¯ä»¥å±•ç¤º5ä¸ªç»Ÿè®¡é‡(ä¸­ä½å€¼,two hinges and two whiskers), ä»¥åŠæ‰€æœ‰çš„outlierå€¼.\ngeom_boxplot(mapping = NULL, data = NULL, stat = \u0026quot;boxplot\u0026quot;,\rposition = \u0026quot;dodge2\u0026quot;, ..., outlier.colour = NULL,\routlier.color = NULL, outlier.fill = NULL, outlier.shape = 19,\routlier.size = 1.5, outlier.stroke = 0.5, outlier.alpha = NULL,\rnotch = FALSE, notchwidth = 0.5, varwidth = FALSE, na.rm = FALSE,\rshow.legend = NA, inherit.aes = TRUE)\rstat_boxplot(mapping = NULL, data = NULL, geom = \u0026quot;boxplot\u0026quot;,\rposition = \u0026quot;dodge2\u0026quot;, ..., coef = 1.5, na.rm = FALSE,\rshow.legend = NA, inherit.aes = TRUE)\r2.5.1 å‚æ•°\rmapping,data,positionå’Œâ€¦å‚æ•°å¯ä»¥å‚è€ƒå‰é¢çš„å‚æ•°.éƒ½æ˜¯ä¸€è‡´çš„.\n\routlier.colour,outlier.fill,outlier.shape,outlier.size,outlier.stroke,outlier.alpha:ç¦»ç¾¤ç‚¹çš„ç¾å­¦å‚æ•°.å¦‚æœæƒ³è¦éšè—outlier,åˆ™å¯ä»¥å°†outlier.shapeè®¾ç½®ä¸ºNA.\n\rnotch:é»˜è®¤ä¸ºFALSE,ä¸€ä¸ªæ ‡å‡†çš„box plot,å¦‚æœè®¾ç½®ä¸ºTRUE,åˆ™æ˜¯ä¸€ä¸ªæœ‰ç¼ºå£çš„box plot.æœ‰ç¼ºå£çš„box plotå¯ä»¥æ–¹ä¾¿å¤šç»„æ•°æ®è¿›è¡Œæ¯”è¾ƒ.å› ä¸ºç¼ºå£å¤„å°±æ˜¯ä¸­ä½å€¼æ‰€åœ¨ä½ç½®.\n\rnotchwidth:ç¼ºå£box plotçš„ç¼ºå£å¤„çš„å®½åº¦å’Œæ•´ä½“å®½åº¦çš„æ¯”å€¼,é»˜è®¤ä¸º0.5.\n\rvarwidth:é»˜è®¤ä¸ºFALSE,ä¸€ä¸ªæ ‡å‡†çš„box plot.å¦‚æœè®¾ç½®ä¸ºTRUE,åˆ™æ¯ç»„çš„boxçš„å®½åº¦å’Œè¯¥ç»„çš„å˜é‡çš„ä¸ªæ•°çš„å¹³æ–¹æ ¹æˆæ­£æ¯”.\n\rcoef:é»˜è®¤ä¸º1.5.ä¹Ÿå°±æ˜¯ä¸Šä¸‹è¾¹æ¡†æ‰©å±•å‡ºçš„ä¸Šä¸‹æ™¶é¡»çš„è·ç¦»ä¸º1.5å€çš„IQR.\n\r\r\r2.5.2 ç»Ÿè®¡æ€»ç»“\rbox plotæ¡†çš„ä¸Šä¸‹è¾¹ç•Œ(hinge)åˆ†åˆ«ä»£è¡¨ç¬¬ä¸€å’Œç¬¬ä¸‰åˆ†ä½æ•°.\nä»æ¡†ä¸Šè¾¹ç•Œæ‰©å±•å‡ºçš„ä¸Šæ™¶é¡»(whisker)çš„è·ç¦»ä¸º1.5å€çš„IQR(IQRä¸ºinter quartile range,ä¹Ÿå°±æ˜¯ç¬¬ä¸‰åˆ†ä½æ•°å’Œç¬¬ä¸€ä»½ä½æ•°ä¹‹å·®).ä»æ¡†ä¸‹è¾¹ç•Œæ‰©å±•å‡ºçš„ä¸‹æ™¶é¡»(whisker)çš„è·ç¦»ä¸º1.5å€çš„IQR.åœ¨ä¸Šä¸‹æ™¶é¡»èŒƒå›´ä»¥å¤–çš„,å°±æ˜¯outlier.\n\r2.5.3 ç¾å­¦å‚æ•°\rgeom_boxplot()æ¥æ”¶ä»¥ä¸‹ç¾å­¦å‚æ•°(é»‘ä½“ä¸ºå¿…é¡»å‚æ•°):\n\rx\n\rlower\n\rupper\n\rumiddle\n\rymin\n\ryax\n\ralpha\n\rcolour\n\rfill\n\rgroup\n\rlinetype\n\rshape\n\rsize\n\rweight\n\r\r\r2.5.4 è®¡ç®—å˜é‡\r\rwidth box plotå®½åº¦.\r\rymin:ä¸‹æ™¶é¡»==ä¸‹æ¡†è¾¹ç•Œ-1.5*IQR\nlower:ä¸‹æ¡†è¾¹ç•Œ.é»˜è®¤ä¸º25% quantile.\nnotchlower:å¯¹äºæœ‰ç¼ºå£box plotçš„ä¸‹æ¡†è¾¹ç•Œ.é»˜è®¤ä¸ºmedian - 1.58 * IQR / sqrt(n)\nmiddle:ä¸­ä½å€¼,é»˜è®¤ä¸º50%åˆ†ä½æ•°.\nnotchupper:å¯¹äºæœ‰ç¼ºå£box plotçš„ä¸Šæ¡†è¾¹ç•Œ.é»˜è®¤ä¸ºmedian + 1.58 * IQR / sqrt(n)\nupper:ä¸Šæ¡†è¾¹ç•Œ,é»˜è®¤ä¸º75%åˆ†ä½æ•°.\nymaxä¸Šæ™¶é¡»==ä¸Šæ¡†è¾¹ç•Œ+1.5*IQR\n\r2.5.5 ä¾‹å­\rlibrary(ggplot2)\rp \u0026lt;- ggplot(mpg, aes(class, hwy))\rp +\rgeom_boxplot() \r# äº¤æ¢xè½´å’Œyè½´\rp + geom_boxplot() + coord_flip()\r# æœ‰ç¼ºå£çš„box plot,æ³¨æ„æ­¤æ—¶ä¸Šä¸‹æ™¶é¡»è·ç¦»æ˜¯æœ‰å˜åŒ–çš„.\rp +\rgeom_boxplot(notch = TRUE)\r## notch went outside hinges. Try setting notch=FALSE.\r## notch went outside hinges. Try setting notch=FALSE.\r# boxå®½åº¦å’Œæ¯ç»„æ•°ç›®nçš„å¹³æ–¹æ ¹æˆæ­£æ¯”\rp + geom_boxplot(varwidth = TRUE)\rp + geom_boxplot(fill = \u0026quot;white\u0026quot;, colour = \u0026quot;#3366FF\u0026quot;)\r# è®¾ç½®outlierçš„ç¾å­¦å‚æ•°\rp + geom_boxplot(outlier.colour = \u0026quot;red\u0026quot;, outlier.shape = 1)\r# å°†ç‚¹å’Œboxplotç”»åœ¨ä¸€èµ·,è¿™æ—¶å€™éœ€è¦æŠŠoutlierå»é™¤æ‰,å› ä¸ºå’ŒåŸå§‹ç‚¹ä¼šæœ‰é‡å \rp + geom_boxplot(outlier.shape = NA) + geom_jitter(width = 0.2)\r# å¦‚æœæ¯ç»„çš„box plotå†åˆ†ç±»,åˆ™é»˜è®¤æ˜¯å¹¶åˆ—æ’åœ¨ä¸€èµ·çš„\rp + geom_boxplot(aes(colour = drv))\r# xè½´ä¸æ˜¯åˆ†ç±»æ•°æ®,è€Œæ˜¯è¿ç»­æ•°æ®ä¹Ÿæ˜¯å¯ä»¥çš„.ä½†æ˜¯éœ€è¦æä¾›å¦‚ä½•å¯¹xè½´è¿›è¡Œåˆ†ç±»,æ¯”å¦‚é€šè¿‡\r#cut_widthå‡½æ•°å°†è¿ç»­æ€§å˜é‡è¿›è¡Œåˆ†ç±»\rggplot(diamonds, aes(x = carat, y = price)) +\rgeom_boxplot()\r## Warning: Continuous x aesthetic -- did you forget aes(group=...)?\rggplot(diamonds, aes(carat, price)) +\rgeom_boxplot(aes(colour = cut_width(carat, 0.25)), show.legend = FALSE)\rggplot(diamonds, aes(carat, price)) +\rgeom_boxplot(aes(group = cut_width(carat, 0.25)), show.legend = FALSE)\r# å¦‚æœä½ è‡ªå·±å®šä¹‰äº†boxplotçš„å„ä¸ªå…ƒç´ ,ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®stat=`identify`æ¥ç”»boxplot\ry \u0026lt;- rnorm(100)\rdf \u0026lt;- data.frame(\rx = 1,\ry0 = min(y),\ry25 = quantile(y, 0.25),\ry50 = median(y),\ry75 = quantile(y, 0.75),\ry100 = max(y)\r)\rggplot(df, aes(x)) +\rgeom_boxplot(\raes(ymin = y0, lower = y25, middle = y50, upper = y75, ymax = y100),\rstat = \u0026quot;identity\u0026quot;\r)\r\r\r2.6 3Dè¡¨é¢çš„2Dç­‰é«˜çº¿(contours)geom_contour()å’Œstat_contour()\rggplot2å¹¶ä¸èƒ½ç”»3Då›¾å½¢,ä½†æ˜¯å¯ä»¥ä½¿ç”¨geom_contour()å’Œgeom_tile()(tileæ˜¯ç“·ç –çš„æ„æ€)ç”»ç­‰é«˜çº¿. To be a valid surface, the data must contain only a single row for each unique combination of the variables mapped to the x and y aesthetics. Contouring tends to work best when x and y form a (roughly) evenly spaced grid. If your data is not evenly spaced, you may want to interpolate to a grid before visualising.\ngeom_contour(mapping = NULL, data = NULL, stat = \u0026quot;contour\u0026quot;,\rposition = \u0026quot;identity\u0026quot;, ..., lineend = \u0026quot;butt\u0026quot;, linejoin = \u0026quot;round\u0026quot;,\rlinemitre = 10, na.rm = FALSE, show.legend = NA,\rinherit.aes = TRUE)\rstat_contour(mapping = NULL, data = NULL, geom = \u0026quot;contour\u0026quot;,\rposition = \u0026quot;identity\u0026quot;, ..., na.rm = FALSE, show.legend = NA,\rinherit.aes = TRUE)\r2.6.1 å‚æ•°\rå¾ˆå¤šå‚æ•°è·Ÿå‰é¢æ˜¯ä¸€æ ·çš„.å…¶ä»–ä¸åŒçš„è§ä¸‹:\n\rlineend çº¿æ¡æœ«ç«¯çš„å½¢å¼(round, butt, square)\n\rlinejoin çº¿æ¡äº¤ç•Œå¤„çš„å½¢å¼(round, butt, square)\n\rlinemitre Line mitre limit (number greater than 1).\n\r\r\r2.6.2 ç¾å­¦å‚æ•°\rgeom_contour()æ¥å—ä»¥ä¸‹å‚æ•°(é»‘ä½“ä¸ºå¿…é¡»å‚æ•°):\n\rx\n\ry\n\ralpha\n\rcolour\n\rgroup\n\rlinetype\n\rsize\n\rweight\n\r\rstat_contour()æ¥å—ä»¥ä¸‹å‚æ•°(é»‘ä½“ä¸ºå¿…é¡»å‚æ•°):\n\rx\n\ry\n\rz\n\rgroup\n\rorder\n\r\r\r2.6.3 è®¡ç®—å˜é‡\r\rlevel:ç­‰é«˜çº¿çš„é«˜åº¦\n\rnlevel:ç­‰é«˜çº¿çš„é«˜åº¦,æœ€å¤§å€¼scaleåˆ°1.\n\rpiece:contour piece (æ•´æ•°).\n\r\r\r2.6.4 ä¾‹å­\r# åŸºç¡€å›¾å½¢\rlibrary(ggplot2)\r## å…ˆçœ‹çœ‹æ•°æ®\rhead(faithfuld)\r## # A tibble: 6 x 3\r## eruptions waiting density\r## \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 1.6 43 0.00322\r## 2 1.65 43 0.00384\r## 3 1.69 43 0.00444\r## 4 1.74 43 0.00498\r## 5 1.79 43 0.00542\r## 6 1.84 43 0.00574\rv \u0026lt;- ggplot(faithfuld, aes(waiting, eruptions, z = density))\rv + geom_contour()\r# ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®å‚æ•°bins,æ¥ç¡®å®šæœ‰å‡ ä¸ªç­‰é«˜çº¿.\rv + geom_contour(bins = 2)\rv + geom_contour(bins = 10)\r# å½“ç„¶,ä¹Ÿå¯ä»¥è®¾ç½®ç­‰é«˜çº¿ä¹‹é—´çš„è·ç¦»\rv + geom_contour(binwidth = 0.01)\rv + geom_contour(binwidth = 0.001)\r# å…¶ä»–çš„å‚æ•°\r##levelå°±æ˜¯stat_contourçš„å…¶ä¸­ä¸€ä¸ªè®¡ç®—å˜é‡,level.\rv + geom_contour(aes(colour = ..level..))\r##ä¸‹é¢ä¸ä¸Šé¢ç›¸åŒ.\rv + geom_contour(aes(colour = stat(level)))\rv + geom_contour(colour = \u0026quot;red\u0026quot;)\r# geom_rectç”¨æ¥ç”»çŸ©å½¢\rv + geom_raster(aes(fill = density)) +\rgeom_contour(colour = \u0026quot;white\u0026quot;)\rv + geom_raster(aes(fill = density)) +\rscale_fill_gradient(low = \u0026quot;white\u0026quot;, high = \u0026quot;red\u0026quot;) +\rgeom_contour(colour = \u0026quot;white\u0026quot;)\r\r\r\r3 å¸¸è§é—®é¢˜æ€»ç»“\r3.1 å¦‚ä½•ä¿è¯ä¸åŒå›¾ä¸­legendçš„scaleä¸€è‡´\ræ¯”å¦‚ä¸¤ä¸ªå›¾ä¸­,æˆ‘ä»¬æƒ³ä¿è¯legendå¯¹åº”çš„sizeçš„ç²—ç»†æ˜¯å’Œæ•°æ®ä¸€è‡´çš„.\nlibrary(ggplot2)\rlibrary(tidyverse)\r## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tibble\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tidyr\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 3.6.1\r data.frame(x = 1:5, y = 1:5) %\u0026gt;% ggplot() +\rgeom_point(aes(x = x, y = y, size = x))\rä½¿ç”¨scale_size_...()å‡½æ•°æ¥è¿›è¡Œè®¾ç½®.\n data.frame(x = 1:5, y = 1:5) %\u0026gt;% ggplot() +\rgeom_point(aes(x = x, y = y, size = x)) +\rscale_size_continuous(limits = c(1,5), range = c(1,5))\rdata.frame(x = 1:5, y = 1:5) %\u0026gt;% ggplot() +\rgeom_point(aes(x = x, y = y, size = x)) +\rscale_size_continuous(limits = c(1,5), range = c(5,6))\rå…¶ä¸­å‚æ•°limitsæ˜¯ä¸€ä¸ªä¸¤ä¸ªçš„æ•°å€¼vector,ç”¨æ¥è®¾ç½®æ˜¯æŒ‡çš„æœ€å°å’Œæœ€å¤§å€¼.è€Œå‚æ•°rangeä¹Ÿæ˜¯ä¸€ä¸ªä¸¤ä¸ªæ•°å€¼çš„vector,ç”¨æ¥è®¾ç½®pointçš„sizeçš„æœ€å°å€¼å’Œæœ€å¤§å€¼.\n\r\r","date":1571961600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571961600,"objectID":"997ed357d5a06e08724797e4becbb044","permalink":"/post/ggplot2-cookbook/","publishdate":"2019-10-25T00:00:00Z","relpermalink":"/post/ggplot2-cookbook/","section":"post","summary":"1 ç»˜å›¾åŸºç¡€(plot basics) 1.1 ggplot() åˆ›å»ºä¸€ä¸ªæ–°çš„ggplotå›¾ç‰‡ 1.1.1 å‚æ•° 1.1.2 ç»†èŠ‚ 1.1.3 ä¾‹å­ 1.2 aes() åˆ›å»ºç¾å­¦æ˜ å°„ 1.2.1 å‚æ•° 1.2.2 ç»†èŠ‚ 1.2.3 ä¾‹å­ 1.3 ggsave()ä¿å­˜ggplot","tags":["Blog"],"title":"ggplot2 cookbook","type":"post"},{"authors":null,"categories":[],"content":"\r\r0.0.1 å®‰è£…\r0.0.2 ä½¿ç”¨\r0.0.3 åˆ¶ä½œè‡ªå·±çš„æš—é»‘ä¸»é¢˜\r\r\rä»Šå¤©ä»‹ç»ä¸€ä¸ªggplot2çš„æ‰©å±•åŒ…,ä¹Ÿæ˜¯ä¸€ä¸ªä¸»é¢˜åŒ…,å«åšggdark.\n0.0.1 å®‰è£…\r#å¯ä»¥ç›´æ¥ä»cranå®‰è£…\r# if(!require(ggdark)){\r# install.packages(\u0026quot;ggdark\u0026quot;) # }\r#ä¹Ÿå¯ä»¥ä»githubå®‰è£…\r# if(!require(ggdark)){\r# devtools::install_github(\u0026quot;nsgrantham/ggdark\u0026quot;)\r# }\r\r0.0.2 ä½¿ç”¨\rggdarkä¸­çš„å‡½æ•°å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»,ä¸€ç±»å°±æ˜¯æä¾›ä¸ggplot2ä¸»é¢˜ç›¸å¯¹åº”çš„æš—é»‘æ¨¡å¼.\nlibrary(ggdark)\r## Warning: package \u0026#39;ggdark\u0026#39; was built under R version 3.6.1\rlibrary(ggplot2)\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\rp \u0026lt;- ggplot(diamonds) + geom_point(aes(carat, price, color = cut)) + scale_y_continuous(label = scales::dollar) +\rguides(color = guide_legend(reverse = TRUE)) +\rlabs(title = \u0026quot;Prices of 50,000 round cut diamonds by carat and cut\u0026quot;,\rx = \u0026quot;Weight (carats)\u0026quot;,\ry = \u0026quot;Price in US dollars\u0026quot;,\rcolor = \u0026quot;Quality of the cut\u0026quot;)\rp\r#ä½¿ç”¨ggdarkçš„å„ç§æš—é»‘ä¸»é¢˜\rp + ggdark::dark_theme_bw()\r## Inverted geom defaults of fill and color/colour.\r## To change them back, use invert_geom_defaults().\rp + ggdark::dark_theme_classic()\rp + ggdark::dark_theme_dark()\rp + ggdark::dark_theme_gray()\rp + ggdark::dark_theme_light()\rp + ggdark::dark_theme_linedraw()\rp + ggdark::dark_theme_minimal()\rp + ggdark::dark_theme_test()\rp + ggdark::dark_theme_void()\r\r0.0.3 åˆ¶ä½œè‡ªå·±çš„æš—é»‘ä¸»é¢˜\rå¯¹äºä»»æ„å…¶ä»–çš„ä¸»é¢˜,åªéœ€å°†ä¸»é¢˜æ”¾å…¥åˆ°dark_mode()å‡½æ•°ä¸­,å°±å¯ä»¥å°†å…¶è½¬å˜ä¸ºæš—é»‘æ¬¾çš„ä¸»é¢˜.\nggdark::invert_geom_defaults() # change geom defaults back to black\r# if(!require(gapminder)){\r# install.packages(\u0026quot;gapminder\u0026quot;)\r# }\rlibrary(gapminder)\r## Warning: package \u0026#39;gapminder\u0026#39; was built under R version 3.6.1\rp \u0026lt;- ggplot(subset(gapminder, continent != \u0026quot;Oceania\u0026quot;)) +\rgeom_line(aes(year, lifeExp, group = country, color = country), lwd = 1, show.legend = FALSE) + facet_wrap(~ continent) +\rscale_color_manual(values = country_colors) +\rlabs(title = \u0026quot;Life expectancy has increased worldwide\u0026quot;)\r# if(!require(ggthemes)){\r# install.packages(\u0026quot;ggthemes\u0026quot;)\r# }\rlibrary(ggthemes)\r## Warning: package \u0026#39;ggthemes\u0026#39; was built under R version 3.6.1\rp + theme_fivethirtyeight()\r##æš—é»‘ç‰ˆä¸»é¢˜\rp + dark_mode(theme_fivethirtyeight())\r## Inverted geom defaults of fill and color/colour.\r## To change them back, use invert_geom_defaults().\r\r","date":1571961600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571961600,"objectID":"c73c617fd46ab21bdc143aa5b2ad6825","permalink":"/post/ggplot2-dark-theme/","publishdate":"2019-10-25T00:00:00Z","relpermalink":"/post/ggplot2-dark-theme/","section":"post","summary":"0.0.1 å®‰è£… 0.0.2 ä½¿ç”¨ 0.0.3 åˆ¶ä½œè‡ªå·±çš„æš—é»‘ä¸»é¢˜ ä»Šå¤©ä»‹ç»ä¸€ä¸ªggplot2çš„æ‰©å±•åŒ…,ä¹Ÿæ˜¯ä¸€ä¸ªä¸»é¢˜åŒ…,å«åšggdark. 0.0.1 å®‰è£… #å¯ä»¥ç›´æ¥ä»cranå®‰è£… # if(!require(ggdark)){ # install.packages(\u0026quot;ggdark\u0026quot;)","tags":[],"title":"ggplot2æ‰©å±•ä¹‹é»‘æš—ä¸»é¢˜","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.0.1 ggplot2ä¸­å¦‚ä½•åè½¬åæ ‡è½´?\r0.0.2 ggplot2ä¸­å¦‚ä½•ä¿®æ”¹ç»˜å›¾åŒºåŸŸçš„è¾¹ç•Œ?\r0.0.3 å¦‚ä½•è·å¾—åˆé€‚çš„é…è‰²ç»„åˆ?\r0.0.4 ggplot2ä¸­å¦‚ä½•åè½¬åæ ‡è½´?\r\r\r0.0.1 ggplot2ä¸­å¦‚ä½•åè½¬åæ ‡è½´?\rä½¿ç”¨scale_x_reverse()/scale_y_reverse()å‡½æ•°.\nlibrary(ggplot2)\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\rlibrary(magrittr)\r## Warning: package \u0026#39;magrittr\u0026#39; was built under R version 3.6.1\rp \u0026lt;- mtcars %\u0026gt;% ggplot(aes(mpg, disp)) +\rgeom_point() p\r##åè½¬Xåæ ‡è½´\rp + scale_x_reverse()\r# åè½¬yåæ ‡è½´\rp + scale_y_reverse()\r\r0.0.2 ggplot2ä¸­å¦‚ä½•ä¿®æ”¹ç»˜å›¾åŒºåŸŸçš„è¾¹ç•Œ?\råœ¨theme()å‡½æ•°ä¸­è®¾ç½®plot.marginå‚æ•°,ä¸”è¯¥å‚æ•°åº”è¯¥æ˜¯ä¸€ä¸ªmargin()å‡½æ•°æ„å»ºçš„å¯¹è±¡.\nlibrary(ggplot2)\rlibrary(magrittr)\rp \u0026lt;- mtcars %\u0026gt;% ggplot(aes(mpg, disp)) +\rgeom_point(size = 2, colour = \u0026quot;skyblue\u0026quot;) +\rtheme_bw() +\rtheme(plot.margin = margin(t = 0, r = 0, b = 0, l = 0, unit = \u0026quot;pt\u0026quot;))\rp\r\r0.0.3 å¦‚ä½•è·å¾—åˆé€‚çš„é…è‰²ç»„åˆ?\ræ¯”è¾ƒå¸¸è§çš„é…è‰²å·¥å…·åŒ…æ‹¬ggsci,RColorBrewerç­‰.ä¸”å¯ä»¥ä½¿ç”¨scalesåŒ…ä¸­çš„show_col()å‡½æ•°æ¥å±•ç¤ºé¢œè‰².\nlibrary(ggsci)\r## Warning: package \u0026#39;ggsci\u0026#39; was built under R version 3.6.1\rlibrary(scales)\rtest_colour \u0026lt;- ggsci::pal_jama()(7)\rshow_col(test_colour)\rtest_colour \u0026lt;- ggsci::pal_jama(alpha = 0.5)(7)\rshow_col(test_colour)\rå¦å¤–,RColorBreweråŒ…ä¹Ÿéå¸¸æ–¹ä¾¿.\nlibrary(RColorBrewer)\r##æ˜¾ç¤ºæ‰€æœ‰çš„é…è‰²\rRColorBrewer::display.brewer.all()\r##å¯ä»¥æ‰©å¤§å¼„æ¯ä¸€ç§é…è‰²å·¦è¾¹éƒ½æœ‰è¯¥é…è‰²çš„åå­—,å› æ­¤å¦‚æœæƒ³è¦å•ç‹¬æ˜¾ç¤ºè¯¥é…è‰²,ç›´æ¥ä½¿ç”¨ä¸‹åˆ—å‘½ä»¤.\rRColorBrewer::display.brewer.pal(n = 9, name = \u0026quot;Set1\u0026quot;)\r##ä¸¤ä¸ªå‚æ•°åˆ†åˆ«ç”¨æ¥è®¾ç½®éœ€è¦æ˜¾ç¤ºçš„é¢œè‰²çš„ä¸ªæ•°ä»¥åŠé…è‰²çš„åå­—.\r#å¦‚æœéœ€è¦å°†è¯¥é…è‰²åå­—æå‡ºæ¥,ä½¿ç”¨ä¸‹é¢å‘½ä»¤\rRColorBrewer::brewer.pal(n = 9, name = \u0026quot;Set1\u0026quot;)\r## [1] \u0026quot;#E41A1C\u0026quot; \u0026quot;#377EB8\u0026quot; \u0026quot;#4DAF4A\u0026quot; \u0026quot;#984EA3\u0026quot; \u0026quot;#FF7F00\u0026quot; \u0026quot;#FFFF33\u0026quot; \u0026quot;#A65628\u0026quot;\r## [8] \u0026quot;#F781BF\u0026quot; \u0026quot;#999999\u0026quot;\r\r0.0.4 ggplot2ä¸­å¦‚ä½•åè½¬åæ ‡è½´?\r\r","date":1571961600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571961600,"objectID":"c4fe18b23ee719e0565d8a136fbe9761","permalink":"/post/r-data-visulization-cookbook/","publishdate":"2019-10-25T00:00:00Z","relpermalink":"/post/r-data-visulization-cookbook/","section":"post","summary":"0.0.1 ggplot2ä¸­å¦‚ä½•åè½¬åæ ‡è½´? 0.0.2 ggplot2ä¸­å¦‚ä½•ä¿®æ”¹ç»˜å›¾åŒºåŸŸçš„è¾¹ç•Œ? 0.0.3 å¦‚ä½•è·å¾—åˆé€‚çš„é…è‰²ç»„åˆ? 0.0.4 ggplot2ä¸­å¦‚ä½•åè½¬åæ ‡è½´? 0.0.1 g","tags":["Blog"],"title":"R data visulization cookbook","type":"post"},{"authors":null,"categories":["R"],"content":"\rRstudioçš„Rprojectå¯ä»¥ç”¨æ¥æ–¹ä¾¿çš„ç®¡ç†è‡ªå·±çš„æŸä¸ªé¡¹ç›®çš„æ‰€æœ‰ä»£ç ,æ–‡ä»¶ç­‰ç­‰.å¦å¤–çš„ä¸€ä¸ªå¥½å¤„æ˜¯æ‰“å¼€è¯¥é¡¹ç›®æ–‡ä»¶ä¹‹å,è·¯å¾„è‡ªåŠ¨è®¾ç½®ä¸ºè¯¥projectæ‰€åœ¨çš„å·¥ä½œç›®å½•,å› æ­¤åœ¨è¯¥é¡¹ç›®ä¸‹å¯ä»¥é€šè¿‡ç›¸å¯¹è·¯å¾„æ¥è®¾ç½®åç»­åˆ†ææ–‡ä»¶æ‰€åœ¨çš„å·¥ä½œç›®å½•.ä»æœªæ–¹ä¾¿ä»£ç çš„ç§»æ¤å’Œåˆ†äº«.\nä½†æ˜¯å¦‚ä½•å¿«é€Ÿå›åˆ°è‡ªå·±Rprojectæ‰€åœ¨çš„ç›®å½•å‘¢?æ¯”å¦‚åœ¨æŸä¸ªé¡¹ç›®ä¸­,æˆ‘çš„Rprojectæ‰€åœ¨ç›®å½•ä¸ºA,è€Œæˆ‘çš„æŸä¸ªæ•°æ®åˆ†æçš„æ–‡ä»¶åœ¨è·¯å¾„A/B/C,å½“æˆ‘é€šè¿‡ç›¸å¯¹è·¯å¾„è®¾ç½®åœ¨è¯¥ç›®å½•ä¸‹,å¦å¤–ä¸€ä¸ªåˆ†ææ‰€åœ¨çš„ç›®å½•ä¸ºA/E/F,è¿™æ—¶å€™æˆ‘å°±éœ€è¦å…ˆå°†è·¯å¾„è®¾ç½®åˆ°A,ç„¶åæ‰å¯ä»¥å†é€šè¿‡è®¾ç½®ç›¸å¯¹è·¯å¾„å°†ç›®å½•ä¿®æ”¹ä¸ºA/E/F.æ‰€ä»¥å¯ä»¥çœ‹åˆ°,éœ€è¦ç»å¸¸å°†ç›®å½•è®¾ç½®ä¸ºRprojectæ‰€åœ¨çš„æ ¹ç›®å½•.å› æ­¤,å†™äº†ä¸€ä¸ªå°çš„å‡½æ•°,å¯ä»¥ç”¨æ¥å¿«é€Ÿçš„ç›®å½•åˆ‡æ¢ä¸ºRprojectæ‰€åœ¨ç›®å½•.\nä»£ç å¦‚ä¸‹:\nsetwd_project \u0026lt;- function() {\rcurrect_wd \u0026lt;-\rgetwd()\rcandidate_wd \u0026lt;-\rcurrect_wd %\u0026gt;%\rstringr::str_split(\u0026quot;/\u0026quot;) %\u0026gt;%\runlist()\rif (length(candidate_wd) == 1) {\rcandidate_wd \u0026lt;- currect_wd\r} else{\rcandidate_wd \u0026lt;-\rlapply(2:length(candidate_wd), function(i) {\rpaste(candidate_wd[1:i], collapse = \u0026quot;/\u0026quot;)\r})\r}\rcandidate_wd \u0026lt;-\rrev(candidate_wd)\rfor (i in 1:length(candidate_wd)) {\rwd \u0026lt;- candidate_wd[[i]]\rfile_name \u0026lt;-\rlist.files(wd,\rrecursive = ifelse(wd == currect_wd, TRUE, FALSE),\rfull.names = TRUE)\rproject_index \u0026lt;-\rgrep(\u0026quot;.Rproj\u0026quot;, file_name)\rif (length(project_index) != 0) {\rproject_wd \u0026lt;-\rfile_name[project_index[1]] %\u0026gt;%\rstringr::str_split(\u0026quot;/\u0026quot;) %\u0026gt;%\runlist() %\u0026gt;%\rhead(-1) %\u0026gt;%\rpaste(collapse = \u0026quot;/\u0026quot;)\rcat(\r\u0026quot;The project name is:\u0026quot;,\rfile_name[project_index[1]] %\u0026gt;%\rstringr::str_split(\u0026quot;/\u0026quot;) %\u0026gt;%\runlist() %\u0026gt;%\rtail(1),\r\u0026quot;\\n\u0026quot;\r)\rcat(\u0026quot;The project wd is:\u0026quot;,\rproject_wd, \u0026quot;\\n\u0026quot;)\rsetwd(project_wd)\rbreak()\r}\r}\rif (length(project_index) == 0) {\rcat(\u0026quot;There are no .Rproj in your file. No change for wd.\\n\u0026quot;)\r}\r}\ræ€è·¯å’Œä»£ç éƒ½å¾ˆç®€å•,è¿™ä¸ªå‡½æ•°ä¹Ÿåœ¨æˆ‘è‡ªå·±å¸¸ç”¨çš„å°å·¥å…·é›†åˆsxtToolsåŒ…ä¸­,æ‰€è¿‡æƒ³è¦ç›´æ¥ä½¿ç”¨,å¯ä»¥è€ƒè™‘å®‰è£…è¿™ä¸ªåŒ….\ndevtools::install_github(\u0026quot;jaspershen/sxtTools\u0026quot;)\r","date":1571961600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571961600,"objectID":"18228c13057d639399f1f11b4bfdfcc8","permalink":"/post/r-project-work-directory/","publishdate":"2019-10-25T00:00:00Z","relpermalink":"/post/r-project-work-directory/","section":"post","summary":"Rstudioçš„Rprojectå¯ä»¥ç”¨æ¥æ–¹ä¾¿çš„ç®¡ç†è‡ªå·±çš„æŸä¸ªé¡¹ç›®çš„æ‰€æœ‰ä»£ç ,æ–‡ä»¶ç­‰ç­‰.å¦å¤–çš„ä¸€ä¸ªå¥½å¤„æ˜¯æ‰“å¼€è¯¥é¡¹ç›®æ–‡ä»¶ä¹‹å,è·¯å¾„è‡ªåŠ¨è®¾ç½®ä¸ºè¯¥p","tags":["Blog"],"title":"å¿«é€Ÿå›åˆ°R projectæ‰€åœ¨çš„å·¥ä½œç›®å½•","type":"post"},{"authors":null,"categories":["life"],"content":"\r\r0.0.1 Adobeè½¯ä»¶\r\r\rè¿™ç¯‡åšæ–‡ä¸»è¦ç”¨æ¥è®°å½•æ–¯å¦ç¦æ ¡å†…çš„ä¸€äº›èµ„æºå’Œæ‰‹ç»­çš„åŠç†äº‹é¡¹.\n0.0.1 Adobeè½¯ä»¶\ræ–¯å¦ç¦åŒ»å­¦é™¢æ˜¯æœ‰å…è´¹çš„Adobeè½¯ä»¶å¯ä»¥ä½¿ç”¨çš„,åŒ…æ‹¬Illustrator,photoshopç­‰.ç½‘å€å¦‚ä¸‹:\nhttps://csbf.stanford.edu/software/.\nå«CSBF.ç‚¹è¿›å»ä¹‹å,ç‚¹å‡»(Sign your lab up here),ç„¶åè¾“å…¥ä¿¡æ¯,æ³¨å†Œè´¦å·,ä¼šæ”¶åˆ°é‚®ä»¶,æç¤ºæ³¨å†ŒæˆåŠŸ,ä¸€èˆ¬è´¦å·å°±æ˜¯SunetID.ç„¶åå†æ¬¡ç™»å½•CSBFç½‘ç«™,ä¸‹è½½è½¯ä»¶,å®‰è£…å³å¯.ä½†æ˜¯è¯¥è½¯ä»¶åªèƒ½åœ¨æ–¯å¦ç¦ç½‘ç»œæ¡ä»¶ä¸‹ä½¿ç”¨.\n\r","date":1571961600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571961600,"objectID":"6f7b1591ea285c8cd42264f6975c6ac4","permalink":"/post/stanford-resource-summary/","publishdate":"2019-10-25T00:00:00Z","relpermalink":"/post/stanford-resource-summary/","section":"post","summary":"0.0.1 Adobeè½¯ä»¶ è¿™ç¯‡åšæ–‡ä¸»è¦ç”¨æ¥è®°å½•æ–¯å¦ç¦æ ¡å†…çš„ä¸€äº›èµ„æºå’Œæ‰‹ç»­çš„åŠç†äº‹é¡¹. 0.0.1 Adobeè½¯ä»¶ æ–¯å¦ç¦åŒ»å­¦é™¢æ˜¯æœ‰å…è´¹çš„Adobeè½¯ä»¶å¯ä»¥ä½¿ç”¨çš„,åŒ…","tags":["Blog"],"title":"æ–¯å¦ç¦èµ„æºæ€»ç»“","type":"post"},{"authors":null,"categories":["omics"],"content":"\r\r0.0.1 Machine learning for biomedical information\r\r\rfreenome\nfreenome intergateing innovative science to develop a blood-based cancer test starting with CRC.\ncfDNA (cell free DNA).\nInterpreting deep learning models of regulatory DNA\nAnshul Kundaje\ndecoding genome function\ncontrol elements gene\nATAC-seq/DNase-seq\nChIP-seq\nprediCtive model of regularity DNA\nJust transform DNA sequence to dummy matrxi.\n0.0.1 Machine learning for biomedical information\rhierarchical latent variable models?\n\r","date":1571270400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571270400,"objectID":"9a720b0b75c7b3b138a682e22c25e800","permalink":"/post/machine-for-genomics-conference/","publishdate":"2019-10-17T00:00:00Z","relpermalink":"/post/machine-for-genomics-conference/","section":"post","summary":"\r\r0.0.1 Machine learning for biomedical information\r\r\rfreenome\nfreenome intergateing innovative science to develop a blood-based cancer test starting with CRC.\ncfDNA (cell free DNA).\nInterpreting deep learning models of regulatory DNA\nAnshul Kundaje\ndecoding genome function\ncontrol elements gene\nATAC-seq/DNase-seq\nChIP-seq\nprediCtive model of regularity DNA\nJust transform DNA sequence to dummy matrxi.\n0.0.1 Machine learning for biomedical information\rhierarchical latent variable models?\n\r","tags":["Academic"],"title":"Machine for genomics conference","type":"post"},{"authors":null,"categories":["omics"],"content":"\r\r0.0.1 Machine learning for biomedical information\r\r\rfreenome\nfreenome intergateing innovative science to develop a blood-based cancer test starting with CRC.\ncfDNA (cell free DNA).\nInterpreting deep learning models of regulatory DNA\nAnshul Kundaje\ndecoding genome function\ncontrol elements gene\nATAC-seq/DNase-seq\nChIP-seq\nprediCtive model of regularity DNA\nJust transform DNA sequence to dummy matrxi.\n0.0.1 Machine learning for biomedical information\rhierarchical latent variable models?\n\r","date":1571270400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571270400,"objectID":"1e9e8cbb4c6f0c134a8c619e9a6482b7","permalink":"/post/machine-for-genomics-conference/","publishdate":"2019-10-17T00:00:00Z","relpermalink":"/post/machine-for-genomics-conference/","section":"post","summary":"\r\r0.0.1 Machine learning for biomedical information\r\r\rfreenome\nfreenome intergateing innovative science to develop a blood-based cancer test starting with CRC.\ncfDNA (cell free DNA).\nInterpreting deep learning models of regulatory DNA\nAnshul Kundaje\ndecoding genome function\ncontrol elements gene\nATAC-seq/DNase-seq\nChIP-seq\nprediCtive model of regularity DNA\nJust transform DNA sequence to dummy matrxi.\n0.0.1 Machine learning for biomedical information\rhierarchical latent variable models?\n\r","tags":["Academic"],"title":"Machine for genomics conference","type":"post"},{"authors":null,"categories":["docker"],"content":"\rå°†è‡ªå·±å®‰è£…docker,ä½¿ç”¨ä»¥åŠé…ç½®è®°å½•ä¸‹æ¥,ä¸»è¦è¿˜åŒ…æ‹¬å¸¸ç”¨çš„å‘½ä»¤æ€»ç»“ä»¥åŠä¸€äº›bugçš„å¤„ç†,ä»¥åŠä¸€äº›å¸¸è§èµ„æº.\n","date":1571184000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571184000,"objectID":"0d7f160f198dbce9f529a54e9bac6cff","permalink":"/post/docker/","publishdate":"2019-10-16T00:00:00Z","relpermalink":"/post/docker/","section":"post","summary":"å°†è‡ªå·±å®‰è£…docker,ä½¿ç”¨ä»¥åŠé…ç½®è®°å½•ä¸‹æ¥,ä¸»è¦è¿˜åŒ…æ‹¬å¸¸ç”¨çš„å‘½ä»¤æ€»ç»“ä»¥åŠä¸€äº›bugçš„å¤„ç†,ä»¥åŠä¸€äº›å¸¸è§èµ„æº.","tags":["Blog","Academic","Software"],"title":"Dockerçš„å®‰è£…ä½¿ç”¨å’Œé…ç½®","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.0.1 lassoæ¨¡å‹\r0.0.2 References\r\r\r0.0.1 lassoæ¨¡å‹\rLASSOå›å½’çš„ç‰¹ç‚¹æ˜¯åœ¨æ‹Ÿåˆå¹¿ä¹‰çº¿æ€§æ¨¡å‹çš„åŒæ—¶è¿›è¡Œå˜é‡ç­›é€‰(variable selection)å’Œå¤æ‚åº¦è°ƒæ•´(regularization).å› æ­¤,ä¸è®ºå› å˜é‡(dependent/response varaible)æ˜¯è¿ç»­çš„(continuous),è¿˜æ˜¯äºŒå…ƒæˆ–è€…å¤šå…ƒç¦»æ•£çš„ï¼ˆdiscreteï¼‰,éƒ½å¯ä»¥ç”¨LASSOå›å½’å»ºæ¨¡ç„¶åé¢„æµ‹.è¿™é‡Œçš„å˜é‡ç­›é€‰æ˜¯æŒ‡ä¸æŠŠæ‰€æœ‰çš„å˜é‡éƒ½æ”¾å…¥æ¨¡å‹ä¸­è¿›è¡Œæ‹Ÿåˆ,è€Œæ˜¯æœ‰é€‰æ‹©çš„æŠŠå˜é‡æ”¾å…¥æ¨¡å‹ä»è€Œå¾—åˆ°æ›´å¥½çš„æ€§èƒ½å‚æ•°. å¤æ‚åº¦è°ƒæ•´æ˜¯æŒ‡é€šè¿‡ä¸€ç³»åˆ—å‚æ•°æ§åˆ¶æ¨¡å‹çš„å¤æ‚åº¦,ä»è€Œé¿å…è¿‡æ‹Ÿåˆ(overfitting). å¯¹äºçº¿æ€§æ¨¡å‹æ¥è¯´,å¤æ‚åº¦ä¸æ¨¡å‹çš„å˜é‡æ•°æœ‰ç›´æ¥å…³ç³»,å˜é‡æ•°è¶Šå¤š,æ¨¡å‹å¤æ‚åº¦å°±è¶Šé«˜. æ›´å¤šçš„å˜é‡åœ¨æ‹Ÿåˆæ—¶å¾€å¾€å¯ä»¥ç»™å‡ºä¸€ä¸ªçœ‹ä¼¼æ›´å¥½çš„æ¨¡å‹,ä½†æ˜¯åŒæ—¶ä¹Ÿé¢ä¸´è¿‡åº¦æ‹Ÿåˆçš„å±é™©.æ­¤æ—¶å¦‚æœç”¨å…¨æ–°çš„æ•°æ®å»éªŒè¯æ¨¡å‹(validation),é€šå¸¸æ•ˆæœå¾ˆå·®. ä¸€èˆ¬æ¥è¯´,å˜é‡æ•°å¤§äºæ•°æ®ç‚¹æ•°é‡å¾ˆå¤š,æˆ–è€…æŸä¸€ä¸ªç¦»æ•£å˜é‡æœ‰å¤ªå¤šç‹¬ç‰¹å€¼æ—¶,éƒ½æœ‰å¯èƒ½è¿‡åº¦æ‹Ÿåˆ.\nLASSOå›å½’çš„å¤æ‚åº¦ä¸»è¦ç”±å‚æ•°\\(\\lambda\\)(lambda)æ¥æ§åˆ¶.lambdaè¶Šå¤§,å¯¹å˜é‡è¾ƒå¤šçš„çº¿æ€§æ¨¡å‹çš„æƒ©ç½šåŠ›åº¦å°±è¶Šå¤§.æœ€ç»ˆè·å¾—ä¸€ä¸ªå˜é‡è¾ƒå°‘çš„æ¨¡å‹.\nå¦å¤–è¿˜æœ‰ä¸€ä¸ªå‚æ•°\\(\\alpha\\)(alpha)ç”¨æ¥æ§åˆ¶é«˜åº¦ç›¸å…³æ€§æ¨¡å‹çš„æ€§çŠ¶.LASSOå›å½’æ—¶,alphaè®¾ç½®ä¸º1.\nä½¿ç”¨glmnetåŒ…å¯ä»¥è¿›è¡ŒLASSOå›å½’.å®ƒå¯ä»¥å¯¹ä¸€ç³»åˆ—ä¸åŒçš„lambdaå€¼è¿›è¡Œæ‹Ÿåˆ,æ¯æ¬¡æ‹Ÿåˆéƒ½ç”¨åˆ°ä¸Šä¸€ä¸ªlambdaæ‹Ÿåˆçš„ç»“æœ,ä»è€Œå¤§å¤§æé«˜äº†è¿è¡Œæ•ˆç‡.\n0.0.1.1 å¸¸ç”¨å‚æ•°å¦‚ä¸‹:\r\rx: è‡ªå˜é‡æ•°æ®é›†,éœ€è¦ä¸ºmatrixæ ¼å¼,è¡Œä¸ºè§‚æµ‹åˆ—ä¸ºå˜é‡.\n\ry: å› å˜é‡æ•°æ®é›†,éœ€è¦ä¸ºmatrixæ ¼å¼,åªæœ‰ä¸€åˆ—.\rfamily: åº”å˜é‡ç±»å‹.å¦‚æœæ—¶è¿ç»­æ€§å˜é‡(ä¹Ÿå°±æ˜¯è¦åšå›å½’åˆ†æ),familyåº”è¯¥ä¸ºgussian(é«˜æ–¯åˆ†å¸ƒ/æ­£æ€åˆ†å¸ƒ)æˆ–è€…poisson(æ³Šæ¾åˆ†å¸ƒ).å¦‚æœä¸ºä¸¤åˆ†ç±»ä¸è¿ç»­å˜é‡(factorç±»å‹,ä¸”åªæœ‰ä¸¤ä¸ªlevels),åº”è®¾ç½®ä¸ºbinomial.å¦‚æœæ—¶å¤šåˆ†ç±»ä¸è¿ç»­å˜é‡(factorç±»å‹,ä¸”å¤šä¸ªlevels),åˆ™åº”è®¾ç½®ä¸ºmultinomial.å¦‚æœè®¾ç½®ä¸ºcox,åˆ™yåº”å½“ä¸ºä¸€ä¸ªä¸¤åˆ—çš„matrix,åˆ—ååˆ†åˆ«ä¸ºtimeå’Œstatus,tiemä¸ºå­˜æ´»æ—¶é—´,statusä¸ºç»“å±€çŠ¶æ€(1ä»£è¡¨æ­»äº¡,0ä»£è¡¨è¿˜æœªæ­»äº¡).\ralpha: åœ¨LASSOå›å½’ä¸­,å°†å…¶è®¾ç½®ä¸º1.\rnlambda: é€‰å–å¤šå°‘ä¸ªlambdaè¿›è¡Œä¼˜åŒ–,é»˜è®¤ä¸º100.ä¹Ÿå°±æ˜¯ä½¿ç”¨100ä¸ªlambdaå€¼æ‹Ÿåˆå‡º100ä¸ªç³»æ•°ä¸åŒçš„æ¨¡å‹.\rlambda: æä¾›lambdaå€¼,å¦‚æœè®¾ç½®è¯¥å€¼(ä¸€ä¸ªæˆ–è€…å¤šä¸ª),åˆ™ä¼šè¦†ç›–æ‰è‡ªåŠ¨é€‰æ‹©çš„lambdaå€¼.\rstandardize: æ˜¯å¦å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–(scale),é»˜è®¤ä¸ºTRUE.æ¨èè‡ªå·±å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–,å¦‚æœè‡ªå·±åšè¿‡scaäº†,è¿™é‡Œéœ€è¦è®¾ç½®ä¸ºFALSE.\r\r\r0.0.1.2 æ„å»ºæ¨¡å‹\ræ„å»ºæ¨¡å‹ä¹‹å,å¯ä»¥å°†å…¶æ‰“å°å‡ºæ¥è§‚å¯Ÿå…·ä½“ä¿¡æ¯.\n\r\r0.0.2 References\r\rhttps://cosx.org/2016/10/data-mining-1-lasso/\r\r\r","date":1571184000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571184000,"objectID":"be54e1d783fff2913a651441ebc77998","permalink":"/post/r-ml-model/","publishdate":"2019-10-16T00:00:00Z","relpermalink":"/post/r-ml-model/","section":"post","summary":"0.0.1 lassoæ¨¡å‹ 0.0.2 References 0.0.1 lassoæ¨¡å‹ LASSOå›å½’çš„ç‰¹ç‚¹æ˜¯åœ¨æ‹Ÿåˆå¹¿ä¹‰çº¿æ€§æ¨¡å‹çš„åŒæ—¶è¿›è¡Œå˜é‡ç­›é€‰(variable selection)å’Œå¤æ‚åº¦","tags":["Blog","Academic","Statistical analysis"],"title":"Rè¯­è¨€å¸¸è§ç»Ÿè®¡é¢„æµ‹æ¨¡å‹","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.0.1 å®‰è£…\r0.0.2 å¸¸ç”¨åŠŸèƒ½æ€»ç»“\r0.0.3 ä»data frameè½¬å˜ä¸º``igraphå¯¹è±¡\r\r\rigraphæ˜¯ä¸€äº›åˆ—ç½‘ç»œåˆ†æå·¥å…·çš„é›†åˆ.å¼€æºä¸”å…è´¹,æ‹¥æœ‰R, Pythonä»¥åŠC/C++ç­‰è¯­è¨€æ¥å£.æˆ‘ä»¬ä¸»è¦ä»‹ç»Rè¯­è¨€ä¸­çš„igraphåŒ….å…¶å®˜ç½‘å¦‚ä¸‹:\rhttps://igraph.org/r/doc/plot.common.html\n0.0.1 å®‰è£…\r\r0.0.2 å¸¸ç”¨åŠŸèƒ½æ€»ç»“\r\r0.0.3 ä»data frameè½¬å˜ä¸º``igraphå¯¹è±¡\rä½¿ç”¨graph_from_data_frame()å‡½æ•°.ä¸€å…±ä¸‰ä¸ªå‚æ•°:\n\rd:data.frame,å‰ä¸¤åˆ—å¿…é¡»æ˜¯ä¸€æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹,æ¯”å¦‚ç¬¬ä¸€åˆ—ä¸ºfrom,ç¬¬äºŒåˆ—ä¸ºto.å…¶ä½™çš„åˆ—ä¼šä½œä¸ºedgeçš„å±æ€§.\n\rdirected:æ˜¯å¦ä¸ºæœ‰å‘å›¾,é»˜è®¤ä¸ºTRUE.\n\rvertices:éœ€è¦æ˜¯ä¸€ä¸ªdata.frame.ç¬¬ä¸€åˆ—æ˜¯vertexçš„åå­—,ç„¶åå…¶ä»–åˆ—æ˜¯vertexçš„å±æ€§.\n\r\rlibrary(igraph)\r## ## Attaching package: \u0026#39;igraph\u0026#39;\r## The following objects are masked from \u0026#39;package:stats\u0026#39;:\r## ## decompose, spectrum\r## The following object is masked from \u0026#39;package:base\u0026#39;:\r## ## union\ractors \u0026lt;- data.frame(name=c(\u0026quot;Alice\u0026quot;, \u0026quot;Bob\u0026quot;, \u0026quot;Cecil\u0026quot;, \u0026quot;David\u0026quot;,\r\u0026quot;Esmeralda\u0026quot;),\rage=c(48,33,45,34,21),\rgender=c(\u0026quot;F\u0026quot;,\u0026quot;M\u0026quot;,\u0026quot;F\u0026quot;,\u0026quot;M\u0026quot;,\u0026quot;F\u0026quot;))\rrelations \u0026lt;- data.frame(from=c(\u0026quot;Bob\u0026quot;, \u0026quot;Cecil\u0026quot;, \u0026quot;Cecil\u0026quot;, \u0026quot;David\u0026quot;,\r\u0026quot;David\u0026quot;, \u0026quot;Esmeralda\u0026quot;),\rto=c(\u0026quot;Alice\u0026quot;, \u0026quot;Bob\u0026quot;, \u0026quot;Alice\u0026quot;, \u0026quot;Alice\u0026quot;, \u0026quot;Bob\u0026quot;, \u0026quot;Alice\u0026quot;),\rsame.dept=c(FALSE,FALSE,TRUE,FALSE,FALSE,TRUE),\rfriendship=c(4,5,5,2,1,1), advice=c(4,5,5,4,2,3))\rg \u0026lt;- graph_from_data_frame(relations, directed = TRUE, vertices = actors)\rg\r## IGRAPH 9e0c0ea DN-- 5 6 -- ## + attr: name (v/c), age (v/n), gender (v/c), same.dept (e/l),\r## | friendship (e/n), advice (e/n)\r## + edges from 9e0c0ea (vertex names):\r## [1] Bob -\u0026gt;Alice Cecil -\u0026gt;Bob Cecil -\u0026gt;Alice David -\u0026gt;Alice\r## [5] David -\u0026gt;Bob Esmeralda-\u0026gt;Alice\rplot(g)\r0.0.3.1 å¯»æ‰¾æŸä¸ªvertexçš„neighbor\rä½¿ç”¨neighbors()å‡½æ•°.ä¸€å…±ä¸¤ä¸ªå‚æ•°:\n\rgraph:igraphç±»å¯¹è±¡.\n\rV:æŸvertexçš„åå­—(name).\n\rmode: å¯¹äºæœ‰å‘å›¾æ¥è¯´,æ˜¯å¯»æ‰¾ä»è¯¥vertexå‡ºå‘çš„neighbors(â€˜outâ€™),è¿˜æ˜¯æŒ‡å‘è¯¥vertexçš„neighbors(â€˜inâ€™),è¿˜æ˜¯ä¸¤ç§éƒ½å¯»æ‰¾(â€˜bothâ€™).\r\r\r0.0.3.2 è®¾ç½®graphä¸­vertexçš„å±æ€§\rå¦‚æœéœ€è¦ç»™graphä¸­çš„vertexå¢åŠ æˆ–è€…ä¿®æ”¹å±æ€§,å¯ä»¥ä½¿ç”¨ste_vertex_attr()å‡½æ•°.ä¸€å…±å››ä¸ªå‚æ•°:\n\rgraph:igraphç±»å¯¹è±¡.\n\rname:è®¾ç½®çš„æ–°çš„å±æ€§çš„åå­—.\n\rindex:è®¾ç½®vertexå±æ€§æ—¶çš„vertexçš„index.é»˜è®¤æŒ‰ç…§graphä¸­vertexçš„é»˜è®¤index(V(graph))æ¥è®¾ç½®.\rvalue:è®¾ç½®çš„å±æ€§çš„å€¼.éœ€è¦å’Œvertexçš„é•¿åº¦ä¸€è‡´.\r\r\r0.0.3.3 å°†igraphå¯¹è±¡è½¬å˜ä¸ºdata.frameæ ¼å¼\rä½¿ç”¨as_long_data_frame()å‡½æ•°å¯ä»¥å°†igraphè½¬æ¢ä¸ºdata.frameæ ¼å¼.åªæœ‰ä¸€ä¸ªå‚æ•°,å°±æ˜¯graph.\n\r0.0.3.4 ä»ä¸€ä¸ªgraphæå–å­graph(subgraph)\rä½¿ç”¨subgraph()å‡½æ•°.ä¸€å…±ä¸¤ä¸ªå‚æ•°:\n\rgraph:igraphç±»å¯¹è±¡.\n\rV:è¦æå–çš„subgraphçš„æ‰€æœ‰çš„vertexçš„åå­—(name).\r\r\r0.0.3.5 è·å–vertexå±æ€§\rä½¿ç”¨vertex_attr()å‡½æ•°.ä¸€å…±4ä¸ªå‚æ•°.\n\rgraph:igraphç±»å¯¹è±¡.\n\rname:éœ€è¦è·å–çš„å±æ€§çš„åå­—,é»˜è®¤æå–æ‰€æœ‰å±æ€§.\rindex:éœ€è¦è·å–é‚£äº›vertexçš„å±æ€§,é»˜è®¤æå–æ‰€æœ‰çš„vertex.\r\r\r\r","date":1571097600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571097600,"objectID":"363652498876d044afbd3e6d47f67fc0","permalink":"/post/igraph/","publishdate":"2019-10-15T00:00:00Z","relpermalink":"/post/igraph/","section":"post","summary":"0.0.1 å®‰è£… 0.0.2 å¸¸ç”¨åŠŸèƒ½æ€»ç»“ 0.0.3 ä»data frameè½¬å˜ä¸º``igraphå¯¹è±¡ igraphæ˜¯ä¸€äº›åˆ—ç½‘ç»œåˆ†æå·¥å…·çš„é›†åˆ.å¼€æºä¸”å…è´¹,æ‹¥æœ‰R, Python","tags":["Blog","Academic","Software"],"title":"ç½‘ç»œåˆ†æä¹‹igraph","type":"post"},{"authors":null,"categories":["life"],"content":"\r\r0.0.1 è¿œç¨‹è¿æ¥\r0.0.2 å®‰è£…è™šæ‹Ÿæœº\r0.0.3 ç½‘ç»œè¿æ¥é—®é¢˜\r\r\rå®éªŒå®¤æ–°ä¹°äº†ä¸€å°workstation.å› ä¸ºæœ‰è½¯ä»¶éœ€è¦åœ¨windowsä¸Šè¿è¡Œ,å› æ­¤æœ¬æ¥éœ€è¦å®‰è£…windows serverç‰ˆæœ¬.ä½†æ˜¯åæ¥é—®äº†ä¸€ä¸‹å­¦æ ¡çš„ITéƒ¨é—¨,å®‰è£…ä¸€å°æœåŠ¡å™¨éå¸¸éº»çƒ¦,éœ€è¦å­¦æ ¡ITéƒ¨é—¨æ¥å…³ç†,æ¯æœˆæ”¶è´¹350åˆ€.å¦‚æœæ˜¯è‡ªå·±å…³ç†,ä¹Ÿå¯ä»¥,ä½†æ˜¯å¦‚æœæœ‰æ•°æ®å¤–æ¼çš„è¯,è´£ä»»éœ€è¦è‡ªå·±è´Ÿè´£.å› æ­¤æœ€åè€ƒè™‘å®‰è£…æ™®é€šçš„window10ç‰ˆæœ¬,ç„¶åå¯ä»¥è¿œç¨‹è¿æ¥.æˆ‘è‡ªå·±å†çœ‹çœ‹èƒ½å¤Ÿåœ¨ä¸Šé¢çš„è™šæ‹Ÿæœºä¸Šå®‰è£…linuxç³»ç»Ÿ,å®ç°å¤šäººåŒæ—¶è¿œç¨‹ç»ƒçº§é¢.\n0.0.1 è¿œç¨‹è¿æ¥\rè¿æ¥ä¸ŠStanfordçš„VPNä¹‹å,è¿œç¨‹è¿æ¥å¹¶ä¸èµ·ä½œç”¨.å½“æ—¶æ¨æµ‹çš„å¯èƒ½å°±æ˜¯è¿™å°ç”µè„‘å±äºæŸä¸ªgroup,éœ€è¦æŠŠæˆ‘ä»¬çš„SunetIDåŠ å…¥åˆ€è¯¥groupå†…,ç„¶åæ‰èƒ½è¿›å».ä½†æ˜¯æ¥çš„ITäººå‘˜æäº†å¥½å‡ å¤©ä¹Ÿæ²¡æå®š,æˆ‘ä¹Ÿæ˜¯ç•¥å¾®æ— è¯­.éšåä¸åœ¨ç®¡ä»–,æˆ‘åœ¨IT onlineæäº¤äº†ticket,è¿‡äº†å¤§æ¦‚ä¸€ä¸ªæ˜ŸæœŸ,ç»ˆäºæŸ¥åˆ°äº†è§£å†³åŠæ³•,å°±æ˜¯è¯´éœ€è¦åŠ å…¥æŸä¸ªgroup.å°†é‚®ä»¶è®°å½•å¦‚ä¸‹:\n\rXiaotao,\rYour device is connected to Genetics VLAN 3020, CIDR 171.65.76.0/23. Users who need to have VPN/RDP access to the device need to be added to workgroup: net-access-som-vpn-genetics.\nPlease reach out to one of the admins below (to request access):\nChris Probert\nJin Wook Lee\nAnna Scherbina\nPlease let me know if you have any questions.\nBest regards,\nBrian, Med T\u0026amp;DS\n\rä½†æ˜¯éå¸¸å¥‡æ€ªçš„æ˜¯,è¿™å‡ ä¸ªäººæˆ‘ä»¬éƒ½ä¸è®¤è¯†,googleä¸€ä¸‹,ç«Ÿç„¶æ˜¯Biomedicine Informaticså®éªŒå®¤çš„.ç„¶åèµ¶ç´§ç»™ä»–ä»¬å‘äº†é‚®ä»¶,æ²¡æƒ³åˆ°å¾ˆå¿«å°±ç»™äº†å›å¤,è¯´å·²ç»æŠŠæˆ‘ä»¬çš„SunetIDåŠ å…¥åˆ°è¯¥groupä¸­,å¤§çº¦20åˆ†é’Ÿä¹‹åå¯ä»¥è¿æ¥.éšåæœç„¶å¯ä»¥.\nä½¿ç”¨Windowsä¸Šçš„Remote Desktop Connectionè½¯ä»¶è¿›è¡Œè¿æ¥æ—¶,æ³¨æ„User nameæ—¶éœ€è¦åœ¨ç”¨æˆ·åå‰é¢åŠ ä¸Šwin\\,ä¹Ÿå°±æ˜¯å†™win\\shenxt.\n\r0.0.2 å®‰è£…è™šæ‹Ÿæœº\råŸæœ¬æƒ³è¦å®‰è£…VMwareè½¯ä»¶çš„,åæ¥å‘ç°è¿™ä¸ªè½¯ä»¶è·Ÿwin10è‡ªå¸¦çš„Hyper-Vè½¯ä»¶æ˜¯å†²çªçš„.åæ¥å°±æ”¾å¼ƒä½¿ç”¨VMware,ç›´æ¥ä½¿ç”¨Hyper-Vè½¯ä»¶.\næœ€å¼€å§‹ä¸‹è½½çš„CentOS-8ç³»ç»Ÿ,ä½†æ˜¯å®‰è£…çš„æ—¶å€™,é‡åˆ°äº†é—®é¢˜,å®‰è£…æˆåŠŸä¹‹å,é‡å¯ä¹‹åæ²¡æœ‰è¿›å…¥ç™»å½•ç•Œé¢,åè€Œåˆé‡æ–°åˆ°äº†å®‰è£…ç•Œé¢!æŸ¥äº†å¾ˆå¤š,éƒ½æ²¡æœ‰æ‰¾åˆ°è§£å†³åŠæ³•.\nåæ¥,è§‰å¾—æœ‰å¯èƒ½æ˜¯ç³»ç»Ÿç‰ˆæœ¬çš„é—®é¢˜,å› æ­¤åœ¨CentOSå®˜ç½‘ä¸Šæ‰¾åˆ°äº†CentOS-7ç‰ˆæœ¬.é‡æ–°èµ°äº†ä¸€éå®‰è£…ç¨‹åº,ç»ˆäºæˆåŠŸäº†.\nå®‰è£…ä¹‹åæ²¡æœ‰å›¾å½¢ç•Œé¢,åªæœ‰å‘½ä»¤è¡Œå½¢å¼.\n\r0.0.3 ç½‘ç»œè¿æ¥é—®é¢˜\rç›´æ¥å®‰è£…ä¹‹å,å¹¶æ²¡æœ‰ç½‘ç»œè¿æ¥.éœ€è¦è¿›è¡Œè®¾ç½®.æŸ¥äº†ä¸€äº›èµ„æ–™,é¦–å…ˆéœ€è¦åœ¨Hyper-Vè½¯ä»¶ä¸Šåˆ›å»ºè™šæ‹Ÿäº¤æ¢æœº,ä½†æ˜¯æˆ‘åœ¨åˆ›å»ºçš„æ—¶å€™,æ€»æ˜¯æŠ¥é”™,æ— æ³•åˆ›å»º,ç„¶ååˆå¼€å§‹google.ç»“æœæ‰¾åˆ°äº†è¿™æ ·ä¸€ä¸ªç½‘é¡µ:\nhttps://support.microsoft.com/zh-cn/help/3101106/you-cannot-create-a-hyper-v-virtual-switch-on-64-bit-versions-of-windo\nç„¶åå°±ä¸‹è½½è½¯ä»¶,è¿è¡Œ,é‡å¯,ç„¶åå°±æ²¡æœ‰ç½‘ç»œè¿æ¥äº†!è€Œä¸”æ˜¯æ‰€æœ‰çš„ç½‘ç»œéƒ½æ²¡æœ‰äº†,æŸ¥äº†ä¸€ä¸‹æ„Ÿè§‰åº”è¯¥æ˜¯é©±åŠ¨çš„é—®é¢˜,ç„¶ååœ¨å®˜ç½‘ä¸Šä¸‹è½½äº†Intelçš„é©±åŠ¨,èµ°çš„æ—¶å€™è¿˜æ²¡æœ‰å®‰è£…å¥½,çœ‹çœ‹æ˜å¤©ç»“æœå¦‚ä½•.\nå¹¶ä¸æ˜¯driverçš„é—®é¢˜,ç¬¬äºŒå¤©ITè¿‡æ¥ç…äº†ä¸€çœ¼,åˆé‡æ–°æäº†ä¸€ä¼šdriver,è¿˜æ˜¯ä¸è¡Œ,æœ€åæ‹‰èµ°äº†,è¯´éœ€è¦æ…¢æ…¢æ£€æŸ¥.\n\r","date":1571011200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1571011200,"objectID":"10765753116c357cafbf2a9ac57ac21a","permalink":"/post/20191014/","publishdate":"2019-10-14T00:00:00Z","relpermalink":"/post/20191014/","section":"post","summary":"0.0.1 è¿œç¨‹è¿æ¥ 0.0.2 å®‰è£…è™šæ‹Ÿæœº 0.0.3 ç½‘ç»œè¿æ¥é—®é¢˜ å®éªŒå®¤æ–°ä¹°äº†ä¸€å°workstation.å› ä¸ºæœ‰è½¯ä»¶éœ€è¦åœ¨windowsä¸Šè¿è¡Œ,å› æ­¤æœ¬æ¥éœ€è¦å®‰è£…windo","tags":["Blog","Chinese","life"],"title":"ä¸€ç‚¹æ„Ÿæƒ³","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 å¦‚ä½•ä¿®æ”¹ç½‘ç«™icon?\r2 å¦‚ä½•å°†ä¸ªäººç½‘ç«™ä½œä¸ºå›¾åºŠä½¿ç”¨?\r3 å¦‚ä½•å°†æŸä¸ªéƒ¨åˆ†(å¦‚åšå®¢blog)ä¸æ˜¾ç¤ºåœ¨ä¸»é¡µ(home)ä¸Š,è€Œæ˜¯ç‚¹å‡»ä¹‹å,æ‰“å¼€ä¸€ä¸ªå•ç‹¬çš„page?\r4 å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢?\r5 å¦‚ä½•åœ¨postä¸­æ·»åŠ æœ¬åœ°å›¾ç‰‡?\r6 å¦‚ä½•åœ¨Rmarkdownä¸­æ·»åŠ table of contents?\r7 netlifyè‡ªåŠ¨éƒ¨ç½²(deploy)failedçš„é—®é¢˜\r7.1 æ‰“å¼€netlifyç½‘ç«™:\r7.2 ç‚¹å‡»Site settings\r7.3 ç‚¹å‡»Build \u0026amp; deploy\r7.4 ä¿®æ”¹Hugo version\r\r8 å°†ç½‘ç«™æ”¹ä¸ºä¸­è‹±åŒæ–‡ä¹‹å,æ–°å»ºpostæŠ¥é”™\r8.1 æ–°å»ºblogçš„YAMLå¦‚ä¸‹:\r8.2 å¸¸ç”¨çš„categories:\r8.3 å¸¸ç”¨çš„tags:\r\r9 å¦‚ä½•åœ¨post(markdown)ä¸­æ’å…¥Emojis\r10 å¦‚ä½•åœ¨postä¸­æ’å…¥è§†é¢‘?\r10.1 å¦‚ä½•æ’å…¥Bç«™è§†é¢‘?\r10.2 åœ¨markdownä¸­\r10.2.1 A video from your static/img/ media library:\r10.2.2 A video within a pageâ€™s folder (e.g.Â content/post/hello/):\r10.2.3 Youtube:\r10.2.4 Vimeo:\r\r10.3 åœ¨Rmarkdownä¸­\r10.3.1 æœ¬åœ°è§†é¢‘\r10.3.2 Youtubeè§†é¢‘\r\r\r11 å¦‚ä½•åœ¨postä¸­æ’å…¥icon?\r12 å¦‚ä½•ä½¿ç”¨jupyterç¼–è¾‘post?\r12.1 æ‰“å¼€CMD,ä¿®æ”¹è·¯å¾„åˆ°å½“å‰postè·¯å¾„ä¸‹.\r12.2 æ‰“å¼€jupyter notebook\r12.3 å¼€å§‹å¯¹jupyterè¿›è¡Œç¼–è¾‘.\r12.4 å¦å­˜ä¸ºmarkdownæ–‡ä»¶.\r12.5 ç¼–è¾‘YAML\r\r\r\r1 å¦‚ä½•ä¿®æ”¹ç½‘ç«™icon?\rå°†è‡ªå·±çš„logoå›¾ç‰‡æˆªå–ä¸º192x192åƒç´ (é•¿æ¬¾åˆ†åˆ«ä¸º0.21cm).ç„¶åå°†å…¶å‘½åä¸ºâ€™icon-192.pngâ€™æ”¾ç½®äºstatic/imgæ–‡ä»¶å¤¹ä¸­å³å¯.\n\r2 å¦‚ä½•å°†ä¸ªäººç½‘ç«™ä½œä¸ºå›¾åºŠä½¿ç”¨?\rå°†å›¾ç‰‡æ”¾ç½®äºstatic/filesæ–‡ä»¶å¤¹ä¸­å³å¯.ä½¿ç”¨å¦‚ä¸‹è·¯å¾„è®¿é—®:\nshenxt.info/files/figure.name\nå¦‚: https://www.shenxt.info/files/wechat_QR.jpg\n\r3 å¦‚ä½•å°†æŸä¸ªéƒ¨åˆ†(å¦‚åšå®¢blog)ä¸æ˜¾ç¤ºåœ¨ä¸»é¡µ(home)ä¸Š,è€Œæ˜¯ç‚¹å‡»ä¹‹å,æ‰“å¼€ä¸€ä¸ªå•ç‹¬çš„page?\rä»¥blogä¸ºä¾‹(posts).\né¦–å…ˆéœ€è¦å°† content/homeä¸­çš„posts.mdä¸­çš„activeè®¾ç½®ä¸ºfalse.è¿™æ ·,è¿™ä¸€éƒ¨åˆ†å°±ä¸ä¼šåœ¨homeä¸»é¡µæ˜¾ç¤º.\r\rç„¶åå°†content/homeä¸­çš„posts.mdæ‹·è´åˆ°content/postä¸­,å¹¶æ”¹åä¸ºindex.md.\n\ræ‰“å¼€config/_default/menus.toml,ç„¶åå°†Blogçš„urlä¿®æ”¹ä¸ºæ–‡ä»¶å¤¹çš„åç§°.\n\r\r\r4 å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢?\rä»¥åœ¨æˆ‘çš„ç½‘é¡µæ·»åŠ æ–°çš„ä¸­æ–‡å…¥å£ä¸ºä¾‹.\nåœ¨conterntæ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»ºæ–°çš„chineseæ–‡ä»¶å¤¹.åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»º_index.mdæ–‡ä»¶.\n\r5 å¦‚ä½•åœ¨postä¸­æ·»åŠ æœ¬åœ°å›¾ç‰‡?\ré¦–å…ˆåœ¨content/post/å»ºç«‹å’Œpoståzå­—å»é™¤æ‰æ•°å­—ä¹‹åçš„çš„æ–‡ä»¶å¤¹(æ¯”å¦‚poståå­—ä¸º2019-10-25-test,åˆ™æ–‡ä»¶å¤¹å‘½åä¸ºtest),ç„¶åå†åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹å»ºç«‹å’ŒpoståŒåçš„æ–‡ä»¶å¤¹(2019-10-25-test),ç„¶åå°†å›¾ç‰‡(å¦‚test.png)æ”¾å…¥è¯¥æ–‡ä»¶å¤¹ä¸‹.åœ¨postä¸­,ä½¿ç”¨:\n![](test/2019-10-25-test/test.png)è¯­å¥æ’å…¥å›¾ç‰‡.\n\r6 å¦‚ä½•åœ¨Rmarkdownä¸­æ·»åŠ table of contents?\råœ¨æ¯ç¯‡Rmarkdownçš„YAMLæ·»åŠ å¦‚ä¸‹å†…å®¹:\noutput:\rblogdown::html_page:\rtoc: true\rnumber_sections: true\r\r7 netlifyè‡ªåŠ¨éƒ¨ç½²(deploy)failedçš„é—®é¢˜\rå‘ç°è‡ªåŠ¨éƒ¨ç½²æ€»æ˜¯å¤±è´¥.æŸ¥äº†ä¸€ä¸‹,åº”è¯¥æ˜¯æœ¬åœ°çš„Hugoå’Œnetlifyä¸Šçš„ç‰ˆæœ¬ä¸ä¸€è‡´,è§£å†³æ–¹æ³•å¦‚ä¸‹:\né¦–å…ˆ,åœ¨R consoleè¾“å…¥ä¸‹åˆ—è¯­å¥,æŸ¥çœ‹æœ¬åœ°Hugoç‰ˆæœ¬:\nblogdown::hugo_version()\r## [1] \u0026#39;0.58.3\u0026#39;\rç„¶åä¿®æ”¹netlifyä¸Šçš„Hugoçš„ç‰ˆæœ¬.\n7.1 æ‰“å¼€netlifyç½‘ç«™:\rç‚¹å‡»ä¸‹é¢ç½‘ç«™:\nhttps://app.netlify.com/teams/jaspershen/sites\nç„¶åç‚¹å‡»æ‰˜ç®¡çš„è‡ªå·±çš„ç½‘ç«™.\n\r7.2 ç‚¹å‡»Site settings\r\r7.3 ç‚¹å‡»Build \u0026amp; deploy\r\r7.4 ä¿®æ”¹Hugo version\rç„¶åç‚¹å‡»Environment,å°†HUGO_VERSIONç‰ˆæœ¬ä¿®æ”¹ä¸ºå’Œæœ¬åœ°ä¸€è‡´çš„ç‰ˆæœ¬.\n\r\r8 å°†ç½‘ç«™æ”¹ä¸ºä¸­è‹±åŒæ–‡ä¹‹å,æ–°å»ºpostæŠ¥é”™\ræš‚æ—¶æ²¡æœ‰æ‰¾åˆ°å¥½çš„è§£å†³åŠæ³•.ç°åœ¨çš„é—®é¢˜æ˜¯,ä½¿ç”¨new_post()åˆ›å»ºæ–°çš„åšå®¢,é»˜è®¤çš„æ ¹è·¯å¾„å°±åœ¨content\\enä¸­,ä½†æ˜¯é»˜è®¤çš„æ‰“å¼€è·¯å¾„åˆåœ¨content\\zhä¸­.æ‰€ä»¥æ— æ³•è§£å†³.ç°åœ¨åªèƒ½ä½¿ç”¨copyå…¶ä»–åšå®¢æ–°å»ºæ¥è§£å†³äº†.\n8.1 æ–°å»ºblogçš„YAMLå¦‚ä¸‹:\r---\rtitle: test\rauthor: Xiaotao Shen\rdate: \u0026#39;2019-10-13\u0026#39;\rslug: \u0026#39;\u0026#39;\rcategories:\r- R\rtags:\r- Blog\rimage:\rcaption: \u0026#39;\u0026#39;\rfocal_point: \u0026#39;\u0026#39;\routput:\rblogdown::html_page:\rtoc: true\rnumber_sections: true\r---\r\r8.2 å¸¸ç”¨çš„categories:\rdocker\n\rlife\n\rliterature\n\rMass Spectrometry\n\romics\n\rR\n\rStudy\r\r\r8.3 å¸¸ç”¨çš„tags:\rAcademic\n\rBiomarker discovery\n\rBlog\n\rChinese\n\rData cleaning\n\rData processing\n\rGithub\n\rlife\n\rLipidomics\n\rMetabolomics\n\rSoftware\n\rSource Thermes\n\rStatistical analysis\r\r\r\r9 å¦‚ä½•åœ¨post(markdown)ä¸­æ’å…¥Emojis\rå®Œæ•´çš„emojiåå•åœ¨è¿™:\nhttps://www.webfx.com/tools/emoji-cheat-sheet/\nè¾“å…¥:\nI : heart : Academic : smile :\ræ³¨æ„éœ€è¦æŠŠemojiæ–‡å­—å’Œä¸¤è¾¹çš„å†’å·ä¹‹é—´çš„ç©ºæ ¼å»é™¤æ‰.\næ˜¾ç¤º:\nI â¤ï¸ Academic ğŸ˜„\n\r10 å¦‚ä½•åœ¨postä¸­æ’å…¥è§†é¢‘?\r10.1 å¦‚ä½•æ’å…¥Bç«™è§†é¢‘?\rå‚è€ƒä¸‹é¢å¸–å­.\nhttps://fengxiao.ml/2018/12/27/133.html.\nç‚¹å¼€æƒ³è¦æ’å…¥çš„è§†é¢‘,ç‚¹å‡»åˆ†äº«.ç„¶åç‚¹å‡»åµŒå…¥ä»£ç ,å¤åˆ¶ä»£ç ,æ’å…¥åˆ°markdownæ–‡ä»¶ä¸­å³å¯.\nä½†æ˜¯ç›´æ¥åµŒå…¥çš„è§†é¢‘é•¿å®½ä¸å¤ªå¥½,æ‰€ä»¥éœ€è¦æ‰‹åŠ¨è°ƒæ•´.\né¦–å…ˆéœ€è¦è®¾ç½®å®½åº¦ä½100%.å¹¶ç»™å…¶è®¾ç½®ä¸€ä¸ªid.å¦‚ä¸‹é¢æˆ‘å°±è®¾ç½®IDä½test.\n\u0026lt;iframe id=\u0026quot;test\u0026quot; src=\u0026quot;//player.bilibili.com/player.html?aid=23877090\u0026amp;cid=39940519\u0026amp;page=1\u0026quot; scrolling=\u0026quot;no\u0026quot; border=\u0026quot;0\u0026quot; frameborder=\u0026quot;no\u0026quot; framespacing=\u0026quot;0\u0026quot; allowfullscreen=\u0026quot;true\u0026quot; width=100%\u0026gt; \u0026lt;/iframe\u0026gt;\rç„¶åéœ€è¦åœ¨markdownä¸­æ’å…¥ä¸‹é¢çš„JSä»£ç :\n\u0026lt;script type=\u0026quot;text/javascript\u0026quot;\u0026gt;\rdocument.getElementById(\u0026quot;test\u0026quot;).style.height=document.getElementById(\u0026quot;test\u0026quot;).scrollWidth*0.76+\u0026quot;px\u0026quot;;\r\u0026lt;/script\u0026gt;\r\rdocument.getElementById(\"test\").style.height=document.getElementById(\"test\").scrollWidth*0.76+\"px\";\r\r\r10.2 åœ¨markdownä¸­\rç›´æ¥ä½¿ç”¨ä¸‹é¢è¯­å¥,æ’å…¥åˆ°markdownä¸­å³å¯.\n10.2.1 A video from your static/img/ media library:\r{{\u0026lt; video library=\u0026quot;1\u0026quot; src=\u0026quot;my_video.mp4\u0026quot; controls=\u0026quot;yes\u0026quot; \u0026gt;}}\r\r10.2.2 A video within a pageâ€™s folder (e.g.Â content/post/hello/):\r{{\u0026lt; video src=\u0026quot;my_video.mp4\u0026quot; controls=\u0026quot;yes\u0026quot; \u0026gt;}}\r\r\r10.2.3 Youtube:\r{{\u0026lt; youtube w7Ft2ymGmfc \u0026gt;}}\r\r10.2.4 Vimeo:\r{{\u0026lt; vimeo 146022717 \u0026gt;}}\r\r\r10.3 åœ¨Rmarkdownä¸­\rä½¿ç”¨shortcode()å‡½æ•°.\n10.3.1 æœ¬åœ°è§†é¢‘\rå°†è§†é¢‘æ”¾å…¥åœ¨ä¸postç›¸åŒçš„æ–‡ä»¶å¤¹ä¸­.\nç„¶åæ’å…¥ä¸‹é¢è¯­å¥(æ³¨æ„æ˜¯è¦æ”¾åœ¨rä»£ç æ¡†ä¸­):\nblogdown::shortcode(\u0026quot;video\u0026quot;, src = \u0026quot;./test.mp4\u0026quot;)\r\r\r10.3.2 Youtubeè§†é¢‘\rä½¿ç”¨ä¸‹é¢è¯­å¥å¯ä»¥æ’å…¥è§†é¢‘.ç¬¬äºŒä¸ªæ˜¯youtubeè§†é¢‘ID.\nblogdown::shortcode(\u0026quot;youtube\u0026quot;, \u0026quot;p4liifrbK8w\u0026quot;)\r  \r\r\r11 å¦‚ä½•åœ¨postä¸­æ’å…¥icon?\rç›´æ¥ä½¿ç”¨HTMLè¯­å¥å³å¯.\n\u0026lt;i class=\u0026quot;fab fa-weixin\u0026quot;\u0026gt;\u0026lt;/i\u0026gt;\ræ˜¾ç¤º:\n\nå…¶ä¸­fabæ˜¯è¿™ä¸ªç½‘ç«™:\nhttps://fontawesome.com/icons?d=gallery\næ‰¾åˆ°ä½ æƒ³è¦çš„iconä¹‹å,å¤åˆ¶åå­—,æ›¿æ¢æ‰å³å¯.\nå¦‚æœè¯¥ç½‘ç«™æ²¡æœ‰,è¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ç½‘ç«™:\nhttps://getbootstrap.com/docs/3.3/components/\nè¾“å…¥:\n\u0026lt;i class=\u0026quot;fas fa-adobe\u0026quot;\u0026gt;\u0026lt;/i\u0026gt;\ræ˜¾ç¤º:\n\n\r12 å¦‚ä½•ä½¿ç”¨jupyterç¼–è¾‘post?\rå¦‚æœæ˜¯å†™å…³äºpythonçš„åšå®¢,é‚£ä¹ˆä½¿ç”¨jupyterå°±è¦æ¯”ä½¿ç”¨Rmarkdownæ–¹ä¾¿å¤ªå¤šäº†.ä»¥windownsç³»ç»Ÿä¸ºä¾‹.\n12.1 æ‰“å¼€CMD,ä¿®æ”¹è·¯å¾„åˆ°å½“å‰postè·¯å¾„ä¸‹.\rå¯ä»¥å‚è€ƒæœ¬åšæ–‡çš„å†…å®¹.\n\r12.2 æ‰“å¼€jupyter notebook\rè¾“å…¥\njupyter notebook\ræ‰“å¼€jupyter notebook.ç„¶åæ–°å»ºä¸€ä¸ªjupyteræ–‡ä»¶,å‘½åä¸ºindex.\n\r12.3 å¼€å§‹å¯¹jupyterè¿›è¡Œç¼–è¾‘.\rå¼€å§‹åœ¨jupyterä¸Šè¿›è¡Œç¼–è¾‘.\n\r12.4 å¦å­˜ä¸ºmarkdownæ–‡ä»¶.\rå¦‚ä¸‹å›¾æ“ä½œ.\n\r12.5 ç¼–è¾‘YAML\rå°†index.mdæ‰“å¼€,ç„¶åæ·»åŠ YAMLä¿¡æ¯.\n---\rauthors:\r- admin\rcategories: [Python]\rdate: \u0026quot;2019-02-05T00:00:00Z\u0026quot;\rdraft: false\rfeatured: true\rimage:\rcaption: \u0026quot;\u0026quot;\rfocal_point: \u0026quot;\u0026quot;\rprojects: []\rsubtitle: Learn how to blog in Academic using Jupyter notebooks\rsummary: Learn how to blog in Academic using Jupyter notebooks\rtags: []\rtitle: Display Jupyter Notebooks with Academic\r---\r\rå¦‚æœè¦ä½¿ç”¨featured figure,éœ€è¦å°†featurdè®¾ç½®ä¸ºtrue,ä¸”åœ¨è¯¥postç›®å½•ä¸‹æ·»åŠ åå­—ä¸ºfeatured.pngçš„å›¾ç‰‡.\n\r\r","date":1570924800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570924800,"objectID":"ae9fa3fdb8eae2a2aaadcb89aa6deca9","permalink":"/post/blogdown/","publishdate":"2019-10-13T00:00:00Z","relpermalink":"/post/blogdown/","section":"post","summary":"1 å¦‚ä½•ä¿®æ”¹ç½‘ç«™icon? 2 å¦‚ä½•å°†ä¸ªäººç½‘ç«™ä½œä¸ºå›¾åºŠä½¿ç”¨? 3 å¦‚ä½•å°†æŸä¸ªéƒ¨åˆ†(å¦‚åšå®¢blog)ä¸æ˜¾ç¤ºåœ¨ä¸»é¡µ(home)ä¸Š,è€Œæ˜¯ç‚¹å‡»ä¹‹å,æ‰“å¼€ä¸€ä¸ªå•","tags":["Blog"],"title":"blogdownåˆ›å»ºåšå®¢æ€»ç»“","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.1 åŸºç¡€å°æç´å›¾ç»˜åˆ¶\r0.1.1 ä½¿ç”¨ggplot2åŒ…ä¸­çš„geom_violin()å‡½æ•°.\r\r0.2 å°†å°æç´å›¾æ°´å¹³å±•ç¤º\r0.3 å°æç´å›¾ä¸ç®±å‹å›¾åŒæ—¶å±•ç¤º\r\r\r\ræœ¬æ–‡ç¿»è¯‘è‡ªâ€œThe graph galleryâ€ç½‘ç«™,åŸå¸–æ–‡åœ°å€é“¾æ¥:https://www.r-graph-gallery.com/95-violin-plot-with-ggplot2.html.\n\r0.1 åŸºç¡€å°æç´å›¾ç»˜åˆ¶\r0.1.1 ä½¿ç”¨ggplot2åŒ…ä¸­çš„geom_violin()å‡½æ•°.\rlibrary(ggplot2)\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r#æ„å»ºæ•°æ®\rdata \u0026lt;- data.frame(\rname = c( rep(\u0026quot;A\u0026quot;,500), rep(\u0026quot;B\u0026quot;,500), rep(\u0026quot;B\u0026quot;,500), rep(\u0026quot;C\u0026quot;,20), rep(\u0026#39;D\u0026#39;, 100)),\rvalue = c( rnorm(500, 10, 5), rnorm(500, 13, 1), rnorm(500, 18, 1), rnorm(20, 25, 4), rnorm(100, 12, 1) )\r)\rhead(data)\r## name value\r## 1 A 14.586213\r## 2 A 8.547782\r## 3 A 17.655333\r## 4 A 5.494113\r## 5 A 15.576023\r## 6 A 12.404492\r# Most basic violin chart\rp \u0026lt;- ggplot(data, aes(x = name, y = value, fill = name)) + geom_violin() +\rtheme_bw()\rp\r0.1.1.1 æ•°æ®æ ¼å¼\ræ³¨æ„åœ¨ä½¿ç”¨geom_violin()å‡½æ•°æ„å»ºå°æç´å›¾æ—¶,æ•°æ®æ ¼å¼ä¸ºé•¿æ•°æ®(long format).æ¯ä¸€è¡Œæ—¶ä¸€ä¸ªè§‚æµ‹.ä¸€å…±éœ€è¦ä¸¤åˆ—:\n\rä¸€ä¸ªåˆ†ç±»å˜é‡,ç”¨äºXè½´.éœ€è¦ä¸ºfactoræ ¼å¼.\n\ræ•°å€¼å‹å˜é‡,ç”¨äºYè½´.\r\r\r0.1.1.2 æ•°æ®è½¬æ¢\rå¦‚æœæ•°æ®ä¸ºå®½æ•°æ®æ ¼å¼,éœ€è¦å¯¹å…¶è¿›è¡Œè½¬å˜.å¯ä»¥ä½¿ç”¨tidyrä¸­çš„pivot_longer()å‡½æ•°å°†å…¶è½¬å˜ä¸ºé•¿æ•°æ®æ ¼å¼.\ndata_wide \u0026lt;- iris[ , 1:4]\rlibrary(tidyverse)\r## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1\r## -- Attaching packages ---------------------------------------------------------------------------------- tidyverse 1.2.1 --\r## v tibble 2.1.3 v purrr 0.3.2\r## v tidyr 1.0.0 v dplyr 0.8.3\r## v readr 1.3.1 v stringr 1.4.0\r## v tibble 2.1.3 v forcats 0.4.0\r## Warning: package \u0026#39;tibble\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tidyr\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 3.6.1\r## -- Conflicts ------------------------------------------------------------------------------------- tidyverse_conflicts() --\r## x dplyr::filter() masks stats::filter()\r## x dplyr::lag() masks stats::lag()\rdata_long \u0026lt;- data_wide %\u0026gt;% tidyr::pivot_longer(cols = everything(), names_to = \u0026quot;variable\u0026quot;, values_to = \u0026quot;value\u0026quot;)\rhead(data_long)\r## # A tibble: 6 x 2\r## variable value\r## \u0026lt;chr\u0026gt; \u0026lt;dbl\u0026gt;\r## 1 Sepal.Length 5.1\r## 2 Sepal.Width 3.5\r## 3 Petal.Length 1.4\r## 4 Petal.Width 0.2\r## 5 Sepal.Length 4.9\r## 6 Sepal.Width 3\rlibrary(ggplot2)\rdata_long %\u0026gt;% ggplot(., aes(variable, value)) +\rgeom_violin(aes(fill = variable)) +\rtheme_bw()\r\r\r\r0.2 å°†å°æç´å›¾æ°´å¹³å±•ç¤º\rlibrary(ggplot2)\rlibrary(tidyverse)\riris[ , 1:4] %\u0026gt;% tidyr::pivot_longer(cols = everything(), names_to = \u0026quot;variable\u0026quot;,\rvalues_to = \u0026quot;value\u0026quot;) %\u0026gt;% ggplot(., aes(variable, value)) +\rgeom_violin(aes(fill = variable, colour = variable)) +\rtheme_bw() +\rtheme(legend.position = \u0026quot;none\u0026quot;) +\rcoord_flip()\r\r0.3 å°æç´å›¾ä¸ç®±å‹å›¾åŒæ—¶å±•ç¤º\rlibrary(ggplot2)\rlibrary(tidyverse)\riris[ , 1:4] %\u0026gt;% tidyr::pivot_longer(cols = everything(), names_to = \u0026quot;variable\u0026quot;,\rvalues_to = \u0026quot;value\u0026quot;) %\u0026gt;% ggplot(., aes(variable, value)) +\rgeom_violin(aes(fill = variable, colour = variable), width = 1.4) +\rgeom_boxplot(fill = NA, width = 0.1, colour = \u0026quot;grey\u0026quot;) +\rtheme_bw() +\rtheme(legend.position = \u0026quot;none\u0026quot;) +\rcoord_flip()\r## Warning: position_dodge requires non-overlapping x intervals\r\r","date":1570838400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570838400,"objectID":"a57243442c110fa6dd75e1ac1abe8ef0","permalink":"/post/r-violin/","publishdate":"2019-10-12T00:00:00Z","relpermalink":"/post/r-violin/","section":"post","summary":"0.1 åŸºç¡€å°æç´å›¾ç»˜åˆ¶ 0.1.1 ä½¿ç”¨ggplot2åŒ…ä¸­çš„geom_violin()å‡½æ•°. 0.2 å°†å°æç´å›¾æ°´å¹³å±•ç¤º 0.3 å°æç´å›¾ä¸ç®±å‹å›¾åŒæ—¶å±•ç¤º æœ¬æ–‡ç¿»è¯‘è‡ªâ€œThe","tags":["Academic"],"title":"Rå¯è§†åŒ–ä¹‹å°æç´å›¾","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r\r\r\r\r0.1 ä½¿ç”¨networkD3åŒ…æ„å»ºæ¡‘å‰å›¾\r0.1.1 åŸºç¡€æ¡‘å‰å›¾ç»˜åˆ¶\r0.1.2 å¦å¤–ä¸€ä¸ªä¾‹å­\r0.1.3 ä½¿ç”¨ggalluvialåŒ…ç»˜åˆ¶æ¡‘å‰å›¾\r\r\r\r\ræœ¬æ–‡ç¿»è¯‘è‡ªâ€œThe graph galleryâ€ç½‘ç«™,åŸå¸–æ–‡åœ°å€é“¾æ¥:https://www.r-graph-gallery.com/sankey-diagram.html\n\ræ¡‘å‰å›¾(sankey diagram)ä½¿ç”¨æ¥ç ”ç©¶åŒä¸€ä¸ªå˜é‡åœ¨å…¶ä¸åŒåˆ†ç±»ä¸­çš„æ¯”ä¾‹æˆ–è€…è¯´æ˜¯æµåŠ¨çš„.å®ä½“(æˆ–è€…è¯´æ˜¯èŠ‚ç‚¹,node)ä¸€èˆ¬ä½¿ç”¨é•¿æ–¹å½¢æˆ–è€…æ–‡å­—æ¥è¡¨ç¤º.ç®­å¤´å’Œå¼§çº¿ç”¨æ¥è¡¨ç¤ºåœ¨ä»–ä»¬ä¹‹é—´çš„æµåŠ¨.\n0.1 ä½¿ç”¨networkD3åŒ…æ„å»ºæ¡‘å‰å›¾\r0.1.1 åŸºç¡€æ¡‘å‰å›¾ç»˜åˆ¶\rå¯ä»¥ä½¿ç”¨ä¸¤ç§æ ¼å¼çš„æ•°æ®è¿›è¡Œæ¡‘å‰å›¾ç»˜åˆ¶:\n\rconnection data frame(ä¸€å…±ä¸‰åˆ—),å¯ä»¥ç†è§£ä¸ºé•¿æ•°æ®.\rå…³è”çŸ©é˜µ(incidence matrix),å¯ä»¥ç†è§£ä¸ºå®½æ•°æ®.\r\r0.1.1.1 ä½¿ç”¨connection data frame\rconnection data frameè‡³å°‘éœ€è¦ä¸¤åˆ—,åˆ†åˆ«ä¸ºsourceå’Œtarget.ç¬¬ä¸‰åˆ—å¯ä»¥ç”¨æ¥è¯´æ˜è¯¥connectionçš„æ•°å€¼.\nlibrary(networkD3)\rlibrary(tidyverse)\r## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1\r## -- Attaching packages ------------------------------------------------------------------------ tidyverse 1.2.1 --\r## v ggplot2 3.2.1 v purrr 0.3.2\r## v tibble 2.1.3 v dplyr 0.8.3\r## v tidyr 1.0.0 v stringr 1.4.0\r## v readr 1.3.1 v forcats 0.4.0\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tibble\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tidyr\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 3.6.1\r## -- Conflicts --------------------------------------------------------------------------- tidyverse_conflicts() --\r## x dplyr::filter() masks stats::filter()\r## x dplyr::lag() masks stats::lag()\rlinks \u0026lt;- data.frame(\rsource = c(\u0026quot;group_A\u0026quot;,\u0026quot;group_A\u0026quot;, \u0026quot;group_B\u0026quot;, \u0026quot;group_C\u0026quot;, \u0026quot;group_C\u0026quot;, \u0026quot;group_E\u0026quot;), target = c(\u0026quot;group_C\u0026quot;,\u0026quot;group_D\u0026quot;, \u0026quot;group_E\u0026quot;, \u0026quot;group_F\u0026quot;, \u0026quot;group_G\u0026quot;, \u0026quot;group_H\u0026quot;), value = c(2,3, 2, 3, 1, 3)\r)\rhead(links)\r## source target value\r## 1 group_A group_C 2\r## 2 group_A group_D 3\r## 3 group_B group_E 2\r## 4 group_C group_F 3\r## 5 group_C group_G 1\r## 6 group_E group_H 3\r##æ„å»ºconnection data frameä¸­æ‰€æœ‰nodesçš„data frame\rnodes \u0026lt;- data.frame(\rname = c(as.character(links$source), as.character(links$target)) %\u0026gt;% unique()\r)\r#ç„¶åæˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªnodeçš„åå­—ä»£æ›¿ä¸ºå…¶åœ¨node data frameä¸­çš„ä½ç½®index,æ³¨æ„æ˜¯è¦ä»å“¦å¼€å§‹è®¡ç®—.\rlinks$IDsource \u0026lt;- match(links$source, nodes$name) - 1 links$IDtarget \u0026lt;- match(links$target, nodes$name) - 1\r#å¼€å§‹åˆ›å»ºæ¡‘å‰å›¾\rp \u0026lt;- networkD3::sankeyNetwork(\rLinks = links,\rNodes = nodes,\rSource = \u0026quot;IDsource\u0026quot;,\rTarget = \u0026quot;IDtarget\u0026quot;,\rValue = \u0026quot;value\u0026quot;,\rNodeID = \u0026quot;name\u0026quot;,\rsinksRight = FALSE\r)\rp\r\r{\"x\":{\"links\":{\"source\":[0,0,1,2,2,3],\"target\":[2,4,3,5,6,7],\"value\":[2,3,2,3,1,3]},\"nodes\":{\"name\":[\"group_A\",\"group_B\",\"group_C\",\"group_E\",\"group_D\",\"group_F\",\"group_G\",\"group_H\"],\"group\":[\"group_A\",\"group_B\",\"group_C\",\"group_E\",\"group_D\",\"group_F\",\"group_G\",\"group_H\"]},\"options\":{\"NodeID\":\"name\",\"NodeGroup\":\"name\",\"LinkGroup\":null,\"colourScale\":\"d3.scaleOrdinal(d3.schemeCategory20);\",\"fontSize\":7,\"fontFamily\":null,\"nodeWidth\":15,\"nodePadding\":10,\"units\":\"\",\"margin\":{\"top\":null,\"right\":null,\"bottom\":null,\"left\":null},\"iterations\":32,\"sinksRight\":false}},\"evals\":[],\"jsHooks\":[]}\rå›¾ç‰‡æ—¶äº¤äº’æ€§çš„.\n\r0.1.1.2 ä½¿ç”¨å…³è”çŸ©é˜µ\rå…³è”çŸ©é˜µæ—¶æ­£æ–¹å½¢æˆ–è€…é•¿æ–¹å½¢çš„.è¡Œåå’Œåˆ—ååˆ†åˆ«ä¸ºnodeçš„åç§°.æ¯ä¸€ä¸ªcellä»£è¡¨ç€ä¸¤ä¸ªnodeä¹‹é—´flowçš„æ•°å€¼.ä½†æ˜¯å› ä¸ºåœ¨network3Dä¸­,åªèƒ½ä½¿ç”¨é•¿æ•°æ®,å› æ­¤å…¶å®å°±æ˜¯å°†å®½æ•°æ®è½¬æ¢ä¸ºé•¿æ•°æ®.\n\r\r0.1.2 å¦å¤–ä¸€ä¸ªä¾‹å­\ræˆ‘ä»¬ä½¿ç”¨æ¡‘å‰å›¾æ¥å±•ç¤ºç§‘å­¦å®¶çš„ç§»æ°‘æˆ–è€…è¯´æ˜¯æµåŠ¨æƒ…å†µ.å·¦è¾¹ä»£è¡¨ç§‘å­¦å®¶çš„ç§»å‡ºå›½,å³è¾¹ä»£è¡¨ç§‘å­¦å®¶çš„ç§»è¿›å›½.æ•°æ®æ¥è‡ªscientific publication(https://onlinelibrary.wiley.com/doi/abs/10.1111/imre.12327).\n#åŠ è½½åŒ…\rlibrary(tidyverse)\rlibrary(networkD3)\r# è¯»å–æ•°æ®\rdata \u0026lt;- read.table(\u0026quot;https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/13_AdjacencyDirectedWeighted.csv\u0026quot;, header = TRUE)\r# è®²æ•°æ®è½¬æ¢ä¸ºé•¿æ•°æ®\rdata_long \u0026lt;- data %\u0026gt;%\rrownames_to_column(var = \u0026quot;name\u0026quot;) %\u0026gt;%\rpivot_longer(cols = -name, names_to = \u0026quot;key\u0026quot;, values_to = \u0026quot;value\u0026quot;) %\u0026gt;% filter(value \u0026gt; 0) %\u0026gt;% as.data.frame()\rcolnames(data_long) \u0026lt;- c(\u0026quot;source\u0026quot;, \u0026quot;target\u0026quot;, \u0026quot;value\u0026quot;)\rdata_long$target \u0026lt;- paste(data_long$target, \u0026quot; \u0026quot;, sep = \u0026quot;\u0026quot;)\r# åˆ›å»ºnode data frame\rnodes \u0026lt;- data.frame(name = c(as.character(data_long$source), as.character(data_long$target)) %\u0026gt;% unique()\r) %\u0026gt;% arrange(name) %\u0026gt;% as.data.frame()\rdata_long$IDsource = match(data_long$source, nodes$name) - 1 data_long$IDtarget = match(data_long$target, nodes$name) - 1\r# prepare colour scale\rColourScal \u0026lt;- \u0026#39;d3.scaleOrdinal() .range([\u0026quot;#FDE725FF\u0026quot;,\u0026quot;#B4DE2CFF\u0026quot;,\u0026quot;#6DCD59FF\u0026quot;,\u0026quot;#35B779FF\u0026quot;,\u0026quot;#1F9E89FF\u0026quot;,\r\u0026quot;#26828EFF\u0026quot;,\u0026quot;#31688EFF\u0026quot;,\u0026quot;#3E4A89FF\u0026quot;,\u0026quot;#482878FF\u0026quot;,\u0026quot;#440154FF\u0026quot;])\u0026#39;\r# Make the Network\rsankeyNetwork(\rLinks = data_long,\rNodes = nodes,\rSource = \u0026quot;IDsource\u0026quot;,\rTarget = \u0026quot;IDtarget\u0026quot;,\rValue = \u0026quot;value\u0026quot;,\rNodeID = \u0026quot;name\u0026quot;,\rsinksRight = FALSE,\rcolourScale = ColourScal,\rnodeWidth = 40,\rfontSize = 13,\rnodePadding = 20\r)\r\r{\"x\":{\"links\":{\"source\":[0,0,0,0,0,2,2,2,2,2,2,4,6,6,6,8,8,10,10,12,12,12,12,12,12,13,13,13,13,13,16,16,18,18,18],\"target\":[1,5,9,11,19,3,5,9,11,15,19,5,5,7,9,5,7,5,11,3,5,9,11,14,19,3,5,9,11,15,5,17,5,9,19],\"value\":[3.142471,2.107883,0.540887,0.155988,0.673004,1.630997,0.601265,0.97306,0.333608,0.380388,0.869311,2.401476,1.762587,0.879198,3.627847,1.215929,0.276908,0.17037,0.190706,0.525881,1.390272,1.508008,0.34742,1.307907,4.902081,0.145264,0.468762,1.057904,0.278746,0.781316,0.60923,1.870501,0.449623,0.169274,0.927243]},\"nodes\":{\"name\":[\"Africa\",\"Africa \",\"East Asia\",\"East.Asia \",\"Europe\",\"Europe \",\"Latin America\",\"Latin.America \",\"North America\",\"North.America \",\"Oceania\",\"Oceania \",\"South Asia\",\"South East Asia\",\"South.Asia \",\"South.East.Asia \",\"Soviet Union\",\"Soviet.Union \",\"West Asia\",\"West.Asia \"],\"group\":[\"Africa\",\"Africa \",\"East Asia\",\"East.Asia \",\"Europe\",\"Europe \",\"Latin America\",\"Latin.America \",\"North America\",\"North.America \",\"Oceania\",\"Oceania \",\"South Asia\",\"South East Asia\",\"South.Asia \",\"South.East.Asia \",\"Soviet Union\",\"Soviet.Union \",\"West Asia\",\"West.Asia \"]},\"options\":{\"NodeID\":\"name\",\"NodeGroup\":\"name\",\"LinkGroup\":null,\"colourScale\":\"d3.scaleOrdinal() .range([\\\"#FDE725FF\\\",\\\"#B4DE2CFF\\\",\\\"#6DCD59FF\\\",\\\"#35B779FF\\\",\\\"#1F9E89FF\\\",\\n\\\"#26828EFF\\\",\\\"#31688EFF\\\",\\\"#3E4A89FF\\\",\\\"#482878FF\\\",\\\"#440154FF\\\"])\",\"fontSize\":13,\"fontFamily\":null,\"nodeWidth\":40,\"nodePadding\":20,\"units\":\"\",\"margin\":{\"top\":null,\"right\":null,\"bottom\":null,\"left\":null},\"iterations\":32,\"sinksRight\":false}},\"evals\":[],\"jsHooks\":[]}\r\r0.1.3 ä½¿ç”¨ggalluvialåŒ…ç»˜åˆ¶æ¡‘å‰å›¾\rggalluvialåŒ…æ˜¯ggplot2çš„ä¸€ä¸ªæ‰©å±•åŒ….å¯ä»¥ç”¨æ¥ç»˜åˆ¶æ¡‘å‰å›¾.\n##åŠ è½½åŒ…\rlibrary(ggalluvial)\r## Warning: package \u0026#39;ggalluvial\u0026#39; was built under R version 3.6.1\r## ä½¿ç”¨ç¤ºä¾‹æ•°æ®\rdata(vaccinations)\rhead(vaccinations)\r## freq a subject survey response\r## 1 48 0.050367261 1 ms153_NSA Always\r## 2 9 0.009443861 2 ms153_NSA Always\r## 3 66 0.069254984 3 ms153_NSA Always\r## 4 1 0.001049318 4 ms153_NSA Always\r## 5 11 0.011542497 5 ms153_NSA Always\r## 6 1 0.001049318 6 ms153_NSA Always\rlevels(vaccinations$response) \u0026lt;- rev(levels(vaccinations$response))\rggplot(vaccinations,\raes(x = survey, y = freq,\rstratum = response, alluvium = subject,\rfill = response, label = response)) +\rscale_x_discrete(expand = c(.1, .1)) +\rggalluvial::geom_flow() +\rlabs(x = \u0026quot;\u0026quot;, y = \u0026quot;\u0026quot;) +\rggalluvial::geom_stratum(alpha = .5) +\rgeom_text(stat = \u0026quot;stratum\u0026quot;, size = 3) +\rtheme_bw() +\rtheme(legend.position = \u0026quot;none\u0026quot;, plot.background = element_blank(), panel.border = element_blank(), panel.grid = element_blank(), axis.ticks = element_blank(), axis.text.y = element_blank()) +\rggtitle(\u0026quot;vaccination survey responses at three points in time\u0026quot;)\ræˆ‘ä»¬åœ¨å¯¹è¯¥åŒ…åšä¸€ä¸ªè¯¦ç»†çš„è®²è§£.\n0.1.3.1 å†²ç§¯å›¾(Alluvial diagrams)çš„ç»“æ„\rä½¿ç”¨ggalluvialåŒ…ç»˜åˆ¶çš„å›¾ç§°ä¹‹ä¸ºå†²ç§¯å›¾(Alluvial diagrams).æˆ‘ä»¬ä»¥ä¸Šé¢çš„ä¾‹å­å›¾ä¸ºä¾‹,æ¥è¿›è¡Œè§£é‡Š.\n\rXè½´ä»£è¡¨ç€æ•°æ®æµåŠ¨çš„åˆ†ç±».æ¯”å¦‚ä¸Šå›¾ä¸­,ä¸€å…±æœ‰ä¸‰ç±»,ä¹Ÿå°±æ˜¯ms153_NSA,ms432_NSAå’Œms460_NSA.\n\rè€ŒXè½´çš„æ¯ä¸€ç±»åˆä¼šåˆ†ä¸ºä¸åŒçš„åˆ†ç»„,ç§°ä¹‹ä¸ºåœ°å±‚(strata).åœ¨æˆ‘ä»¬è¿™ä¸ªä¾‹å­ä¸­,æ¯ä¸€ç±»éƒ½åˆ†æˆäº†å››ç»„,Missing,Never,Sometimeså’ŒAlways.\n\rç„¶åæˆ‘ä»¬å†çœ‹æ¯ä¸€åˆ—,æ¯ä¸€åˆ—çš„æ¯ä¸€ä¸ªåˆ†ç»„éƒ½ä¼šè¢«å›¾å½¢åˆ†å‰²,è¿™ç§°ä¹‹ä¸ºå†²ç§¯(alluvia).åœ¨è¿™ä¸ªä¾‹å­ä¸­,æ¯ä¸ªå†²ç§¯çš„å®½åº¦(ä¹Ÿå°±æ˜¯åœ¨Yè½´ä¸Šrange)ä»£è¡¨ç€åˆ†ç±»çš„è¯¥ç»„åˆ†åˆ°ä¸‹ä¸€ä¸ªåˆ†ç±»æŸä¸ªåˆ†ç»„çš„æ•°æ®çš„å¤šå°‘.å½“ç„¶,å†²ç§¯çš„é¢œè‰²ç”¨æ¥ä»£è¡¨ä¸åŒçš„åˆ†ç±».\n\rä¸¤ä¸ªç›¸é‚»çš„åˆ†ç±»ä¹‹é—´çš„è¿æ¥çš„å†²ç§¯ç§°ä¹‹ä¸ºflow.\n\r\ræˆ‘ä»¬å¯¹è¿™ä¸ªå›¾çš„ç»“æ„è¿›è¡Œè¯¦ç»†çš„ç†è§£ä¹‹å,æˆ‘ä»¬åœ¨æ¥çœ‹å¦‚ä½•ä½¿ç”¨galluvialåŒ…ç»˜åˆ¶å†²ç§¯å›¾.\n\r0.1.3.2 æ‰€éœ€è¦çš„æ•°æ®ç±»å‹\rè·Ÿnetwork3DåŒ…ä¸€æ ·,ggalluvialåŒ…ä¹Ÿå¯ä»¥ä½¿ç”¨å®½æ•°æ®å’Œé•¿æ•°æ®.æˆ‘ä»¬ä½¿ç”¨UCBAdmissionsæ•°æ®ä¸ºä¾‹è¿›è¡Œè¯´æ˜.\n0.1.3.2.1 å®½æ•°æ®\rUCBAdmissionsæ•°æ®ä¸€å…±æœ‰4åˆ—.\n\r\r\r\r","date":1570838400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570838400,"objectID":"b7725103151feab4415bbebba7d35ca4","permalink":"/post/r-sankey/","publishdate":"2019-10-12T00:00:00Z","relpermalink":"/post/r-sankey/","section":"post","summary":"0.1 ä½¿ç”¨networkD3åŒ…æ„å»ºæ¡‘å‰å›¾ 0.1.1 åŸºç¡€æ¡‘å‰å›¾ç»˜åˆ¶ 0.1.2 å¦å¤–ä¸€ä¸ªä¾‹å­ 0.1.3 ä½¿ç”¨ggalluvialåŒ…ç»˜åˆ¶æ¡‘å‰å›¾ æœ¬æ–‡ç¿»è¯‘è‡ªâ€œThe graph galleryâ€","tags":["Blog","Academic"],"title":"Rå¯è§†åŒ–ä¹‹æ¡‘å‰å›¾","type":"post"},{"authors":null,"categories":["literature"],"content":"\r\r1 Google key work search\r1.1 Urinary metabolic variation analysis during pregnancy and application in Gestational Diabetes Mellitus and spontaneous abortion biomarker discovery\r1.2 Metabolic profiling of pregnancy: cross- sectional and longitudinal evidence\r1.3 Maternal urinary metabolic signatures of fetal growth and associated clinical and environmental factors in the INMA study\r1.3.1 ç»“è®º\r1.3.2 Study population\r1.3.3 Definition of the fetal and birth measurements\r\r1.4 Variants in the fetal genome near pro-inflammatory cytokine genes on 2q13 associate with gestational duration\r1.4.1 å®šä¹‰\r1.4.2 ä¸€äº›pregnancyå…¬å¼€æ•°æ®åº“\r1.4.3 æ–‡ç« æ€»ç»“:\r\r\r\r\r1 Google key work search\r1.1 Urinary metabolic variation analysis during pregnancy and application in Gestational Diabetes Mellitus and spontaneous abortion biomarker discovery\rhttps://www.ncbi.nlm.nih.gov/pmc/articles/PMC6384939/pdf/41598_2019_Article_39259.pdf\nLC-MS urine metabolomics, 50 health pregant women. 3 time points. Age, BMI, parity and gravity (å¼•åŠ›). Additionally, urine metabolomics was applied for early prediction of two pregnancy complications(å¹¶å‘ç—‡), gestational diabetes mellitus(å¦Šå¨ æœŸç³–å°¿ç—…) and spontaneous abortion(è‡ªç„¶æµäº§).\nOur results suggested that during normal pregnancy progression, pathways of steroid hormone biosynthesis and tyrosine metabolism were signifcantly regulated.\nFirst, second and third trimester:\nå¦Šå¨ æœŸæ˜¯æŒ‡å—å­•åè‡³åˆ†å¨©å‰çš„ç”Ÿç†æ—¶æœŸï¼Œå±ç”Ÿç†å­¦åè¯ï¼Œäº¦ç§°æ€€å­•æœŸã€‚è‡ªæˆç†Ÿåµå—ç²¾åè‡³èƒå„¿å¨©å‡ºï¼Œä¸€èˆ¬ä¸º266å¤©å·¦å³ã€‚ä¸ºä¾¿äºè®¡ç®—ï¼Œå¦Šå¨ é€šå¸¸æ˜¯ä»æœ«æ¬¡æœˆç»ç¬¬ä¸€å¤©ç®—èµ·ï¼Œè¶³æœˆå¦Šå¨ çº¦ä¸º280å¤©(40å‘¨)ã€‚åœ¨å¦Šå¨ æœŸé—´æ¯ä½“çš„æ–°é™ˆä»£è°¢ã€æ¶ˆåŒ–ç³»ç»Ÿã€å‘¼å¸ç³»ç»Ÿã€è¡€ç®¡ç³»ç»Ÿã€ç¥ç»ç³»ç»Ÿã€å†…åˆ†æ³Œç³»ç»Ÿã€ç”Ÿæ®–ç³»ç»Ÿã€éª¨å…³èŠ‚éŸ§å¸¦åŠä¹³æˆ¿å‡å‘ç”Ÿç›¸åº”çš„æ”¹å˜ã€‚å¦Šå¨ æœŸå…¨è¿‡ç¨‹å…±åˆ†ä¸º3ä¸ªæ—¶æœŸï¼šå¦Šå¨ 13å‘¨æœ«ä»¥å‰ç§°æ—©æœŸå¦Šå¨ (First trimester)ï¼›ç¬¬14ï½27å‘¨æœ«ç§°ä¸­æœŸå¦Šå¨ (Second trimester)ï¼›ç¬¬28å‘¨åŠå…¶åç§°æ™šæœŸå¦Šå¨ (Third trimester)ã€‚\nMetPA pathway analysis showed that steroid hormone biosynthesis was upregulated in healthy controls during pregnancy with a high impact. Tyrosine metabolism was down-regulated with less impact (Fig. 2c).\nBMI and other clinical factor correlation with metabolome.\nWaters ACQUITY H-class LC system coupled with an LTQ-Orbitrap mass spectrometer (Thermo Fisher Scientific, Villebon-sur-Yvette, France).\nIt is also RPLC column\nWaters HSS C18 column (3.0 Ã— 100 mm, 1.7 Î¼m) at a flow rate of 0.3 ml/min. Mobile\n\r1.2 Metabolic profiling of pregnancy: cross- sectional and longitudinal evidence\rThe aim of this study is to comprehensively characterise the maternal systemic metabolism across a wide range of metabolic and inflammatory measures in both cross-sectional and longitudinal settings coupled with with replication.\nThis is a serum based study.\n\r1.3 Maternal urinary metabolic signatures of fetal growth and associated clinical and environmental factors in the INMA study\rä½¿ç”¨NMRä»ªå™¨é‡‡é›†urineæ•°æ®.ä¸€å…±ä¸¤ä¸ªcohort.ä¸¤ä¸ªæ—¶é—´ç‚¹(fisrt and third trimesters of gestation).ç”¨metabolomeæ¥é¢„æµ‹fetal growthå’Œbirth weight.\næµ‹åˆ°çš„ä¸œè¥¿åŒ…æ‹¬:branched-chain amino acids(æ”¯é“¾æ°¨åŸºé…¸);isoleucine(å¼‚äº®æ°¨é…¸),valine(é¢‰æ°¨é…¸),leucine(äº®æ°¨é…¸),alanine(ä¸™æ°¨é…¸)å’Œ3 hydroxyisobutyrate(ç¾ŸåŸºå¼‚ä¸é…¸)(metabolite of valine).\nå¦å¤–ä¸€å¤§ç±»å°±æ˜¯:pregnancy-related hormone by-products of estrogens and progesterone, and the methyl donor choline.\rPhysical activity, as well as other modifiable lifestyle/clinical factors, such as coffee consumption, vitamin D intake, and smoking, were identified as potential sources of metabolic variation during pregnancy.First trimester metabolic phenotypes could not predict reproducibly weight at later stages of development.\n1.3.1 ç»“è®º\rSignificant reproducible maternal urinary metabolic signatures of fetal growth and birth weight are identified for the first time and linked to modifiable lifestyle factors. This novel approach to prenatal(äº§å‰çš„) screening, combining multiple risk factors, present a great opportunity to personalize pregnancy management management and reduce newborn disease risk in later life.\nNMRé‡‡é›†æ•°æ®,ä¸€å…±1695 metabolic phenotypes.\nThis is good study.\nExploratory metabolic profiling offers a powerful means of capturing systems-level information that re- flects both maternal genetic and environmental influ- ences, hence helping to elucidate metabolic disturbances and pathways associated with fetal outcomes.\nThis study aimed to (1) characterize the maternal urinary metabolome throughout pregnancy, (2) identify maternal metabolic signatures of fetal growth in two subcohorts, (3) explain potential sources of variation in metabolic profiles based on lifestyle and clinical data, and finally (4) to determine the individ- ual importance of metabolic signatures versus other maternal\n\r1.3.2 Study population\rThe women were interviewed twice during pregnancy (in the first and third trimesters of gestation) to obtain infor- mation about their sociodemographic characteristics and lifestyle variables. The urine samples were collected in the same interview in the morning (spot samples). The urine samples were collected in the same interview in the morning (spot samples). æ‰€ä»¥ä¸€å…±æœ‰ä¸¤ä¸ªæ—¶é—´ç‚¹.åˆ†åˆ«åœ¨first trimester and third trimesters.æ—¶é—´ä¸º12.4 Â± 1.2 and 33.9 Â± 1.3 weeks.\n\r1.3.3 Definition of the fetal and birth measurements\rFetal growth scores or standard deviation scores (z- scores) were obtained using longitudinal growth curves calculated for each individual adjusting for constitutional factors known to affect fetal growth (i.e., maternal age, height, parity, pre-pregnancy weight, country of origin, fatherâ€™s height, and fetal sex).\nFetal growth scoreæ˜¯ä½¿ç”¨longitudinal growth curveæ¥è®¡ç®—çš„,ç„¶åadjustäº†ä¸€äº›å·²çŸ¥çš„èƒ½å¤Ÿå½±å“fetal growthçš„å› ç´ ,å¦‚maternal age(æ¯äº²çš„å¹´é¾„),height(æ¯äº²çš„èº«é«˜),parity(å·²ç”Ÿèƒæ•°),pre-pregnancy weight(æ€€å­•å‰çš„ä½“é‡),country of origin(åœ°åŒº),fatherâ€™s height(æ¯äº²çš„èº«é«˜),and fetal sex(èƒå„¿æ€§åˆ«).\nè¿™ä¸ªå€¼æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–åçš„å€¼.(standard deviation scores,z-scores).\næ²¡æœ‰çŸ«æ­£åçš„z-score.\nAnthropometric measures at birth included body weight and placental weight and were scaled to z-scores by subtracting the mean and dividing by the standard deviation. For further details on phenotype measurements and covariate definitions, such as gestational age, see Additional file 1: Supplementary Methods and a pre- vious article on the INMA cohort [13].\rMetabolic\nç”¨æ¥é¢„æµ‹èƒå„¿ä½“é‡(fetal birth weight)çš„å‡ ä¸ªå‚æ•°(ä»è¶…å£°æ³¢æµ‹é‡è€Œæ¥):\n\rFiparietal diameter(BPD):èƒå„¿åŒé¡¶å¾„.ä¸ºä¸¤ä¾§é¡¶éª¨éš†çªé—´çš„è·ç¦»,æ˜¯èƒå¤´æœ€å¤§æ¨ªå¾„,ä¸´åºŠç”¨Bå‹è¶…å£°æ£€æµ‹æ­¤å€¼åˆ¤æ–­èƒå„¿å¤§å°,å¦Šå¨ è¶³æœˆæ—¶å¹³å‡é•¿åº¦çº¦9.3cm.\n\rFemur length(FL):èƒå„¿è‚¡éª¨é•¿åº¦.\n\rHead circumference (AC):èƒå„¿å¤´å›´.\n\rAbdominal circumference (AC):èƒå„¿è…¹å›´.\n\rcrownâ€“rump length:èƒå„¿çš„å¤´è‡€é•¿.\n\r\rdate of conception:å¦Šå¨ æœŸ.\nGestational age(å­•é¾„)was established by using crownâ€“rump length when the calculated date of conception differed from the fetal age based on the subjectâ€™s self-reported last menstrual period by 7 days or more.\n\r\r1.4 Variants in the fetal genome near pro-inflammatory cytokine genes on 2q13 associate with gestational duration\r\ræ—©äº§(preterm birth),æ˜¯æŒ‡åœ¨å¦Šå¨ ä¸è¶³37å‘¨å‡ºç”Ÿçš„å©´å„¿.æ—©äº§ä¸å©´å„¿ä¹‹åçš„ç¥ç»å‘è‚²å»¶è¿Ÿ(neurodevelopmental delay),è„‘ç˜«(cerebral palsy),ç³–å°¿ç—…(diabetes),é«˜è¡€å‹ä»¥åŠç²¾ç¥ç–¾ç—…(psychiatric disorders)ç­‰éƒ½æœ‰å…³.\n\rè¿‡æœŸç”Ÿäº§(postterm birth),æ˜¯æŒ‡åœ¨å¦Šå¨ è¶…è¿‡42å‘¨ä¹‹åå‡ºç”Ÿçš„å©´å„¿.\n\r\råœ¨å‘è¾¾å›½å®¶,pretermå’Œpostterméƒ½æœ‰å¤§çº¦5%-10%çš„æ¯”ä¾‹.åœ¨ä½æ”¶å…¥å’Œä¸­ç­‰æ”¶å…¥å›½å®¶,pretermçš„æ¯”ä¾‹æ¯”é«˜æ”¶å…¥å›½å®¶æ›´é«˜.\nAlthough timing of parturition is influenced by many non-genetic risk factors, including parity(æ¯äº²çš„èƒæ•°), maternal stress(æ¯äº²çš„ç´§å¼ çŠ¶æ€), smoking, urogenital infection(æ³Œå°¿ç³»ç»Ÿçš„æ„ŸæŸ“), educational attainment(å—æ•™è‚²ç¨‹åº¦), and socioeconomic status(ç¤¾ä¼šç»æµç¨‹åº¦), there is compelling evidence for a substantial genetic impact.\n1.4.1 å®šä¹‰\r\rpreterm: \u0026lt; 34 weeks\n\rpreterm: \u0026lt; 34 weeks\rpostterm: \u0026gt;= 42 weeks\r\r\r1.4.2 ä¸€äº›pregnancyå…¬å¼€æ•°æ®åº“\r\rEarly Growth Genetics Consortium https://egg-consortium.org/\rIntegrative Psychiatric Research (iPSYCH) study https://ipsych.au.dk/about-ipsych/\rGenomic and Proteomic Network for Preterm Birth Research (GPN) https://www.ncbi.nlm.nih.gov/projects/gap/cgi-bin/study.cgi?study_id=phs000714.v1.p1\r\rè¿™äº›æ•°æ®åº“å¤§éƒ¨åˆ†æ˜¯å…³äºåŸºå› ç»„å­¦çš„,å¯ä»¥åˆ°æ—¶å€™è€ƒè™‘ç”¨å®ƒåšä¸ªéªŒè¯ä»€ä¹ˆçš„.\nparturition(åˆ†å¨©)\n\r1.4.3 æ–‡ç« æ€»ç»“:\r\r\r\r","date":1570752000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570752000,"objectID":"b07a374a80fc5e6c1d17de11395dd960","permalink":"/post/pregnancy-project/","publishdate":"2019-10-11T00:00:00Z","relpermalink":"/post/pregnancy-project/","section":"post","summary":"1 Google key work search 1.1 Urinary metabolic variation analysis during pregnancy and application in Gestational Diabetes Mellitus and spontaneous abortion biomarker discovery 1.2 Metabolic profiling of pregnancy: cross- sectional and longitudinal evidence 1.3 Maternal urinary metabolic signatures of fetal growth and associated clinical and environmental factors in the INMA study 1.3.1 ç»“è®º 1.3.2 Study population 1.3.3 Definition of the fetal and birth measurements 1.4 Variants in the fetal","tags":["Academic"],"title":"pregnancy projectæ–‡çŒ®é˜…è¯»æ€»ç»“","type":"post"},{"authors":null,"categories":["omics","R"],"content":"\r\r0.0.1 ç¦»æ•£å˜é‡(discrete data)çš„ç”Ÿæˆæ¨¡å‹\r\r\ræ˜¯æ–¯å¦ç¦å¤§å­¦ç»Ÿè®¡ç³»æ•™æˆSusan Holmes\n0.0.1 ç¦»æ•£å˜é‡(discrete data)çš„ç”Ÿæˆæ¨¡å‹\råœ¨åˆ†å­ç”Ÿç‰©å­¦ä¸­,åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½ä¼šäº§ç”Ÿç¦»æ•£å˜é‡.\n0.0.1.1 1.1 æœ¬ç« ç›®æ ‡\råœ¨æœ¬ç« ä¸­,æˆ‘ä»¬å°†ä¼š:\n\rå­¦ä¼šå¯¹äºä¸€ä¸ªç»™å®šæ¨¡å‹å¦‚ä½•è·å–å…¶æ‰€æœ‰å¯èƒ½ç»“æœçš„æ¦‚ç‡(probabilities),å¹¶ä¸”å°†ç†è®ºçš„é¢‘ç‡(frequencies)å’Œå®é™…æ•°æ®è§‚æµ‹åˆ°çš„è¿›è¡Œæ¯”è¾ƒ.\n\ræ¢ç´¢ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­,å¦‚ä½•ä½¿ç”¨æ³Šæ¾åˆ†å¸ƒæ¥åˆ†æè¡¨ä½(epitope)æ£€æµ‹.\n\rå¦‚ä½•ä½¿ç”¨å‡ ç§å¸¸è§çš„éå¸¸æœ‰ç”¨çš„ç¦»æ•£å˜é‡ç”Ÿæˆæ¨¡å‹:æ³Šæ¾,äºŒé¡¹å¼å’Œå¤šé¡¹å¼.\n\rå­¦ä¼šä½¿ç”¨Rå‡½æ•°æ¥è®¡ç®—æ¦‚ç‡å’Œè®¡æ•°ç½•è§å®ä¾‹.\n\rä»æŒ‡å®šçš„åˆ†å¸ƒç”Ÿæˆéšæœºæ•°.\n\r\r\r0.0.1.2 1.2 ä¸€ä¸ªçœŸå®ä¾‹å­\r\r\r","date":1570665600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570665600,"objectID":"aa06e538878c5cdb60fdcf327d42eea7","permalink":"/post/2019-10-10-modern-statistics-for-modern-biology/","publishdate":"2019-10-10T00:00:00Z","relpermalink":"/post/2019-10-10-modern-statistics-for-modern-biology/","section":"post","summary":"0.0.1 ç¦»æ•£å˜é‡(discrete data)çš„ç”Ÿæˆæ¨¡å‹ æ˜¯æ–¯å¦ç¦å¤§å­¦ç»Ÿè®¡ç³»æ•™æˆSusan Holmes 0.0.1 ç¦»æ•£å˜é‡(discrete data)çš„ç”Ÿæˆæ¨¡å‹ åœ¨åˆ†å­ç”Ÿç‰©","tags":["Blog"],"title":"Modern Statistics for Modern Biology:ç¬¬ä¸€ç« ","type":"post"},{"authors":null,"categories":["omics","R"],"content":"\r\r0.0.1 Correlation analysis\r\r\r0.0.1 Correlation analysis\rå°†ç»„å­¦å˜é‡(gene,protein,metabolite,clinical factor)è¿›è¡Œç›¸å…³æ€§åˆ†æ,å¾—åˆ°ä»–ä»¬ä¹‹é—´çš„ç›¸å…³æ€§,æ³¨æ„éœ€è¦é€‰æ‹©åˆé€‚çš„ç›¸å…³æ€§è®¡ç®—æ–¹æ³•,å¹¶è¿›è¡Œå¤šé‡æ¯”è¾ƒçŸ«æ­£(FDR,BHç­‰).\n\r","date":1570665600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570665600,"objectID":"161fd1a5a402ae121094e9894676132a","permalink":"/post/2019-10-10-data-analysis-omics/","publishdate":"2019-10-10T00:00:00Z","relpermalink":"/post/2019-10-10-data-analysis-omics/","section":"post","summary":"0.0.1 Correlation analysis 0.0.1 Correlation analysis å°†ç»„å­¦å˜é‡(gene,protein,metabolite,clinical factor)è¿›è¡Œç›¸å…³æ€§åˆ†æ,å¾—åˆ°ä»–ä»¬ä¹‹é—´çš„ç›¸å…³æ€§,","tags":["Blog"],"title":"ç»„å­¦æ•°æ®åˆ†æå¸¸è§æ–¹æ³•æ€»ç»“","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.0.1 å®‰è£…\r0.0.2 ä½¿ç”¨\r0.0.3 Map family\r\r\rpurrræ˜¯ä¸€ä¸ªæä¾›å‡½æ•°ç¼–ç¨‹çš„å·¥å…·ç®±.\n0.0.1 å®‰è£…\rpurrråŒ…å«åœ¨tidyverseç§,å› æ­¤å¦‚æœä½ å·²ç»å®‰è£…äº†ä»–,ä¸éœ€è¦å†å®‰è£….å½“ç„¶ä¹Ÿå¯ä»¥å•ç‹¬å®‰è£…purrr.\n### å®‰è£…tidyverse\rinstall.packages(\u0026quot;tidyverse\u0026quot;)\r### å•ç‹¬å®‰è£…purrr\rinstall.packages(\u0026quot;purrr\u0026quot;)\r### å®‰è£…å¼€å‘æ¿\rdevtools::install_github(\u0026quot;tidyverse/purrr\u0026quot;)\r\r0.0.2 ä½¿ç”¨\rä½¿ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥å±•ç¤ºpurrrçš„ä½œç”¨.\nlibrary(purrr)\rmtcars %\u0026gt;%\rsplit(x = ., f = .$cyl) %\u0026gt;% # æŒ‰ç…§cylå°†mtcarsæ•°æ®åˆ†å‰²ä¸ºæ•°ä¸ªlist\rmap(.x = ., .f = ~ lm(mpg ~ wt, data = .)) %\u0026gt;%#å¯¹æ¯ä¸€ä¸ªlistæ•°æ®,ç®€å†mpgå’Œwtçš„çº¿æ€§æ¨¡å‹\rmap(.x = ., .f = summary) %\u0026gt;%##å¯¹æ¯ä¸€ä¸ªçº¿æ€§æ¨¡å‹è¿›è¡Œsummary\rmap_dbl(.x = , .f = \u0026quot;r.squared\u0026quot;)##æå–å‡ºæ¥R2\r## 4 6 8 ## 0.5086326 0.4645102 0.4229655\rè¿™ä¸ªä¾‹å­æ˜¾ç¤ºäº†å’ŒRä¸­ç›¸åŒåŠŸèƒ½çš„baseå‡½æ•°çš„ä¼˜ç‚¹.\n\r0.0.3 Map family\rmapå‡½æ•°å¯¹è¾“å…¥çš„vectorçš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œ\n\r","date":1570492800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570492800,"objectID":"dadcf8d1d62d49664c45a74ea804c4c1","permalink":"/post/2019-10-08-purrr-1-overview/","publishdate":"2019-10-08T00:00:00Z","relpermalink":"/post/2019-10-08-purrr-1-overview/","section":"post","summary":"0.0.1 å®‰è£… 0.0.2 ä½¿ç”¨ 0.0.3 Map family purrræ˜¯ä¸€ä¸ªæä¾›å‡½æ•°ç¼–ç¨‹çš„å·¥å…·ç®±. 0.0.1 å®‰è£… purrråŒ…å«åœ¨tidyverseç§,å› æ­¤å¦‚æœä½ å·²ç»å®‰è£…äº†ä»–,ä¸éœ€è¦å†å®‰è£….å½“","tags":["Blog"],"title":"purrræ•™ç¨‹1:Overview","type":"post"},{"authors":null,"categories":["R"],"content":"\rtest\n","date":1570492800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570492800,"objectID":"fa9c8745459b1567c9f33a18d9149766","permalink":"/post/tidyverse-select/","publishdate":"2019-10-08T00:00:00Z","relpermalink":"/post/tidyverse-select/","section":"post","summary":"test","tags":["Blog"],"title":"tidyverse selectä½¿ç”¨æ€»ç»“","type":"post"},{"authors":null,"categories":["literature"],"content":"\r\n\r\n\r\n\r\n","date":1570492800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1570492800,"objectID":"4e0ffa0635264c856bf02e233c6c61d9","permalink":"/post/longitudinal-multi-omics-of-host-microbe-dynamics-in-prediabetes/","publishdate":"2019-10-08T00:00:00Z","relpermalink":"/post/longitudinal-multi-omics-of-host-microbe-dynamics-in-prediabetes/","section":"post","summary":"","tags":["Academic","Blog"],"title":"æ–‡çŒ®è§£è¯»:Longitudinal multi-omics of hostâ€“ microbe dynamics in prediabetes","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r1 å®‰è£…\r2 ä½¿ç”¨\r\r\ræ¨èä¸€ä¸ªç”¨æ¥æ‹¼å›¾çš„åŒ…:patchwork.ä½œè€…æ˜¯Thomas Lin Pedersen.ä½¿ç”¨æ–¹æ³•éå¸¸ç®€æ´,å…·ä½“ä½¿ç”¨æ–¹æ³•å¯ä»¥æŸ¥çœ‹å…¶å¸®åŠ©æ–‡æ¡£.ä»–çš„æ€æƒ³è·Ÿtidyverseéå¸¸åƒ,ç›´æ¥ä½¿ç”¨+,-ç­‰ç¬¦å·æ¥è¿›è¡Œå›¾çš„æ‹¼æ¥.ä¸¾ä¸ªä¾‹å­è¯´æ˜.\n1 å®‰è£…\rpatchwork\ndevtools::install_github(\u0026quot;thomasp85/patchwork\u0026quot;)\r\r2 ä½¿ç”¨\ræ‹¼å›¾æœ‰ä¸¤ç§ä¸åŒçš„å«ä¹‰:\nåƒä¸€å¹…å›¾ä¸­ä¸åŒçš„panelä¸€æ ·,ä»–ä»¬åˆ†åˆ«æ˜¯ç‹¬ç«‹çš„;\n\råæ˜ åŒæ ·çš„æ•°æ®ä¿¡æ¯,å°†å‡ ä¸ªå›¾æ‹¼æˆä¸€ä¸ªpanel.æ¯”å¦‚å¯¹äºä¸€ä¸ªæ•£ç‚¹å›¾,åœ¨å…¶å³ä¾§å’Œå·¦ä¾§åˆ†åˆ«æ·»åŠ å…¶å¯¹åº”çš„å˜é‡çš„å¯†åº¦åˆ†å¸ƒå›¾ç­‰.\n\r\rlibrary(patchwork)\rlibrary(tidyverse)\r## Warning: package \u0026#39;tidyverse\u0026#39; was built under R version 3.6.1\r## -- Attaching packages -------------------------------------------------------------------------------------------- tidyverse 1.2.1 --\r## v ggplot2 3.2.1 v purrr 0.3.2\r## v tibble 2.1.3 v dplyr 0.8.3\r## v tidyr 1.0.0 v stringr 1.4.0\r## v readr 1.3.1 v forcats 0.4.0\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tibble\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;tidyr\u0026#39; was built under R version 3.6.1\r## Warning: package \u0026#39;dplyr\u0026#39; was built under R version 3.6.1\r## -- Conflicts ----------------------------------------------------------------------------------------------- tidyverse_conflicts() --\r## x dplyr::filter() masks stats::filter()\r## x dplyr::lag() masks stats::lag()\rplot1 \u0026lt;- ggplot(mtcars, aes(x = mpg, y = disp)) +\rgeom_point() +\rtheme_bw() +\rscale_x_continuous(limits = c(10, 35)) +\rscale_y_continuous(limits = c(50, 500))\rplot2 \u0026lt;- ggplot(mtcars, aes(x = mpg)) +\rgeom_histogram() +\rtheme_bw() +\rscale_x_continuous(limits = c(10, 35), name = NULL, labels = NULL, breaks = NULL) +\rscale_y_continuous(expand = expand_scale(mult = c(0, .05))) +\rtheme(panel.border = element_blank(),\raxis.line = element_line(colour = \u0026quot;black\u0026quot;),\rpanel.grid.major = element_blank(), panel.grid.minor = element_blank())\rplot3 \u0026lt;- ggplot(mtcars, aes(x = disp)) +\rgeom_histogram() +\rtheme_bw() +\rcoord_flip() +\rscale_x_continuous(limits = c(150, 500), name = NULL, labels = NULL, breaks = NULL) +\rscale_y_continuous(expand = expand_scale(mult = c(0, .05))) +\rtheme(panel.border = element_blank(),\raxis.line = element_line(colour = \u0026quot;black\u0026quot;),\rpanel.grid.major = element_blank(), panel.grid.minor = element_blank())\ræˆ‘ä»¬ç”»å‡ºäº†æ±½è½¦mpgå’Œdispçš„å…³ç³»,ç„¶åæƒ³åœ¨è¿™ä¸ªæ•£ç‚¹å›¾ä¸Šæ–¹å’Œå³æ–¹åˆ†åˆ«ç”»ä¸Šdispå’Œmpgçš„åˆ†å¸ƒå›¾.è¿™æ—¶å€™éœ€è¦æ³¨æ„çš„æ˜¯,éœ€è¦ç¡®å®šxlimå’Œylimçš„å‘æ˜,ä»è€Œä½¿å…¶åæ ‡è½´èƒ½å¤Ÿç²¾ç¡®å¯¹ä¸Š.\nplot \u0026lt;- {plot2 + plot_spacer() + plot_layout(ncol = 2, widths = c(3, 1))} -\r{plot1 + plot3 + plot_layout(ncol = 2, widths = c(3, 1))} +\rplot_layout(ncol = 1, heights = c(1,3))\rplot\r## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\r## Warning: Removed 2 rows containing missing values (geom_bar).\r## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\r## Warning: Removed 12 rows containing non-finite values (stat_bin).\r## Warning: Removed 2 rows containing missing values (geom_bar).\rplot_spacer()å‡½æ•°ç”¨æ¥ç”Ÿæˆä¸€ä¸ªç©ºç™½å›¾ç‰‡.plot_layout()å‡½æ•°ç”¨æ¥è®¾ç½®æ‹¼æ¥å›¾ç‰‡çš„ä¸€äº›å…·ä½“å‚æ•°,å¦‚åˆ—æ•°,è¡Œæ•°,å®½åº¦æˆ–è€…é«˜åº¦æ¯”ç­‰.\n{}æ‹¬èµ·æ¥çš„å‡ ä¸ªplotç»„æˆä¸€ä¸ªå®Œæ•´çš„æ–°çš„plot.\nè¿™é‡Œé¢éœ€è¦æ³¨æ„çš„æ˜¯-.å®ƒæ˜¯æŒ‡è¯¥ç¬¦å·å·¦å³ä¸¤ä¾§å½“æˆä¸¤ä¸ªæ–°çš„å›¾å±‚è¿›è¡Œæ‹¼æ¥.\nå…·ä½“ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒä½œè€…github(https://github.com/thomasp85/patchwork).\n\r","date":1567987200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567987200,"objectID":"5e219ab7707a4ad3ae426afe776f27a8","permalink":"/post/2019-09-09-ggplot2-patchwork/","publishdate":"2019-09-09T00:00:00Z","relpermalink":"/post/2019-09-09-ggplot2-patchwork/","section":"post","summary":"1 å®‰è£… 2 ä½¿ç”¨ æ¨èä¸€ä¸ªç”¨æ¥æ‹¼å›¾çš„åŒ…:patchwork.ä½œè€…æ˜¯Thomas Lin Pedersen.ä½¿ç”¨æ–¹æ³•éå¸¸ç®€æ´,å…·ä½“ä½¿ç”¨æ–¹æ³•å¯ä»¥æŸ¥çœ‹å…¶å¸®åŠ©æ–‡æ¡£","tags":["Blog"],"title":"ggplot2æ‹¼å›¾å·¥å…·:patchwork","type":"post"},{"authors":null,"categories":["R"],"content":"\rä»Šå¤©çœ‹åˆ°æœ‰äººåœ¨è®¨è®ºå¦‚ä½•ä¿®æ”¹ggplot2ä¸­å‚ç›´square legendä¹‹é—´çš„è·ç¦».åŸæ¥æƒ³ç€ggplot2ä¸­çš„themeå‡½æ•°çš„legend.key.heightå‚æ•°ä¸å°±æ˜¯æ¥æ§åˆ¶è¿™ä¸ªè·ç¦»çš„å—?åæ¥è¯•äº†ä¸€ä¸‹,è¿˜çœŸçš„ä¸è¡Œ.\nå…ˆç”»å‡ºå›¾æ¥:\nlibrary(ggplot2)\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\rggplot(mtcars, aes(x = factor(cyl))) +\rgeom_bar(aes(fill = factor(cyl)))\rä½¿ç”¨legend.key.heightå‚æ•°æ¥è®¾ç½®:\nggplot(mtcars, aes(x = factor(cyl))) +\rgeom_bar(aes(fill = factor(cyl))) +\rtheme(legend.key.height = unit(4, \u0026quot;line\u0026quot;))\rå¯ä»¥çœ‹åˆ°æ¯ä¸ªkeyå˜é«˜äº†,ä½†æ˜¯è·ç¦»å¹¶æ²¡æœ‰å˜åŒ–.æˆ‘ä»¬è¯•è¯•å…¶ä»–ç±»å‹çš„legend,æ¯”å¦‚point.\nggplot(mtcars, aes(x = factor(cyl))) +\rgeom_point(aes(colour = factor(cyl)), stat = \u0026quot;count\u0026quot;)\rggplot(mtcars, aes(x = factor(cyl))) +\rgeom_point(aes(colour = factor(cyl)), stat = \u0026quot;count\u0026quot;) +\rtheme(legend.key.height = unit(10, \u0026quot;mm\u0026quot;))\rä»è¿™å¹…å›¾çœ‹çš„å°±éå¸¸çš„æ¸…æ¥šäº†,æ¯ä¸ªlegendçš„å›¾åƒå…ƒç´ æ˜¯ç”±key(èƒŒæ™¯)å’ŒæŒ‡ç¤ºå…ƒç´ ç»„æˆçš„.legend.key.heightå‚æ•°å¯ä»¥æ”¹å˜keyçš„é«˜åº¦,è€ŒæŒ‡ç¤ºå…ƒç´ åˆ™å¤„åœ¨keyçš„ä¸­é—´,å¯¹äºsquare legendæ¥è¯´,ä»–ä»¬å…¶å®æ˜¯å’ŒkeyèƒŒæ™¯é‡åˆçš„,æ‰€ä»¥legend.key.heightæ²¡æœ‰åŠæ³•æ”¹å˜ä»–ä»¬ä¹‹é—´çš„è·ç¦».\né‚£å¦‚æœç¡®å®æœ‰éœ€è¦æ›´æ”¹è¿™ä¸ªè·ç¦»,æ€ä¹ˆåšå‘¢?æƒ³åˆ°ä¸€ä¸ªåŠæ³•åªèƒ½æ›´æ”¹squareæŒ‡ç¤ºå…ƒç´ çš„lineçš„å®½åº¦(lineé¢œè‰²ä¸ºç™½è‰²),ä»è€Œé—´æ¥ä¿®æ”¹ä»–ä»¬ä¹‹é—´çš„è·ç¦».\nggplot(mtcars, aes(x = factor(cyl))) +\rgeom_bar(aes(fill = factor(cyl)))\rggplot(mtcars, aes(x = factor(cyl))) +\rgeom_bar(aes(fill = factor(cyl))) +\rtheme(legend.key.size = unit(2, \u0026quot;line\u0026quot;)) +\rguides(fill = guide_legend(override.aes = list(size = 3, colour = \u0026quot;white\u0026quot;)))\ræ¬¢è¿å¤§å®¶ç”±å…¶ä»–åŠæ³•çš„ç•™è¨€è®¨è®º.\n","date":1567555200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567555200,"objectID":"a60d60cba8398812b503e506cfb10502","permalink":"/post/ggplot2-square-legend/","publishdate":"2019-09-04T00:00:00Z","relpermalink":"/post/ggplot2-square-legend/","section":"post","summary":"ä»Šå¤©çœ‹åˆ°æœ‰äººåœ¨è®¨è®ºå¦‚ä½•ä¿®æ”¹ggplot2ä¸­å‚ç›´square legendä¹‹é—´çš„è·ç¦».åŸæ¥æƒ³ç€ggplot2ä¸­çš„themeå‡½æ•°çš„legend.k","tags":["Blog"],"title":"å¦‚ä½•ä¿®æ”¹ggplot2å‚ç›´square legendä¹‹é—´çš„è·ç¦»","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.0.1 Sigmoidå‡½æ•°(logistic function)\r\r\ré€»è¾‘å›å½’(logistic regression)å…¶å®å°±æ˜¯çº¿æ€§å›å½’çš„ä¸€ç§.åªæ˜¯å¯¹äºé€»è¾‘å›å½’çš„å› å˜é‡,æ˜¯éè¿ç»­å˜é‡çš„0å’Œ1,é€šè¿‡Sigmoidå‡½æ•°å°†å…¶æ˜ å°„ä¸ºè¿ç»­æ€§å˜é‡.é€»è¾‘å›å½’è™½ç„¶å«å›å½’,ä½†æ˜¯é¢„æµ‹ç»™å‡ºçš„å€¼åªæ˜¯0å’Œ1,å› æ­¤å…¶å®æ˜¯å±äºåˆ†ç±».\n0.0.1 Sigmoidå‡½æ•°(logistic function)\rsigmoidå‡½æ•°çš„æ–¹ç¨‹å¦‚ä¸‹:\n\\[f(x) = \\frac{1}{1+e^{-x}}\\]\nå…¶å‡½æ•°æ›²çº¿æˆ‘ä»¬å¯ä»¥é€šè¿‡æ¨¡æ‹Ÿç»™å‡º:\nlibrary(tidyverse)\rx \u0026lt;- seq(-10, 10, by = 0.1)\ry \u0026lt;- 1/(1+exp(-x))\rggplot(data.frame(x,y), aes(x, y)) +\rgeom_line(colour = \u0026quot;red\u0026quot;) +\rgeom_vline(xintercept = 0) +\rtheme_bw()\rå¯ä»¥çœ‹å‡ºæ¥sigmoidå‡½æ•°æ˜¯ä¸€ä¸ªSå‹æ›²çº¿.ä»–çš„å–å€¼åœ¨[0,1]ä¹‹é—´.\n\r","date":1567209600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1567209600,"objectID":"a902224459919f83d43df22251597a4d","permalink":"/post/2019-08-31-logistic-regression/","publishdate":"2019-08-31T00:00:00Z","relpermalink":"/post/2019-08-31-logistic-regression/","section":"post","summary":"0.0.1 Sigmoidå‡½æ•°(logistic function) é€»è¾‘å›å½’(logistic regression)å…¶å®å°±æ˜¯çº¿æ€§å›å½’çš„ä¸€ç§.åªæ˜¯å¯¹äºé€»è¾‘å›å½’çš„å› å˜é‡,æ˜¯","tags":["Blog"],"title":"ç”Ÿç‰©ç»Ÿè®¡å­¦å­¦ä¹ :é€»è¾‘å›å½’","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.1 çº¿æ€§å›å½’\r0.1.1 ç®€å•çº¿æ€§å›å½’\r0.1.2 \\(R^2\\)\r0.1.3 \\(R^2\\)çš„å‡è®¾æ£€éªŒ\r0.1.4 çŸ«æ­£\\(R^2\\)(\\(adjusted R^2\\))\r0.1.5 ç³»æ•°çš„å‡è®¾æ£€éªŒ\r0.1.6 Rè¯­è¨€è¿›è¡Œçº¿æ€§å›å½’\r\r\r\r0.1 çº¿æ€§å›å½’\rä½¿ç”¨ç›´çº¿æ‹Ÿåˆçš„æ–¹æ³•å¾—åˆ°æ‹Ÿåˆç›´çº¿ç§°ä¹‹ä¸ºçº¿æ€§å›å½’(linear regression).å¦‚æœåªæœ‰ä¸€ä¸ªè‡ªå˜é‡,åˆ™ç§°ä¹‹ä¸ºç®€å•çº¿æ€§å›å½’(simple),æœ‰å¤šä¸ªè‡ªå˜é‡,åˆ™ç§°ä¹‹ä¸ºå¤šå…ƒçº¿æ€§å›å½’(multiple regression).è¿™ä¸¤ä¸ªæ¨¡å‹éƒ½å¿…é¡»æ»¡è¶³å˜é‡æ˜¯è¿ç»­æ€§å˜é‡,å¦‚æœå˜é‡ä¸ºåˆ†ç±»å˜é‡,ä¹Ÿå¯ä»¥è¿›è¡Œçº¿æ€§å›å½’,ç§°ä¹‹ä¸ºé€»è¾‘å›å½’(logistic regression).\n0.1.1 ç®€å•çº¿æ€§å›å½’\ræˆ‘ä»¬ä¸¾ä¸ªä¾‹å­,å¹´é¾„å’Œèº«é«˜æ˜¯å¦æœ‰çº¿æ€§å…³ç³»,æ˜¯å¦å¯ä»¥ä½¿ç”¨å¹´é¾„æ¥é¢„æµ‹èº«é«˜å‘¢?\nage \u0026lt;- 18:29\rheight \u0026lt;- c(76.1,77,78.1,78.2,78.8,79.7,79.9,81.1,81.2,81.8,82.8,83.5)\rdata \u0026lt;- data.frame(age, height, stringsAsFactors = FALSE)\rlibrary(ggplot2)\r## Warning: package \u0026#39;ggplot2\u0026#39; was built under R version 3.6.1\r(\rplot \u0026lt;- ggplot(data, aes(age, height)) +\rgeom_point() +\rtheme_bw()\r)\ræˆ‘ä»¬ç”»å‡ºæ•£ç‚¹å›¾ä¹‹å,å¯ä»¥çœ‹å‡ºageå’Œheightå‘ˆæ¯”è¾ƒæ˜æ˜¾çš„çº¿æ€§å…³ç³».\né‚£æˆ‘ä»¬æ€ä¹ˆç”¨ä¸€æ¡ç›´çº¿å»æ‹Ÿåˆ(fit)æ•°æ®å‘¢?æˆ‘ä»¬ä½¿ç”¨çš„å°±æ˜¯æœ€å°å¹³æ–¹å·®æ³•(least square).\né‚£ä¹ˆæœ€ç®€å•çš„æ‹ŸåˆåŠæ³•æ˜¯ä»€ä¹ˆå‘¢?ä¹Ÿå°±æ˜¯ç›´æ¥ä½¿ç”¨æ‰€æœ‰äººçš„heightçš„å¹³å‡å€¼å»æ‹Ÿåˆ.\nplot +\rgeom_hline(yintercept = mean(data$height))\ré‚£ä¹ˆæ€ä¹ˆè¯„ä»·ä¸€æ¡ç›´çº¿å¯¹æ•°æ®æ‹Ÿåˆçš„å¥½åå‘¢?è¿™æ—¶å€™å°±éœ€è¦å¼•å…¥å¦å¤–ä¸€ä¸ªæ¦‚å¿µ,æ®‹å·®(residuls).æ®‹å·®ä¹Ÿå°±æ˜¯çœŸå®å€¼å’Œæ‹Ÿåˆå€¼ä¹‹é—´å·®å€¼:\n\\[residual = y_i - y_i^{\u0026#39;}\\]\nå…¶ä¸­\\(y_i\\)æ˜¯çœŸå®å€¼,è€Œ\\(y_i{\u0026#39;}\\)æ˜¯æ¨¡å‹é¢„æµ‹å€¼.\nplot +\rgeom_hline(yintercept = mean(data$height)) +\rgeom_segment(aes(x = data$age[1], y = data$height[1], xend = data$age[1], yend = mean(data$height)), colour = \u0026quot;red\u0026quot;, arrow = arrow()) \rä»å®šä¹‰å¯ä»¥çœ‹åˆ°,æ®‹å·®æœ‰æ­£æœ‰è´Ÿ.ä¸ºäº†è¡¨ç¤ºä¸€æ¡æ‹Ÿåˆç›´çº¿å¯¹æ•°æ®æ‹Ÿåˆçš„ç¨‹åº¦çš„å¥½å,æˆ‘ä»¬å°†æ®‹å·®å¹³æ–¹ç„¶ååŠ å’Œ,ä»è€Œå¾—åˆ°æ®‹å·®å¹³æ–¹å’Œ(sum of squared residuals),è¯¥å€¼å°±å¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€æ¡ç›´çº¿å¯¹æ•°æ®çš„æ‹Ÿåˆçš„å¥½å.æ‹Ÿåˆçš„è¶Šå¥½,è¯¥å€¼è¶Šå°,æ‹Ÿåˆçš„è¶Šå·®,è¯¥å€¼è¶Šå¤§.\n\rå…¶å®ä½¿ç”¨æ®‹å·®å¹³æ–¹å’Œä½œä¸ºæŸå¤±å‡½æ•°å¾—åˆ°çš„æœ€åçš„æ–¹ç¨‹æˆ–è€…è¯´æ¨¡å‹å¹¶ä¸ä¸€å®šæ˜¯æœ€ä¼˜è§£,ä½†æ˜¯å¥½å¤„æ˜¯æ–¹ä¾¿åé¢æ±‚è§£(æ±‚å¯¼)å¹¶ä¸”è§£æ˜¯å”¯ä¸€çš„.å¦å¤–è¿˜æœ‰ä½¿ç”¨æ®‹å·®ç»å¯¹å€¼ä¹‹å’Œä½œä¸ºæŸå¤±å‡½æ•°è¿›è¡Œæ±‚è§£.ä»¥åå†æ…¢æ…¢ä»‹ç».\n\r\\[sum \\quad of \\quad squared \\quad residuals = \\sum_{i=1}^n(y_i-y_i^{\u0026#39;})^2\\]\n\ræ³¨æ„,è¯¥å€¼æ˜¯æœ‰é‡çº²çš„,åªèƒ½æ¯”è¾ƒåŒä¸€ç»„æ•°æ®ä¸åŒæ‹Ÿåˆç›´çº¿çš„å¥½å,è€Œä¸èƒ½æ¯”è¾ƒä¸åŒæ•°æ®ä¹‹é—´çš„æ‹Ÿåˆçš„å¥½å.åé¢ä¼šä»‹ç»\\(R^2\\).\n\ré‚£ä¹ˆæ€æ ·æ‰¾åˆ°ä¸€ä¸ªæœ€å¥½çš„æ‹Ÿåˆç›´çº¿å‘¢?æˆ‘ä»¬å¯ä»¥å°†è¿™æ¡çº¿(å¹³å‡å€¼)è¿›è¡Œæ—‹è½¬,æ¯æ¡ç›´çº¿éƒ½ä¼šæœ‰æˆªè·(intersect)å’Œæ–œç‡(slope)ä¸¤ä¸ªå‚æ•°,å¯¹äºæ¯ä¸€æ¡ç›´çº¿,æˆ‘ä»¬éƒ½ä¼šè®¡ç®—å…¶æ®‹å·®å¹³æ–¹å’Œ.\næœ€å,æˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ç³»åˆ—çš„æˆªè·å’Œæ–œç‡ç»„åˆä»¥åŠä»–ä»¬æ‰€å¯¹åº”çš„æ®‹å·®å¹³æ–¹å’Œ.æˆ‘ä»¬å¯ä»¥ç®€å•çš„ç†è§£,ç›´æ¥é€‰å–æ®‹å·®å¹³æ–¹å’Œæœ€å°çš„å‚æ•°ç»„åˆå³å¯(å®é™…æƒ…å†µæ›´ä¸ºå¤æ‚ä¸€äº›).ä»è€Œå¾—åˆ°æœ€ä½³çš„å‚æ•°ç»„åˆ.è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¿™ç§æ–¹æ³•ç§°ä¹‹ä¸ºâ€™least squareâ€™çš„åŸå› .\né‚£ä¹ˆå¦‚ä½•ä¼°é‡ä¸€ä¸ªæ‹Ÿåˆç›´çº¿çš„å¥½åå‘¢?è¿™æ—¶å€™å°±éœ€è¦å¼•å…¥\\(R^2\\)çš„æ¦‚å¿µ.\n\r0.1.2 \\(R^2\\)\ré¦–å…ˆ,æˆ‘ä»¬è®¡ç®—ä½¿ç”¨èº«é«˜å¹³å‡å€¼æ‹Ÿåˆç›´çº¿çš„æ®‹å·®å¹³æ–¹å’Œ,ç§°ä¹‹ä¸º\\(SS(mean)\\)\n\\[SS(mean) = (data - mean)^2\\]\nåŒæ—¶,æˆ‘ä»¬çŸ¥é“æ–¹å·®(Var(mean))ç­‰äºæ®‹å·®å¹³æ–¹å’Œé™¤ä»¥æ ·æœ¬ä¸ªæ•°:\n\\[Var(mean) = \\frac{SS(mean)}{n}\\]\nç„¶å,æŒ‰ç…§åŒæ ·çš„æ–¹æ³•,æˆ‘ä»¬è®¡ç®—æ‹Ÿåˆç›´çº¿çš„æ®‹å·®å¹³æ–¹å’Œ,ç§°ä¹‹ä¸º\\(SS(fit)\\).åŒæ—¶,æˆ‘ä»¬ä¹Ÿå¯ä»¥è®¡ç®—å‡ºæ¥æ‹Ÿåˆç›´çº¿çš„æ–¹å·®(Var(fit)).\nå¯ä»¥çœ‹åˆ°,æ‹Ÿåˆç›´çº¿å¾—åˆ°çš„æ®‹å·®å¹³æ–¹å’Œè¦æ¯”å¹³å‡å€¼å¾—åˆ°çš„è¦å°,ä¹Ÿå°±æ˜¯è¯´,å°†å¹´é¾„å› ç´ è€ƒè™‘è¿›å»ä¹‹å,èº«é«˜çš„æ–¹å·®æœ‰ä¸€éƒ¨åˆ†èƒ½å¤Ÿè¢«å¹´é¾„æ‰€è§£é‡Š.\n\\(R^2\\)å‘Šè¯‰æˆ‘ä»¬å¹´é¾„å¯ä»¥è§£é‡Šå¤šå°‘æ¯”ä¾‹çš„èº«é«˜çš„æ–¹å·®.\n\\[R^2 = \\frac{Var(mean) - Var(fit)}{Var(mean)} = \\frac{SS(mean) - SS(fit)}{SS(mean)} = 1 - \\frac{ SS(fit)}{SS(mean)}\\]\nä»å…¬å¼å¯ä»¥çœ‹å‡º,å¦‚æœä¸€æ¡ç›´çº¿æ­£å¥½ç©¿è¿‡æ‰€æœ‰çš„æ•°æ®ç‚¹,é‚£ä¹ˆ\\(SS(fit)=0\\),è¿™æ—¶å€™\\(R^2=1\\).è€Œå¦‚æœèº«é«˜å’Œå¹´é¾„å®Œå…¨æ²¡æœ‰å…³ç³»,åˆ™\\(R^2 = 0\\).\n\réœ€è¦æ³¨æ„çš„æ˜¯,\\(R^2\\)çš„å¤§å°å¹¶ä¸å…·æœ‰ç»Ÿè®¡å­¦æ„ä¹‰,æˆ‘ä»¬å¯ä»¥æƒ³è±¡,å¦‚æœåªæœ‰ä¸¤ä¸ªç‚¹,é‚£ä¹ˆå¿…å®šæœ‰ä¸€æ¡ç›´çº¿é€šè¿‡ä»–ä»¬,å› æ­¤\\(SS(fit)\\)ä¸º0,ä½†æ˜¯å¾ˆæ˜æ˜¾è¿™æ ·çš„fitæ˜¯æ²¡æœ‰æ„ä¹‰çš„,å¾—åˆ°çš„\\(R^2\\)ä¹Ÿå¹¶ä¸èƒ½è¯´æ˜ä¸¤ä¸ªå˜é‡ä¹‹é—´çœŸæ˜¯çš„å…³ç³».è¿™è¯´æ˜äº†æ ·æœ¬çš„æ•°é‡ä¹ŸåŒæ ·é‡è¦,å› æ­¤,æˆ‘ä»¬éœ€è¦å¯¹\\(R^2\\)è¿›è¡Œç»Ÿè®¡å­¦å‡è®¾æ£€éªŒ,å¾—åˆ°å…¶ç»Ÿè®¡å­¦æ˜¾è‘—æ€§,ä¹Ÿå°±æ˜¯p value.\n\r\r0.1.3 \\(R^2\\)çš„å‡è®¾æ£€éªŒ\ré¦–å…ˆ,æˆ‘ä»¬éœ€è¦æ˜ç™½\\(R^2\\)çš„å«ä¹‰,æˆ‘ä»¬ä¸Šé¢å·²ç»è®¨è®ºè¿‡äº†,\\(R^2\\)æŒ‡çš„æ˜¯å˜é‡xèƒ½å¤Ÿè§£é‡Šå˜é‡yçš„æ–¹å·®çš„æ¯”ä¾‹.æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­,\\(R^2\\)ä¸º0.99,è¯´æ˜å¹´é¾„å¯ä»¥è§£é‡Š99%çš„èº«é«˜çš„æ–¹å·®.\nè¿™æ—¶å€™,éœ€è¦å¼•å…¥ä¸€ä¸ªç»Ÿè®¡é‡,F:\n\\[F = \\frac{(Var(mean) - Var(fit))/(p_{fit}-p_{mean})}{Var(fit)/(n-p_{fit})} = \\frac{(SS(mean) - SS(fit))/(p_{fit}-p_{mean})}{SS(fit)/(n-p_{fit})} = \\frac{\\frac{(SS(mean) - SS(fit))}{p_{fit}-p_{mean}}} {\\frac{SS(fit)}{n-p_{fit}}}\\]\nä¹Ÿå°±æ˜¯è¯´,Fç­‰äºå˜é‡xèƒ½å¤Ÿè§£é‡Šå˜é‡yçš„æ–¹å·®é™¤ä»¥å˜é‡xä¸èƒ½å¤Ÿè§£é‡Šå˜é‡yçš„æ–¹å·®.\nè€Œ\\((n-p_{fit})/(p_{fit}-p_{mean})\\)åˆ™ç§°ä¹‹ä¸ºè‡ªç”±åº¦(degrees of freedoms).è‡ªç”±åº¦çš„å®šä¹‰ä»¥åå†è¯¦ç»†è§£é‡Š.\nå…¶ä¸­\\(p_{fit}\\)ä»£è¡¨å›å½’æ–¹ç¨‹ä¸­å‚æ•°çš„æ•°ç›®,æ¯”å¦‚ä¸€å…ƒçº¿æ€§æ–¹ç¨‹ä¸­,åªæœ‰ä¸¤ä¸ªå‚æ•°(interceptå’Œslop),æ‰€ä»¥\\(p_{fit}=2\\).\\(p_{mean}\\)ä»£è¡¨å¹³å‡å€¼ç›´çº¿çš„å‚æ•°ä¸ªæ•°,åœ¨ä¸€å…ƒçº¿æ€§æ–¹ç¨‹ä¸­,ä¸º1.næ˜¯æ•°æ®é›†çš„æ ·æœ¬ä¸ªæ•°.\nå› æ­¤,\\(p_{fit}-p_{mean}\\)ä»£è¡¨çš„å«ä¹‰æ˜¯è¯¥æ‹Ÿåˆæ¨¡å‹ä¸å¹³å‡å€¼æ¨¡å‹ç›¸æ¯”,å¤šå‡ºæ¥çš„å‚æ•°çš„ä¸ªæ•°.åœ¨ç®€å•çº¿æ€§å›å½’ä¸­,å¤šå‡ºæ¥çš„å°±æ˜¯slope.å¯¹äºå¤šå…ƒçº¿æ€§å›å½’,æ¯”å¦‚,ä¸¤ä¸ªè‡ªå˜é‡é¢„æµ‹ä¸€ä¸ªå› å˜é‡,åˆ™è¿™æ—¶å€™\\(p_{fit}=3\\).\næˆ‘ä»¬å†æ¥çœ‹åˆ†æ¯,ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨\\(SS(fit)\\)é™¤ä»¥\\(n-p_{fit}\\)å‘¢?å› ä¸ºæˆ‘ä»¬çŸ¥é“æ¨¡å‹è¶Šå¤æ‚(å‚æ•°è¶Šå¤š),ä½ å°±éœ€è¦æ›´å¤šçš„ç‚¹å»æ‹Ÿåˆ.æ¯”å¦‚,å¯¹äºä¸¤ä¸ªç‚¹çš„ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹,åªéœ€è¦ä¸¤ä¸ªç‚¹å³å¯(ä¸¤ç‚¹ç¡®å®šä¸€æ¡ç›´çº¿).è€Œå¯¹äºäºŒå…ƒä¸€æ¬¡æ–¹ç¨‹,åˆ™éœ€è¦ä¸‰ä¸ªç‚¹å»æ‹Ÿåˆ.\nè¿™æ—¶å€™æˆ‘ä»¬å†æ¥çœ‹åˆ†å­åˆ†æ¯åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ„ä¹‰.\n\råˆ†å­:æ‹Ÿåˆæ¨¡å‹å¤šå‡ºæ¥çš„å‚æ•°èƒ½å¤Ÿè§£é‡Šçš„æ–¹å·®(å˜å¼‚).\n\råˆ†æ¯:æ‹Ÿåˆæ¨¡å‹å¤šå‡ºæ¥çš„å‚æ•°ä¸èƒ½å¤Ÿè§£é‡Šçš„æ–¹å·®(å˜å¼‚).\n\r\rè¿™æ ·æˆ‘ä»¬æ‹¿åˆ°Få€¼ä»¥å,æ€ä¹ˆè®¡ç®—p valueå‘¢?å…¶å®å°±æ˜¯ä½¿ç”¨permutation testçš„æ–¹æ³•.\néšæœºäº§ç”Ÿä¸æ•°æ®é›†æ ·æœ¬æ•°ç›¸åŒæ•°ç›®çš„æ•°æ®é›†.\n\rå¯¹å…¶è¿›è¡Œæ‹Ÿåˆå¹¶è®¡ç®—æ¯ä¸€ç»„éšæœºæ•°æ®çš„Få€¼.\n\räº§ç”Ÿå¤§é‡çš„éšæœºFå€¼,å¹¶å¾—åˆ°éšæœºFå€¼çš„åˆ†å¸ƒ.\n\ræ‹¿åˆ°éšæœºFå€¼çš„åˆ†å¸ƒ,p valueå°±ç­‰äºå¤§äºçœŸå®Få€¼çš„æ•°ç›®é™¤ä»¥éšæœºFå€¼çš„æ€»æ•°ç›®.\n\r\rå½“ç„¶,æ‰€æœ‰éšæœºFå€¼çš„åˆ†å¸ƒå…¶å®æ˜¯ç¬¦åˆFåˆ†å¸ƒçš„,æ‹¿åˆ°äº†Fåˆ†å¸ƒ,å°±å¯ä»¥è®¡ç®—p value.Fåˆ†å¸ƒä»¥åå†è¯¦ç»†ä»‹ç».\n\r0.1.4 çŸ«æ­£\\(R^2\\)(\\(adjusted R^2\\))\rä»€ä¹ˆæ˜¯çŸ«æ­£\\(R^2\\)å‘¢?æˆ‘ä»¬ä»\\(R^2\\)å®šä¹‰å¯ä»¥çœ‹åˆ°,å¦‚æœæˆ‘ä»¬å¢åŠ äº†æ‹Ÿåˆæ¨¡å‹çš„å˜é‡ä¸ªæ•°,å› ä¸º\\(SS(mean)\\)æ˜¯å›ºå®šçš„,å› æ­¤\\(SS(fit)\\)éƒ½ä¼šå‡å°,æ‰€ä»¥å¯¼è‡´\\(R^2\\)å˜å¤§,ä»è€Œé€ æˆè¿‡æ‹Ÿåˆ(over fitting).å› æ­¤,æˆ‘ä»¬éœ€è¦å¯¹æ¨¡å‹é€‰å…¥çš„å˜é‡ä¸ªæ•°åšä¸€ä¸ªæƒ©ç½š,è¿™å°±æ˜¯\\(adjusted \\quad R^2\\).ä»¥åå†è¯¦ç»†è§£é‡Š.\n\r0.1.5 ç³»æ•°çš„å‡è®¾æ£€éªŒ\råŒæ ·çš„,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°,ä¸Šé¢æ˜¯å¯¹\\(R^2\\)åšå‡è®¾æ£€éªŒ,å½“ç„¶æˆ‘ä»¬ä¹Ÿéœ€è¦å¯¹æ¯ä¸ªå˜é‡çš„ç³»æ•°(åŒ…æ‹¬intersect)è¿›è¡Œå‡è®¾éªŒè¯,åœ¨å¤šå…ƒå›å½’ä¸­å°¤å…¶é‡è¦,æˆ‘ä»¬ä¼šåœ¨ä»¥åè¿›è¡Œè¯¦ç»†è§£é‡Š.\n\r0.1.6 Rè¯­è¨€è¿›è¡Œçº¿æ€§å›å½’\rRè¯­è¨€ä¸­çš„lm()å‡½æ•°å¯ä»¥ç”¨æ¥è¿›è¡Œçº¿æ€§å›å½’.ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹:\nlm_fit \u0026lt;- lm(height ~ age, data)\rsummary(lm_fit)\r## ## Call:\r## lm(formula = height ~ age, data = data)\r## ## Residuals:\r## Min 1Q Median 3Q Max ## -0.27238 -0.24248 -0.02762 0.16014 0.47238 ## ## Coefficients:\r## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 64.9283 0.5084 127.71 \u0026lt; 2e-16 ***\r## age 0.6350 0.0214 29.66 4.43e-11 ***\r## ---\r## Signif. codes: 0 \u0026#39;***\u0026#39; 0.001 \u0026#39;**\u0026#39; 0.01 \u0026#39;*\u0026#39; 0.05 \u0026#39;.\u0026#39; 0.1 \u0026#39; \u0026#39; 1\r## ## Residual standard error: 0.256 on 10 degrees of freedom\r## Multiple R-squared: 0.9888, Adjusted R-squared: 0.9876 ## F-statistic: 880 on 1 and 10 DF, p-value: 4.428e-11\rsummaryä¸­æä¾›äº†è¯¥çº¿æ€§å›å½’çš„å¤§éƒ¨åˆ†å†…å®¹.å…¶ä¸­Multiple R-squaredå…¶å®å°±æ˜¯R-squared\\(R^2\\),è€ŒAdjusted R-Squredä¸»è¦æ˜¯å¯¹å¤šå…ƒçº¿æ€§å›å½’æ—¶å¯¹å¤šä¸ªå˜é‡è¿›è¡ŒçŸ«æ­£,å› ä¸ºå½“å˜é‡æ•°ç›®å¢åŠ çš„æ—¶å€™,\\(R^2\\)æ€»ä¼šå˜å°,å› æ­¤éœ€è¦å¯¹å…¶è¿›è¡ŒçŸ«æ­£.å¯¹äºç®€å•çº¿æ€§å›å½’æ¥è¯´.ç›´æ¥ä½¿ç”¨Multiple R-squaredå³å¯,è€Œå¯¹äºå¤šå…ƒçº¿æ€§å›å½’æ¥è¯´,åˆ™éœ€è¦ä½¿ç”¨Adjusted R-Squredæ¥è¡¡é‡æ¨¡å‹æ‹Ÿåˆçš„æ•ˆæœ.\n\r\r","date":1566777600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1566777600,"objectID":"301c35c4e9b187010389ef718dad5bec","permalink":"/post/2019-08-26-liner-regression/","publishdate":"2019-08-26T00:00:00Z","relpermalink":"/post/2019-08-26-liner-regression/","section":"post","summary":"0.1 çº¿æ€§å›å½’ 0.1.1 ç®€å•çº¿æ€§å›å½’ 0.1.2 \\(R^2\\) 0.1.3 \\(R^2\\)çš„å‡è®¾æ£€éªŒ 0.1.4 çŸ«æ­£\\(R^2\\)(\\(adjusted R^2\\)) 0.1.5 ç³»æ•°çš„å‡è®¾æ£€éªŒ 0.1.6 Rè¯­è¨€è¿›è¡Œçº¿æ€§å›å½’ 0.1 çº¿æ€§","tags":["Blog"],"title":"ç”Ÿç‰©ç»Ÿè®¡å­¦ä¹ :ç®€å•çº¿æ€§å›å½’æ¨¡å‹","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.0.1 1. å¦‚ä½•æ’å…¥å…¬å¼\r0.0.2 2. ä¸Šä¸‹æ ‡\r0.0.3 3. æ‹¬å·å’Œåˆ†éš”ç¬¦\r0.0.4 4. åˆ†æ•°\r0.0.5 5. å¼€æ–¹\r0.0.6 6. çœç•¥å·\r0.0.7 7. çŸ¢é‡\r0.0.8 8. ç§¯åˆ†\r0.0.9 9. æé™é¢„ç®—\r0.0.10 10. ç´¯åŠ ,ç´¯ä¹˜å…¬å¼\r0.0.11 11. å¸Œè…Šå­—æ¯\r0.0.12 12. è¿ç®—ç¬¦\r0.0.13 13. å­—ä½“è½¬æ¢\r\r\råœ¨Markdownä¸­å¯ä»¥æ–¹ä¾¿çš„è¾“å…¥æ•°å­¦å…¬å¼.ç°åœ¨å°†Markdownä¸­æ•°å­¦å…¬å¼æ€»ç»“ä¸€ä¸‹.\n0.0.1 1. å¦‚ä½•æ’å…¥å…¬å¼\råŒ…æ‹¬ä¸¤ç§,ä¸€ç§æ˜¯åœ¨è¡Œå†…æ’å…¥,ä¸€ç§æ˜¯ç‹¬ç«‹å…¬å¼(å•ç‹¬ä¸€è¡Œ).\n\rè¡Œä¸­æ’å…¥å…¬å¼($E = mc^2$): \\(E = mc^2\\)\n\rç‹¬ç«‹å…¬å¼:\n\r\r$$E = mc^2$$\r\\[E = mc^2\\]\n\r0.0.2 2. ä¸Šä¸‹æ ‡\r^ä¸Šæ ‡,_ä¸‹æ ‡.å¦‚æœä¸Šä¸‹æ ‡å†…å®¹å¤šäºä¸€ä¸ªå­—ç¬¦,éœ€è¦ä½¿ç”¨{}å°†å…¶æ‰©å¤§ä¸ºä¸€ä¸ªæ•´ä½“.\n\rä¾‹å­\r\rè¾“å…¥:\n$$ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} $$\ræ˜¾ç¤º:\n\\[ x^{y^z}=(1+{\\rm e}^x)^{-2xy^w} \\]\n\r0.0.3 3. æ‹¬å·å’Œåˆ†éš”ç¬¦\r()ã€[] å’Œ | è¡¨ç¤ºç¬¦å·æœ¬èº«ï¼Œä½¿ç”¨ {} æ¥è¡¨ç¤º{} ã€‚å½“è¦æ˜¾ç¤ºå¤§å·çš„æ‹¬å·æˆ–åˆ†éš”ç¬¦æ—¶ï¼Œè¦ç”¨ å’Œ å‘½ä»¤ã€‚\nä¸€äº›ç‰¹æ®Šçš„ä¾‹å­:\n\r\rè¾“å…¥\ræ˜¾ç¤º\r\r\r\r\\langle\r\\(\\langle\\)\r\r\\rangle\r\\(\\rangle\\)\r\r\\lceil\r\\(\\rceil\\)\r\r\\lfloor\r\\(\\lfloor\\)\r\r\\lbrace\r\\(\\lbrace\\)\r\r\r\r\rä¾‹å­\r\rè¾“å…¥:\n$$ f(x,y,z) = 3y^2z \\left( 3+\\frac{7x+5}{1+y^2} \\right) $$\ræ˜¾ç¤º:\n\\[ f(x,y,z) = 3y^2z \\left( 3+\\frac{7x+5}{1+y^2}\\right) \\]\n\r0.0.4 4. åˆ†æ•°\ré€šå¸¸ä½¿ç”¨ {åˆ†æ¯} å‘½ä»¤äº§ç”Ÿä¸€ä¸ªåˆ†æ•°ï¼Œåˆ†æ•°å¯åµŒå¥—ã€‚\n\rä¾‹å­\r\rè¾“å…¥:\n$$\\frac{a-1}{b-1} \\quad and \\quad {a+1\\over b+1}$$\ræ˜¾ç¤º:\n\\[\\frac{a-1}{b-1}\\]\n\r0.0.5 5. å¼€æ–¹\rä½¿ç”¨ å‘½ä»¤è¾“å…¥å¼€æ–¹ã€‚\n\rä¾‹å­\r\rè¾“å…¥:\n$$\\sqrt{2} \\quad and \\quad \\sqrt[n]{3}$$\ræ˜¾ç¤º:\n\\[\\sqrt{2} \\quad and \\quad \\sqrt[n]{3}\\]\n\rå…¶ä¸­.\n\r\r0.0.6 6. çœç•¥å·\ræ•°å­¦å…¬å¼ä¸­å¸¸è§çš„çœç•¥å·æœ‰ä¸¤ç§ï¼Œè¡¨ç¤ºä¸æ–‡æœ¬åº•çº¿å¯¹é½çš„çœç•¥å·ï¼Œè¡¨ç¤ºä¸æ–‡æœ¬ä¸­çº¿å¯¹é½çš„çœç•¥å·ã€‚\n\rä¾‹å­\r\rè¾“å…¥:\n$$f(x_1,x_2,\\ldots ,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2$$\ræ˜¾ç¤º:\n\\[f(x_1,x_2,\\ldots ,x_n) = x_1^2 + x_2^2 + \\cdots + x_n^2\\]\n\r0.0.7 7. çŸ¢é‡\rä½¿ç”¨ æ¥è‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªçŸ¢é‡ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨ ç­‰å‘½ä»¤è‡ªå®šä¹‰å­—æ¯ä¸Šæ–¹çš„ç¬¦å·ã€‚\n\rä¾‹å­\r\rè¾“å…¥:\n$$\\vec{a} \\cdot \\vec{b}=0$$\ræ˜¾ç¤º:\n\\[\\vec{a} \\cdot \\vec{b}=0\\]\nå…¶ä¸­(\\(\\cdot\\)).\n\rä¾‹å­\r\rè¾“å…¥:\n$$\\overleftarrow{xy} \\quad and \\quad \\overleftrightarrow{xy} \\quad and \\quad \\overrightarrow{xy}$$\ræ˜¾ç¤º:\n\\[\\overleftarrow{xy} \\quad and \\quad \\overleftrightarrow{xy} \\quad and \\quad \\overrightarrow{xy}\\]\n\r0.0.8 8. ç§¯åˆ†\rä½¿ç”¨ _ç§¯åˆ†ä¸‹é™^ç§¯åˆ†ä¸Šé™ {è¢«ç§¯è¡¨è¾¾å¼} æ¥è¾“å…¥ä¸€ä¸ªç§¯åˆ†ã€‚\n\rä¾‹å­\r\rè¾“å…¥:\n$$\\int_0^1 {x^2} \\,{\\rm d}x$$\ræ˜¾ç¤º:\n\\[\\int_0^1 {x^2} dx\\]\n\r0.0.9 9. æé™é¢„ç®—\rä½¿ç”¨ _{å˜é‡ è¡¨è¾¾å¼} è¡¨è¾¾å¼ æ¥è¾“å…¥ä¸€ä¸ªæé™ã€‚å¦‚æœ‰éœ€æ±‚ï¼Œå¯ä»¥æ›´æ”¹ ç¬¦å·è‡³ä»»æ„ç¬¦å·ã€‚\n\rä¾‹å­\r\rè¾“å…¥:\n$$ \\lim_{n \\to +\\infty} \\frac{1}{n(n+1)} \\quad and \\quad \\lim_{x\\leftarrow{ç¤ºä¾‹}} \\frac{1}{n(n+1)} $$\ræ˜¾ç¤º:\n\\[ \\lim_{n \\to +\\infty} \\frac{1}{n(n+1)} \\quad and \\quad \\lim_{x\\leftarrow{ç¤ºä¾‹}} \\frac{1}{n(n+1)} \\]\nå…¶ä¸­,éƒ½è¡¨ç¤ºå‘å³çš„ç®­å¤´.\n\rä¾‹å­\r\rè¾“å…¥:\n$$\\to \\quad and \\quad \\rightarrow$$\ræ˜¾ç¤º:\n\\[\\to \\quad and \\quad \\rightarrow\\]\n\r0.0.10 10. ç´¯åŠ ,ç´¯ä¹˜å…¬å¼\rä½¿ç”¨ _{ä¸‹æ ‡è¡¨è¾¾å¼}^{ä¸Šæ ‡è¡¨è¾¾å¼} {ç´¯åŠ è¡¨è¾¾å¼} æ¥è¾“å…¥ä¸€ä¸ªç´¯åŠ ã€‚\rä¸ä¹‹ç±»ä¼¼ï¼Œä½¿ç”¨ æ¥åˆ†åˆ«è¾“å…¥ç´¯ä¹˜ã€å¹¶é›†å’Œäº¤é›†ã€‚\ræ­¤ç±»ç¬¦å·åœ¨è¡Œå†…æ˜¾ç¤ºæ—¶ä¸Šä¸‹æ ‡è¡¨è¾¾å¼å°†ä¼šç§»è‡³å³ä¸Šè§’å’Œå³ä¸‹è§’ã€‚\n\rä¾‹å­\r\rè¾“å…¥:\n$$\\sum_{i=1}^n \\frac{1}{i^2} \\quad and \\quad \\prod_{i=1}^n \\frac{1}{i^2} \\quad and \\quad \\bigcup_{i=1}^{2} R$$\ræ˜¾ç¤º:\n\\[\\sum_{i=1}^n \\frac{1}{i^2} \\quad and \\quad \\prod_{i=1}^n \\frac{1}{i^2} \\quad and \\quad \\bigcup_{i=1}^{2} R\\]\n\r0.0.11 11. å¸Œè…Šå­—æ¯\rè¾“å…¥\\å°å†™å¸Œè…Šå­—æ¯è‹±æ–‡å…¨ç§°å’Œ\\é¦–å­—æ¯å¤§å†™å¸Œè…Šå­—æ¯è‹±æ–‡å…¨ç§°æ¥åˆ†åˆ«è¾“å…¥å°å†™å’Œå¤§å†™å¸Œè…Šå­—æ¯ã€‚\n\rå¯¹äºå¤§å†™å¸Œè…Šå­—æ¯ä¸ç°æœ‰å­—æ¯ç›¸åŒçš„ï¼Œç›´æ¥è¾“å…¥å¤§å†™å­—æ¯å³å¯ã€‚\n\r\r\rè¾“å…¥\ræ˜¾ç¤º\rè¾“å…¥\ræ˜¾ç¤º\rè¾“å…¥\ræ˜¾ç¤º\rè¾“å…¥\ræ˜¾ç¤º\r\r\r\r\\alpha\r\\(\\alpha\\)\rA\r\\(A\\)\r\\beta\r\\(\\beta\\)\rB\r\\(B\\)\r\r\\gamma\r\\(\\gamma\\)\r\\Gamma\r\\(\\Gamma\\)\r\\delta\r\\(\\delta\\)\r\\Delta\r\\(\\Delta\\)\r\r\\epsilon\r\\(\\epsilon\\)\rE\r\\(E\\)\r\\zeta\r\\(\\zeta\\)\rZ\r\\(Z\\)\r\r\\eta\r\\(\\eta\\)\rH\r\\(H\\)\r\\theta\r\\(\\theta\\)\r\\Theta\r\\(\\Theta\\)\r\r\\iota\r\\(\\iota\\)\rI\r\\(I\\)\r\\kappa\r\\(\\kappa\\)\rK\r\\(K\\)\r\r\\lambda\r\\(\\lambda\\)\r\\Lambda\r\\(\\Lambda\\)\r\\mu\r\\(\\mu\\)\rM\r\\(M\\)\r\r\\nu\r\\(\\nu\\)\rN\r\\(N\\)\r\\xi\r\\(\\xi\\)\rXi\r\\(Xi\\)\r\ro\r\\(o\\)\rO\r\\(O\\)\r\\pi\r\\(\\pi\\)\r\\Pi\r\\(\\Pi\\)\r\r\\rho\r\\(\\rho\\)\rP\r\\(P\\)\r\\sigma\r\\(\\sigma\\)\r\\Sigma\r\\(\\Sigma\\)\r\r\\tau\r\\(\\tau\\)\rT\r\\(T\\)\r\\upsilon\r\\(\\upsilon\\)\r\\Upsilon\r\\(\\Upsilon\\)\r\r\\phi\r\\(\\phi\\)\r\\Phi\r\\(\\Phi\\)\r\\chi\r\\(\\chi\\)\r\\Chi\r\\(\\Chi\\)\r\r\\psi\r\\(\\psi\\)\r\\Psi\r\\(\\Psi\\)\r\\omega\r\\(\\omega\\)\r\\Omega\r\\(\\Omega\\)\r\r\r\r\r0.0.12 12. è¿ç®—ç¬¦\r0.0.12.1 (1) å…³ç³»è¿ç®—ç¬¦\r\r\rè¾“å…¥\ræ˜¾ç¤º\rè¾“å…¥\ræ˜¾ç¤º\rè¾“å…¥\ræ˜¾ç¤º\rè¾“å…¥\ræ˜¾ç¤º\r\r\r\r\\pm\r\\(\\pm\\)\r\\times\r\\(\\times\\)\r\\div\r\\(\\div\\)\r\\mid\r\\(\\mid\\)\r\r\\nmid\r\\(\\nmid\\)\r\\cdot\r\\(\\cdot\\)\r\\circ\r\\(\\circ\\)\r\\ast\r\\(\\ast\\)\r\r\\bigodot\r\\(\\bigodot\\)\r\\bigotimes\r\\(\\bigotimes\\)\r\\bigoplus\r\\(\\bigoplus\\)\r\\leq\r\\(\\leq\\)\r\r\\geq\r\\(\\geq\\)\r\\neq\r\\(\\neq\\)\r\\approx\r\\(\\approx\\)\r\\equiv\r\\(\\equiv\\)\r\r\\sum\r\\(\\sum\\)\r\\prod\r\\(\\prod\\)\r\\coprod\r\\(\\coprod\\)\r\\backslash\r\\(\\backslash\\)\r\r\r\r\r0.0.12.2 (2) é›†åˆè¿ç®—ç¬¦\r\r\rè¾“å…¥\ræ˜¾ç¤º\rè¾“å…¥\ræ˜¾ç¤º\rè¾“å…¥\ræ˜¾ç¤º\r\r\r\r\\emptyset\r\\(\\emptyset\\)\r\\in\r\\(\\in\\)\r\\notin\r\\(\\notin\\)\r\r\\subset\r\\(\\subset\\)\r\\supset\r\\(\\supset\\)\r\\subseteq\r\\(\\subseteq\\)\r\r\\supseteq\r\\(\\supseteq\\)\r\\bigcap\r\\(\\bigcap\\)\r\\bigcup\r\\(\\bigcup\\)\r\r\\bigvee\r\\(\\bigvee\\)\r\\bigwedge\r\\(\\bigwedge\\)\r\\biguplus\r\\(\\biguplus\\)\r\r\r\r\r0.0.12.3 (3) å¯¹æ•°è¿ç®—ç¬¦\r\r\rè¾“å…¥\ræ˜¾ç¤º\r\r\r\r\\log\r\\(\\log\\)\r\r\\lg\r\\(\\lg\\)\r\r\\ln\r\\(\\ln\\)\r\r\r\r\r0.0.12.4 (4) ä¸‰è§’è¿ç®—ç¬¦\r\r\rè¾“å…¥\ræ˜¾ç¤º\r\r\r\r30^\\circ\r\\(30^\\circ\\)\r\r\\bot\r\\(\\bot\\)\r\r\\angle A\r\\(\\angle A\\)\r\r\\sin\r\\(\\sin\\)\r\r\\cos\r\\(\\cos\\)\r\r\\csc\r\\(\\csc\\)\r\r\\sec\r\\(\\sec\\)\r\r\\cot\r\\(\\cot\\)\r\r\r\r\r\r0.0.13 13. å­—ä½“è½¬æ¢\rè‹¥è¦å¯¹å…¬å¼çš„æŸä¸€éƒ¨åˆ†å­—ç¬¦è¿›è¡Œå­—ä½“è½¬æ¢ï¼Œå¯ä»¥ç”¨{\\å­—ä½“ {éœ€è½¬æ¢çš„éƒ¨åˆ†å­—ç¬¦}}å‘½ä»¤ï¼Œå…¶ä¸­ \\å­—ä½“ éƒ¨åˆ†å¯ä»¥å‚ç…§ä¸‹è¡¨é€‰æ‹©åˆé€‚çš„å­—ä½“ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…¬å¼é»˜è®¤ä¸ºæ„å¤§åˆ©ä½“ã€‚\nç¤ºä¾‹ä¸­å…¨éƒ¨å¤§å†™çš„å­—ä½“ä»…å¤§å†™å¯ç”¨ã€‚\n\r\rè¾“å…¥\ræ˜¾ç¤º\rè¯´æ˜\r\r\r\r\\rm\r\\(\\rm {Sample}\\)\rç½—é©¬ä½“\r\r\\it\r\\(\\it {Sample}\\)\ræ„å¤§åˆ©æ–œä½“\r\r\\bf\r\\(\\bf {Sample}\\)\rç²—ä½“\r\r\r\r\r","date":1566691200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1566691200,"objectID":"b7d709f97dda0f4e15ae5bc5a5e8de47","permalink":"/post/2019-08-25-math-markdown/","publishdate":"2019-08-25T00:00:00Z","relpermalink":"/post/2019-08-25-math-markdown/","section":"post","summary":"0.0.1 1. å¦‚ä½•æ’å…¥å…¬å¼ 0.0.2 2. ä¸Šä¸‹æ ‡ 0.0.3 3. æ‹¬å·å’Œåˆ†éš”ç¬¦ 0.0.4 4. åˆ†æ•° 0.0.5 5. å¼€æ–¹ 0.0.6 6. çœç•¥å· 0.0.7 7. çŸ¢é‡ 0.0.8 8. ç§¯åˆ† 0.0.9 9. æé™é¢„ç®— 0.0.10 10. ç´¯åŠ ,ç´¯ä¹˜å…¬å¼ 0.0.11 11. å¸Œè…Šå­—æ¯ 0.0.12 12. è¿ç®—ç¬¦ 0.0.13 13.","tags":["Blog"],"title":"Markdownä¸­è¾“å…¥æ•°å­¦å…¬å¼","type":"post"},{"authors":["Xiaotao Shen PhD"],"categories":[],"content":" from IPython.core.display import Image Image('https://www.python.org/static/community_logos/python-logo-master-v3-TM-flattened.png')  print(\u0026quot;Welcome to Academic!\u0026quot;)  Welcome to Academic!  Install Python and Jupyter Install Anaconda which includes Python 3 and Jupyter notebook.\nOtherwise, for advanced users, install Jupyter notebook with pip3 install jupyter.\nCreate a new blog post as usual Run the following commands in your Terminal, substituting \u0026lt;MY_WEBSITE_FOLDER\u0026gt; and my-post with the file path to your Academic website folder and a name for your blog post (without spaces), respectively:\ncd \u0026lt;MY_WEBSITE_FOLDER\u0026gt; hugo new --kind post post/my-post cd \u0026lt;MY_WEBSITE_FOLDER\u0026gt;/content/post/my-post/  Create or upload a Jupyter notebook Run the following command to start Jupyter within your new blog post folder. Then create a new Jupyter notebook (New \u0026gt; Python Notebook) or upload a notebook.\njupyter notebook  Convert notebook to Markdown jupyter nbconvert Untitled.ipynb --to markdown --NbConvertApp.output_files_dir=. # Copy the contents of Untitled.md and append it to index.md: cat Untitled.md | tee -a index.md # Remove the temporary file: rm Untitled.md  Edit your post metadata Open index.md in your text editor and edit the title etc. in the front matter according to your preference.\nTo set a featured image, place an image named featured into your post\u0026rsquo;s folder.\nFor other tips, such as using math, see the guide on writing content with Academic.\n","date":1562198400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1562198400,"objectID":"4008e7b082490319c6231570ec8b2583","permalink":"/post/blogdown-instruction/","publishdate":"2019-07-04T00:00:00Z","relpermalink":"/post/blogdown-instruction/","section":"post","summary":"ä½¿ç”¨blogdownåŒ…æ­å»ºä¸ªäººblog","tags":[],"title":"Display Jupyter Notebooks with Academic","type":"post"},{"authors":["Xiaotao Shen PhD","Ruohong Wang","Others","Zheng-Jiang Zhu"],"categories":null,"content":"","date":1554336000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554336000,"objectID":"63d45f7c777552440708a1b1b031e34c","permalink":"/publication/journal-article/metdna/","publishdate":"2019-04-04T00:00:00Z","relpermalink":"/publication/journal-article/metdna/","section":"publication","summary":"Here, we develop a metabolic reaction network (MRN)-based recursive algorithm (MetDNA) that expands metabolite annotations without the need for a comprehensive standard spectral library.","tags":["Source Themes"],"title":"Metabolic Reaction Network-based Recursive Metabolite Annotation for Untargeted Metabolomics","type":"publication"},{"authors":["Xiaotao Shen PhD"],"categories":[],"content":" from IPython.core.display import Image Image('https://www.python.org/static/community_logos/python-logo-master-v3-TM-flattened.png')  print(\u0026quot;Welcome to Academic!\u0026quot;)  Welcome to Academic!  Install Python and Jupyter Install Anaconda which includes Python 3 and Jupyter notebook.\nOtherwise, for advanced users, install Jupyter notebook with pip3 install jupyter.\nCreate a new blog post as usual Run the following commands in your Terminal, substituting \u0026lt;MY_WEBSITE_FOLDER\u0026gt; and my-post with the file path to your Academic website folder and a name for your blog post (without spaces), respectively:\ncd \u0026lt;MY_WEBSITE_FOLDER\u0026gt; hugo new --kind post post/my-post cd \u0026lt;MY_WEBSITE_FOLDER\u0026gt;/content/post/my-post/  Create or upload a Jupyter notebook Run the following command to start Jupyter within your new blog post folder. Then create a new Jupyter notebook (New \u0026gt; Python Notebook) or upload a notebook.\njupyter notebook  Convert notebook to Markdown jupyter nbconvert Untitled.ipynb --to markdown --NbConvertApp.output_files_dir=. # Copy the contents of Untitled.md and append it to index.md: cat Untitled.md | tee -a index.md # Remove the temporary file: rm Untitled.md  Edit your post metadata Open index.md in your text editor and edit the title etc. in the front matter according to your preference.\nTo set a featured image, place an image named featured into your post\u0026rsquo;s folder.\nFor other tips, such as using math, see the guide on writing content with Academic.\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1549324800,"objectID":"6e929dc84ed3ef80467b02e64cd2ed64","permalink":"/post/jupyter/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/post/jupyter/","section":"post","summary":"Learn how to blog in Academic using Jupyter notebooks","tags":[],"title":"Display Jupyter Notebooks with Academic","type":"post"},{"authors":[],"categories":[],"content":" Welcome to Slides Academic\nFeatures  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides  Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E  Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026quot;blueberry\u0026quot; if porridge == \u0026quot;blueberry\u0026quot;: print(\u0026quot;Eating...\u0026quot;)  Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = \\;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\nFragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}} {{% fragment %}} **Two** {{% /fragment %}} {{% fragment %}} Three {{% /fragment %}}  Press Space to play!\nOne  Two  Three \nA fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears  Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}}  Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view   Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links   night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links  Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026quot;/img/boards.jpg\u0026quot; \u0026gt;}} {{\u0026lt; slide background-color=\u0026quot;#0000FF\u0026quot; \u0026gt;}} {{\u0026lt; slide class=\u0026quot;my-style\u0026quot; \u0026gt;}}  Custom CSS Example Let\u0026rsquo;s make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; }  Questions? Ask\nDocumentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1549324800,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using Academic's Slides feature.","tags":[],"title":"Slides","type":"slides"},{"authors":["Zhuozhong Wang","Others","Xiaotao Shen PhD"],"categories":null,"content":"","date":1546387200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1546387200,"objectID":"a70b8f565d8fadd32a7e9ba6fb8ad482","permalink":"/publication/journal-article/zhuozhong_ac/","publishdate":"2018-12-23T00:00:00Z","relpermalink":"/publication/journal-article/zhuozhong_ac/","section":"publication","summary":"The metabolic profiling of biofluids using untargeted metabolomics provides a promising choice to discover metabolite biomarkers for clinical cancer diagnosis. However, metabolite biomarkers discovered in biofluids may not necessarily reflect the pathological status of tumor tissue, which makes these biomarkers difficult to reproduce. In this study, we developed a new analysis strategy by integrating the univariate and multivariate correlation analysis approach to discover tumor tissue derived (TTD) metabolites in plasma samples. Specifically, untargeted metabolomics was first used to profile a set of paired tissue and plasma samples from 34 colorectal cancer (CRC) patients. Next, univariate correlation analysis was used to select correlative metabolite pairs between tissue and plasma, and a random forest regression model was utilized to define 243 TTD metabolites in plasma samples. The TTD metabolites in CRC plasma were demonstrated to accurately reflect the pathological status of tumor tissue and have great potential for metabolite biomarker discovery. Accordingly, we conducted a clinical study using a set of 146 plasma samples from CRC patients and gender-matched polyp controls to discover metabolite biomarkers from TTD metabolites. As a result, eight metabolites were selected as potential biomarkers for CRC diagnosis with high sensitivity and specificity. For CRC patients after surgery, the survival risk score defined by metabolite biomarkers also performed well in predicting overall survival time (p = 0.022) and progression-free survival time (p = 0.002). In conclusion, we developed a new analysis strategy which effectively discovers tumor tissue related metabolite biomarkers in plasma for cancer diagnosis and prognosis.","tags":["Metabolomics","Statistical analysis","Biomarker discovery"],"title":"Development of a Correlative Strategy To Discover Colorectal Tumor Tissue Derived Metabolite Biomarkers in Plasma Using Untargeted Metabolomics","type":"publication"},{"authors":["Xiaotao Shen PhD","Zheng-Jiang Zhu"],"categories":null,"content":" Availability and implementation The MetFlow is freely available on http://metflow.zhulab.cn/.\nSupplementary information Supplementary data are available at Bioinformatics online.\n","date":1546387200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1546387200,"objectID":"30abc825074b5384f41953e1e2657efa","permalink":"/publication/journal-article/metflow/","publishdate":"2019-01-02T00:00:00Z","relpermalink":"/publication/journal-article/metflow/","section":"publication","summary":"Mass spectrometry-based metabolomics aims to profile the metabolic changes in biological systems and identify differential metabolites related to physiological phenotypes and aberrant activities.","tags":["Source Themes"],"title":"MetFlow an interactive and integrated workflow for metabolomics data cleaning and differential metabolite discovery","type":"publication"},{"authors":["Xiaotao Shen PhD","Zheng-Jiang Zhu"],"categories":null,"content":" Availability and implementation The MetFlow is freely available on http://metflow.zhulab.cn/.\nSupplementary information Supplementary data are available at Bioinformatics online.\n","date":1546387200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1546387200,"objectID":"7cce40f13d0d2f49b7a67722e92d3bbe","permalink":"/publication/journal-article/metnormalizer/","publishdate":"2019-01-02T00:00:00Z","relpermalink":"/publication/journal-article/metnormalizer/","section":"publication","summary":"Mass spectrometry-based metabolomics aims to profile the metabolic changes in biological systems and identify differential metabolites related to physiological phenotypes and aberrant activities.","tags":["Source Themes"],"title":"MetFlow an interactive and integrated workflow for metabolomics data cleaning and differential metabolite discovery","type":"publication"},{"authors":["Huixun Jia","Xiaotao Shen PhD","Others","Zheng-Jiang Zhu"],"categories":null,"content":"","date":1537660800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1537660800,"objectID":"c8b9c6c1e97c691488c4aa2cbf3c8cf3","permalink":"/publication/journal-article/huixun/","publishdate":"2018-09-23T00:00:00Z","relpermalink":"/publication/journal-article/huixun/","section":"publication","summary":"A panel of metabolites has been identified to facilitate the prediction of tumor response to NCRT in LARC, which is promising for the generation of personalized treatment strategies for LARC patients.","tags":["Metabolomics","Biomarker discovery"],"title":"Predicting the pathological response to neoadjuvant chemoradiation using untargeted metabolomics in locally advanced rectal cancer","type":"publication"},{"authors":["Zhiwei Zhou","Others","Xiaotao Shen PhD","Zheng-Jiang Zhu"],"categories":null,"content":"","date":1532304000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1532304000,"objectID":"66ddc18e59fafe4fdab325a25fc321a7","permalink":"/publication/journal-article/lipidccs/","publishdate":"2018-07-23T00:00:00Z","relpermalink":"/publication/journal-article/lipidccs/","section":"publication","summary":"The use of collision cross-section (CCS) values derived from ion mobilityâ€“mass spectrometry (IMâ€“MS) has been proven to facilitate lipid identifications. Its utility is restricted by the limited availability of CCS values. Recently, the machine-learning algorithm-based prediction (e.g., MetCCS) is reported to generate CCS values in a large-scale. However, the prediction precision is not sufficient to differentiate lipids due to their high structural similarities and subtle differences on CCS values. To address this challenge, we developed a new approach, namely, LipidCCS, to precisely predict lipid CCS values.","tags":["Lipidomics","Data processing","Software"],"title":"LipidCCS Prediction of Collision Cross-Section Values for Lipids with High Precision To Support Ion Mobilityâ€“Mass Spectrometry-Based Lipidomics","type":"publication"},{"authors":["Zhiwei Zhou","Xiaotao Shen PhD","Others","Zheng-Jiang Zhu"],"categories":null,"content":"","date":1532304000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1532304000,"objectID":"aca20ec32852cec914c973d8c86adfc0","permalink":"/publication/journal-article/lipidimms/","publishdate":"2018-07-23T00:00:00Z","relpermalink":"/publication/journal-article/lipidimms/","section":"publication","summary":"Ion mobilityâ€”mass spectrometry (IM-MS) has showed great application potential for lipidomics. However, IM-MS based lipidomics is significantly restricted by the available software for lipid structural identification. Here, we developed a software tool, namely, LipidIMMS Analyzer, to support the accurate identification of lipids in IM-MS. For the first time, the software incorporates a large-scale database covering over 260 000 lipids and four-dimensional structural information for each lipid [i.e. m/z, retention time (RT), collision cross-section (CCS) and MS/MS spectra]. Therefore, multi-dimensional information can be readily integrated to support lipid identifications, and significantly improve the coverage and confidence of identification. Currently, the software supports different IM-MS instruments and data acquisition approaches.","tags":["Lipidomics","Data processing","Software"],"title":"LipidIMMS Analyzer integrating multi-dimensional information to support lipid identification in ion mobilityâ€”mass spectrometry based lipidomics","type":"publication"},{"authors":[],"categories":null,"content":" Click on the Slides button above to view the built-in slides feature.   Slides can be added in a few ways:\n Create slides using Academic\u0026rsquo;s Slides feature and link using slides parameter in the front matter of the talk file Upload an existing slide deck to static/ and link using url_slides parameter in the front matter of the talk file Embed your slides (e.g. Google Slides) or presentation video on this page using shortcodes.  Further talk details can easily be added to this page using Markdown and $\\rm \\LaTeX$ math code.\n","date":1529845200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1529845200,"objectID":"b95c40c62f937e204d0a4a497ac69376","permalink":"/talk/2018seattle/","publishdate":"2018-06-26T00:00:00Z","relpermalink":"/talk/2018seattle/","section":"talk","summary":"Metabolic Reaction Network-based Recursive Metabolite Identification for Untargeted Metabolomics","tags":[],"title":"Metabolic Reaction Network-based Recursive Metabolite Identification for Untargeted Metabolomics","type":"talk"},{"authors":null,"categories":["life"],"content":"\r\r1 æˆ‘çš„2016å¹´\r1.1 æ•ˆç‡ä½ä¸‹\r1.2 æ‡’æƒ°\r1.3 æ²¡æœ‰æ˜ç¡®çš„ç›®æ ‡\r\r2 æˆ‘çš„2017å¹´è®¡åˆ’\r2.1 æ–‡ç« \r2.2 ç»Ÿè®¡\r2.3 R\r\r3 python\r4 å¥èº«\r\r\r1 æˆ‘çš„2016å¹´\rç°åœ¨æƒ³æƒ³ï¼Œå…¶å®æ•´ä¸ª2016å¹´çœŸçš„æ˜¯æ²¡ä»€ä¹ˆæ”¶è·ï¼Œç§‘ç ”ä¸Šæ²¡ä»€ä¹ˆè¿›å±•ï¼ŒæŠ€èƒ½ä¸Šä¹Ÿæ²¡æœ‰ä»€ä¹ˆæå‡ï¼ŒåŸæœ¬å‡†å¤‡è¦å­¦ä¹ çš„pythonï¼Œä¹Ÿåœ¨1-2ä¸ªæœˆä¹‹åï¼Œå½»åº•çš„æ”¾å¼ƒäº†ã€‚ç°åœ¨å¯èƒ½åªè®°å¾—ä¸€ç‚¹ç‚¹çš®æ¯›äº†ã€‚é‚£ä¹ˆ2016å¹´çš„é—®é¢˜åˆ°åº•åœ¨å“ªé‡Œå‘¢ï¼Ÿæ€»ç»“æ¥è¯´ï¼Œå¯ä»¥åˆ†ä¸ºä¸‹é¢å‡ éƒ¨åˆ†ã€‚\n1.1 æ•ˆç‡ä½ä¸‹\rä¸å¾—ä¸æ‰¿è®¤ï¼Œæˆ‘çš„å­¦ä¹ æ•ˆç‡çœŸçš„æ˜¯å‡ºå¥‡çš„ä½ä¸‹ï¼Œä»æˆ‘ä¸Šé«˜ä¸­ä»¥æ¥å…¶å®éƒ½æ˜¯è¿™æ ·äº†ï¼Œåšä»€ä¹ˆäº‹æƒ…éƒ½ä¸èƒ½å¤Ÿä¸“å¿ƒè‡´å¿—ã€‚ç”¨é«˜ä¸­åŒå­¦åˆ©å¼Ÿçš„è¯æ¥è¯´ï¼Œæ˜¯â€œç©çš„æ—¶å€™æ²¡æœ‰å¥½å¥½ç©ï¼Œå­¦ä¹ çš„æ—¶å€™æ²¡æœ‰å¥½å¥½å­¦ä¹ â€ï¼Œç”¨æœ€è¿‘å­¦åˆ°çš„ä¸€å¥è¯æ˜¯â€œç”¨æˆ˜æœ¯ä¸Šçš„å‹¤å¥‹æ¥æ©é¥°æˆ˜ç•¥ä¸Šçš„æ‡’æƒ°â€ã€‚å…·ä½“è¡¨ç°å°±æ˜¯ç²¾ç¥ä¸é›†ä¸­ï¼Œå¼€å°è½¦ã€‚\n\r1.2 æ‡’æƒ°\rç°åœ¨çœŸçš„æ˜¯è¶Šæ¥è¶Šæ‡’æƒ°äº†ï¼Œå¾ˆå¤šäº‹æƒ…éƒ½æ²¡æœ‰ä»¥å‰æœ‰æ¿€æƒ…äº†ï¼Œå¯èƒ½æ˜¯æˆ‘è€äº†ï¼Ÿ\n\r1.3 æ²¡æœ‰æ˜ç¡®çš„ç›®æ ‡\rä¸ŠåŠå¹´å…¶å®è¿˜æ˜¯æŒºæœ‰ç›®æ ‡çš„ï¼Œä½†æ˜¯åˆ°äº†ä¸‹åŠå¹´ï¼Œç›®æ ‡çªç„¶å°±å¤±ç„¦äº†ã€‚å®šä¸‹ä¸€ä¸ªç›®æ ‡ï¼ŒåŠªåŠ›å»å®ç°ï¼Œæˆ–è€…å®šä¸‹ä¸€ä¸ªè®¡åˆ’ï¼ŒåŠªåŠ›å»å®Œæˆã€‚\nä¸Šé¢å°±æ˜¯æˆ‘2016å¹´çš„ä¸€ä¸ªç®€çŸ­çš„æ€»ç»“äº†ï¼Œå½“ç„¶ä¸æ˜¯åªæœ‰è¿™äº›é—®é¢˜ï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„é—®é¢˜ï¼Œä½†æ˜¯å¯èƒ½éƒ½æ˜¯ä¸€äº›ç»†èŠ‚çš„é—®é¢˜ï¼Œå°±ä¸è¿‡å¤šå»å†™äº†ã€‚\n\r\r2 æˆ‘çš„2017å¹´è®¡åˆ’\r2.1 æ–‡ç« \rå¾ˆå¹¸è¿çš„æ˜¯è‡ªå·±è¿˜æ˜¯å‘äº†ä¸¤ç¯‡æ–‡ç« ï¼Œä½†æ˜¯éƒ½æ˜¯å¾ˆä½åˆ†çš„ï¼Œè™½ç„¶å¤Ÿæˆ‘æ¯•ä¸šï¼Œä½†æ˜¯å…¶å®è‡ªå·±çŸ¥é“å¹¶ä¸è¶³å¤Ÿï¼Œå› æ­¤2017å¹´çš„ä¸»è¦ä»»åŠ¡å°±æ˜¯å¥½å¥½çœ‹æ–‡çŒ®ï¼Œåšå®éªŒï¼Œå¯»æ‰¾æ€è·¯ï¼Œäº‰å–èƒ½å¤Ÿå†å‘ä¸€ç¯‡é«˜è´¨é‡çš„ä½ æ–‡ç« ã€‚\n\r2.2 ç»Ÿè®¡\ræ¯•ç«Ÿæˆ‘çš„è¯¾é¢˜å’Œç»Ÿè®¡å…³ç³»å¾ˆå¤§ï¼Œè‡ªå·±çš„ç»Ÿè®¡æ•°æ®åŠŸåº•å¾ˆå·®ï¼Œå¸Œæœ›å¯ä»¥åœ¨çœ‹æ–‡çŒ®ä»¥åŠèµ„æ–™çš„åŒæ—¶ï¼Œå¥½å¥½å­¦ä¹ ä¸€ä¸‹ç»Ÿè®¡ï¼Œæœºå™¨å­¦ä¹ ç­‰çŸ¥è¯†ï¼Œå†è¯¾é¢˜ä¸­èƒ½å¤ŸçœŸæ­£è¿ç”¨åˆ°ã€‚\n\r2.3 R\rRæ˜¯ä¸€ä¸ªå¥½ä¸œè¥¿ï¼Œéœ€è¦å†æ·±å…¥çš„å­¦ä¹ ï¼Œä¸»è¦æ˜¯ç»“åˆç€ç»Ÿè®¡å»å­¦ä¹ ï¼Œå¹¶åŠæ—¶åšå¥½æ€»è®¡ï¼Œä»¥æœ‰é“ç¬”è®°å’Œåšå®¢ä½œä¸ºå¹³å°å»è®°å½•è‡ªå·±çš„å­¦ä¹ ï¼Œå³ä½œä¸ºç¬”è®°ä¹Ÿä½œä¸ºæ€»ç»“ã€‚\n\r\r3 python\rè¿™ä¸ªæ”¾åˆ°æœ€åï¼Œæ˜¯å› ä¸ºå¯èƒ½å¾ˆéš¾æœ‰å¾ˆå¤šæ—¶é—´å»å­¦ä¹ äº†ï¼Œå¸Œæœ›å‰é¢å‡ æ¡æ¯”è¾ƒé¡ºåˆ©ï¼Œæ‰ä¼šæœ‰æ—¶é—´å»åšã€‚\n\r4 å¥èº«\rç»è¿‡åˆ«äººçš„æé†’ï¼Œè¿˜æœ‰è¿™ä¸€é¡¹ï¼Œç¡®å®è‡ªå·±çœ‹èµ·æ¥å¤ªç˜¦äº†ï¼Œå°¤å…¶æ˜¯ä¸ŠåŠèº«ï¼Œè¿è¡¬è¡«å’Œè¥¿è£…éƒ½æ’‘ä¸èµ·æ¥ï¼Œç­‰å¤©æ°”å¼€å§‹æš–å’Œäº†ï¼Œå°±å¼€å§‹è·‘æ­¥ï¼Œç„¶åç­‰ä¸­æœŸç­”è¾©ç»“æŸä¹‹åï¼Œè€ƒè™‘åŠä¸€å¼ å¥èº«å¡ï¼Œå»å¥èº«ï¼\næœ€åçš„æœ€åï¼Œæé†’è‡ªå·±ï¼Œæœ€åä¸€å¹´ï¼ŒåŠ æ²¹ï¼\n\r","date":1483228800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1483228800,"objectID":"d5d4d1150c717ccfde1484b4cc9cf240","permalink":"/post/2017-02-12-firstblog2017/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/post/2017-02-12-firstblog2017/","section":"post","summary":"1 æˆ‘çš„2016å¹´ 1.1 æ•ˆç‡ä½ä¸‹ 1.2 æ‡’æƒ° 1.3 æ²¡æœ‰æ˜ç¡®çš„ç›®æ ‡ 2 æˆ‘çš„2017å¹´è®¡åˆ’ 2.1 æ–‡ç«  2.2 ç»Ÿè®¡ 2.3 R 3 python 4 å¥èº« 1 æˆ‘çš„2016å¹´ ç°åœ¨æƒ³æƒ³ï¼Œå…¶å®æ•´ä¸ª2016å¹´çœŸ","tags":["Blog","Chinese"],"title":"2017å¹´çš„ç¬¬ä¸€ç¯‡åšå®¢","type":"post"},{"authors":null,"categories":["Metabolomics"],"content":"\r\r0.1 Introduction\r0.2 Installation and help\r0.3 Data cleaning\r0.4 Statistical analysis\r\r\r0.1 Introduction\rMetCleaning provides an integrated and automatic pipeline for data cleaning and statistical analysis of large scale mass spectrometry (MS) based-metabolomic data. It includes missing value (MV) filtering and imputation, zero value filtering, data normalization, data integration, data quality assessment, univariate statistical analysis, multivariate statistical analysis such as PCA and PLS-DA, potential marker selection and show. This document describes how to use the integrated functions, MetClean and MetStat in MetCleaning utilizing demo data.\nFigure1 Workflow of MetCleaning\n\r\r0.2 Installation and help\rMetCleaning is published in github (link). So you can install it via to github.\ncode 1: Installation of MetCleaning\n##pcaMethods and impute should be installed form bioconductor\r##pcaMethos\rsource(\u0026quot;http://bioconductor.org/biocLite.R\u0026quot;)\rbiocLite(\u0026quot;pcaMethods\u0026quot;)\r##impute\rsource(\u0026quot;http://bioconductor.org/biocLite.R\u0026quot;)\rbiocLite(\u0026quot;impute\u0026quot;)\rif(!require(devtools)) {\rinstall.packages(\u0026quot;devtools\u0026quot;)\r}\rlibrary(devtools)\rinstall_github(\u0026quot;jaspershen/MetCleaning\u0026quot;)\rlibrary(MetCleaning)\rhelp(package = \u0026quot;MetCleaning\u0026quot;)\r\r0.3 Data cleaning\rData cleaning is integrated as a function named as MetClean in MetCleaning. We use the demo data as the example. Copy the code below and paste in you R console.\ncode 2: Demo data of MetClean\n##demo data\rdata(data, package = \u0026quot;MetCleaning\u0026quot;)\rdata(sample.information, package = \u0026quot;MetCleaning\u0026quot;)\r##demo work directory\rdir.create(\u0026quot;Demo for MetCleaning\u0026quot;)\rsetwd(\u0026quot;Demo for MetCleaning\u0026quot;)\r##write files\rwrite.csv(data, \u0026quot;data.csv\u0026quot;, row.names = FALSE)\rwrite.csv(sample.information , \u0026quot;sample.information.csv\u0026quot;, row.names = FALSE)\rThe demo data have been added in your work directory and organized in you work directory as Figure 2 shows. It contains two files, â€œdata.csvâ€ and â€œsample.information.csvâ€.\r1. â€œdata.csvâ€ is the metabolomic dataset you want to process. Rows are features and columns are feature abundance of samples and information of features. The information of features must contain â€œnameâ€ (feature name), â€œmzâ€ (mass to change ratio) and â€œrtâ€ (retention time). Other information of features are optional, for example â€œisotopesâ€ and â€œadductsâ€. The name of sample can contain â€œ.â€, but cannot contain â€œ-â€ and space. And the start of sample name cannot be number. For example, â€œA210.aâ€ and â€œA210aâ€ are valid, and â€œ210aâ€ or â€œ210-aâ€ are invalid.\r2. â€œsample.information.csvâ€ is sample information for metabolomic dataset. Column 1 is â€œsample.nameâ€ which is the names of subject and QC samples. Please confirm that the sample names in â€œsample.information.csvâ€ and â€œdata.csvâ€ are completely same. Column 2 is â€œinjection.orderâ€ which is the injection order of QC and subject samples. Column 3 is â€œclassâ€, which is used to distinguish â€œQCâ€ and â€œSubjectâ€ samples. Column 4 is â€œbatchâ€ to provide acquisition batch information for samples. Column 5 is â€œgroupâ€, which is used to label the group of subject sample, for example, â€œcontrolâ€ and â€œcaseâ€. The â€œgroupâ€ of QC samples is labeled as â€œQCâ€.\nFigure2 Data organisation of MetCleaning\n\rThen you can run MetClean function to do data cleaning of data. All the arguments of MetClean can be found in the other functions in MetCleaning. You can use help(package = â€œMetCleaningâ€) to see the help page of MetCleaning.\ncode 3: Running of MetClean\n##demo data\rMetClean(polarity = \u0026quot;positive\u0026quot;)\rRunning results of MetClean\r1.Missing or zero values filtering. In the missing or zero value filtering step, if there are samples which beyond the threshold you set, you should decide to filter them or not. We recommend to remove all of them as Figure 3 shows.\nFigure3 Missing or zero value filtering\n\r2.Sample filtering. In the QC or subject sample filtering step (based on PCA), if there are samples which beyond the threshold you set, you should decide to filter them or not. We donâ€™t recommend to remove them as Figure 4 shows, because they should be consired combined other information.\nFigure4 Sample filtering\n\r3.Output files. Output files of MetClean are listed as Figure 5 shows.\r(1) â€œ1MV overviewâ€, â€œ2MV filterâ€, â€œ3Zero overviewâ€ and â€œ4Zero filterâ€ are missing and zero values filtering information.\r(2) â€œ5QC outlier filterâ€ and â€œ6Subject outlier filterâ€ are sample filtering based on PCA information.\r(3) â€œ7Normalization resultâ€ is the data normalization information for each batch.\r(4) â€œ8Batch effectâ€ is the batch effect both in before and after data cleaning.\r(5) â€œ9metabolite plotâ€ is the scatter plot for each feature.\r(6) â€œ10Data overviewâ€ is the overview of data.\r(7) â€œ11RSD overviewâ€ is the RSD distribution for each batch both before and after data cleaning.\r(8) â€œdata_after_pre.csvâ€, â€œqc.info.csvâ€ and â€œsubject.infoâ€ are the data and sample information after data cleaning.\r(9) â€œintermediateâ€ is the intermediate data during processing.\nFigure5 Output files of MetClean\n\r\r0.4 Statistical analysis\rData statistical analysis is integrated as a function named as MetStat in MetCleaning. We use the demo data as the example. Please note that now MetStat can only process two class data. Copy the code below and paste in you R console.\ncode 4: Demo data of MetStat\ndata(\u0026quot;met.data.after.pre\u0026quot;, package = \u0026quot;MetCleaning\u0026quot;)\rdata(new.group, package = \u0026quot;MetCleaning\u0026quot;)\r##create a folder for MetStat demo\rdir.create(\u0026quot;Demo for MetStat\u0026quot;)\rsetwd(\u0026quot;Demo for MetStat\u0026quot;)\r## export the demo data as csv\rwrite.csv(new.group, \u0026quot;new.group.csv\u0026quot;, row.names = FALSE)\rThe demo data have been added in your work directory. â€œnew.group.csvâ€ is a sample.information which has been changed the group information you want to use for statistical analysis. For the sample which you donâ€™t want to use them for statistical analysis, you can set they group information as NA like Figure 6 shows.\nFigure6 new group information\n\rcode 5: Running of MetStat\nMetStat(MetFlowData = met.data.after.pre, new.group = TRUE)\rRunning results of MetStat\r1.Sample removing. Firstly, you need to confirm the samples which you want to remove form dataset as Figure 7 shows.\nFigure7 sample removing confirmation\n\r2.Number of component selection in PLS-DA analysis. In PLS-DA analysis, you should manually select the best choice of the number of component. When the Console show â€œHow many comps do you want to see?â€, you can type 10 and enter â€œEnterâ€ key. Then a MSE plot is showing, and the best number of component is the one has the smallest CV values. So type the number (in this example is 4) and enter â€œEnterâ€ key.\nFigure8 Number of component selection in PLS-DA analysis\n\r3.Output files. Output files of MetStat are listed as Figure 9 shows.\r(1) â€œ12PCA analysisâ€ is the PCA score plot.\r(2) â€œ13PLS analysisâ€ contains the PLS-DA results.\r(3) â€œ14heatmapâ€ is the heatmap.\r(4) â€œ15marker selectionâ€ contains the information of markers, volcano plot and boxplots of markers.\r(5) â€œdata_after_stat.csvâ€, â€œqc.info.csvâ€ and â€œsubject.infoâ€ are the data and sample information after statistical analysis.\r(6) â€œintermediateâ€ is the intermediate data during processing.\nFigure9 Output files of MetStat\n\r\r","date":1480032000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1480032000,"objectID":"6f25c2b530e256aff29fcd552d255c0e","permalink":"/post/2016-11-25-metcleaning/","publishdate":"2016-11-25T00:00:00Z","relpermalink":"/post/2016-11-25-metcleaning/","section":"post","summary":"0.1 Introduction\r0.2 Installation and help\r0.3 Data cleaning\r0.4 Statistical analysis\r\r\r0.1 Introduction\rMetCleaning provides an integrated and automatic pipeline for data cleaning and statistical analysis of large scale mass spectrometry (MS) based-metabolomic data. It includes missing value (MV) filtering and imputation, zero value filtering, data normalization, data integration, data quality assessment, univariate statistical analysis, multivariate statistical analysis such as PCA and PLS-DA, potential marker selection and show.","tags":["Blog","Chinese"],"title":"MetCleaning instruction","type":"post"},{"authors":null,"categories":["Github"],"content":"\r\r0.1 1. Hexoä»‹ç»\r0.2 2. ç¯å¢ƒå‡†å¤‡\r0.2.1 2.1 å®‰è£…node.js\r0.2.2 2.2 å®‰è£…hexo\r\r0.3 3. åˆ©ç”¨Hexoæ­å»ºä¸€ä¸ªåšå®¢\r0.3.1 3.1 åˆ›å»ºåšå®¢ç›®å½•shenxt@github.io\r0.3.2 3.2 ç”Ÿæˆé™æ€é¡µé¢\r0.3.3 3.3 è¿è¡Œ\r\r0.4 4 å‘ä¸€ç¯‡æ–‡ç« è¯•è¯•\r0.4.1 4.1 ç©¿ä»¶ä¸€ä¸ªæ–°çš„åšå®¢\r\r0.5 5 é…ç½®\r0.6 6 æ›´æ¢ä¸»é¢˜\r0.7 7 éƒ¨ç½²åˆ°githubä¸Š\r0.7.1 7.1 åœ¨githubç½‘é¡µç‰ˆä¸Šåˆ›å»ºå’Œè‡ªå·±è´¦æˆ·åç›¸åŒçš„ä»“åº“ï¼Œæ¯”å¦‚æˆ‘çš„è´¦æˆ·ä¸ºshenxtï¼Œå› æ­¤ï¼Œåˆ›å»ºçš„ä»“åº“ä¸ºshenxt.github.ioã€‚\r0.7.2 7.2 å®‰è£…hexo-deployer-git\r0.7.3 7.3 ç½‘ç«™é…ç½®git\r0.7.4 7.4 éƒ¨ç½²\r\r0.8 è´´æ ‡ç­¾ï¼Œæ–¹ä¾¿æœç´¢\r0.8.1 8.1 ä¸¤ä¸ªç¡®è®¤\r0.8.2 8.2 æ–°å»ºtagsé¡µé¢\r0.8.3 8.3 ä¿®æ”¹source/tags/index.md\r0.8.4 8.4 åœ¨æ–‡ç« ä¸­æ·»åŠ tags\r\r0.9 9 åˆ†ç±»ï¼Œç»™æ–‡ç« å½’æ¡£\r0.9.1 9.1 ä¸¤ä¸ªç¡®è®¤\r0.9.2 9.2 æ–°å»ºcategoriesæ–‡ä»¶\r0.9.3 9.3 ä¿®æ”¹categories/index.md\r0.9.4 9.4 åœ¨æ–‡ç« ä¸­æ·»åŠ categories\r\r0.10 10 æ·»åŠ è¯„è®ºåŠŸèƒ½\r\r\rå‚è€ƒäº†ä¸€ç¯‡éå¸¸å¥½çš„æ–‡ç« ï¼Œç„¶åç»“åˆè‡ªå·±çš„å®é™…é—®é¢˜ï¼Œè®²è§£å¦‚ä½•ä½¿ç”¨githubç»“åˆhexoå»ºç«‹ä¸ªäººçš„ç‹¬ç«‹åšå®¢ã€‚\n0.1 1. Hexoä»‹ç»\rHexoæ˜¯åŸºäºNodeJsçš„é™æ€åšå®¢æ¡†æ¶ï¼Œç®€å•ã€è½»é‡ï¼Œå…¶ç”Ÿæˆçš„é™æ€ç½‘é¡µå¯ä»¥æ‰˜ç®¡åœ¨Githubå’ŒHerokuä¸Šã€‚\n. è¶…å¿«é€Ÿåº¦\r. æ”¯æŒMarkDown\r. ä¸€é”®éƒ¨ç½²\r. ä¸°å¯Œçš„æ’ä»¶\nä¸‹é¢ä»¥æˆ‘çš„åšå®¢ä¸ºä¾‹ï¼Œshenxt.github.ioä¸ºä¾‹ï¼Œè®²è§£å¦‚ä½•éƒ¨ç½²è‡ªå·±çš„åšå®¢ã€‚\n\r0.2 2. ç¯å¢ƒå‡†å¤‡\r0.2.1 2.1 å®‰è£…node.js\rå»nodejså®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…ï¼ŒæŒ‰æç¤ºå®‰è£…ã€‚\næ£€éªŒå®‰è£…æˆåŠŸï¼Œåœ¨git shellä¸­è¾“å…¥ä¸€ä¸‹ä»£ç ï¼š\n$ node -v\r\r0.2.2 2.2 å®‰è£…hexo\r$ npm install hexo-cli -g\rå¦‚æœæ˜¯macï¼Œåˆ™éœ€è¦è¾“å…¥ï¼š\n$ sudo npm install hexo-cli -g\r\r\r0.3 3. åˆ©ç”¨Hexoæ­å»ºä¸€ä¸ªåšå®¢\r0.3.1 3.1 åˆ›å»ºåšå®¢ç›®å½•shenxt@github.io\r$ hexo init shenxt.github.io\r$ cd limedroid.github.io\r$ npm install\r\r0.3.2 3.2 ç”Ÿæˆé™æ€é¡µé¢\r$ hexo clean\r$ hexo g # g is generate\r\r0.3.3 3.3 è¿è¡Œ\r$ hexo s -p3600# is server\rç„¶åå¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ localhost:3600 å³å¯çœ‹åˆ°æ•ˆæœã€‚\n\r\r0.4 4 å‘ä¸€ç¯‡æ–‡ç« è¯•è¯•\r0.4.1 4.1 ç©¿ä»¶ä¸€ä¸ªæ–°çš„åšå®¢\r$ hexo new test\ræ­¤æ—¶ä¼šåœ¨source/postsç›®å½•ä¸‹ç”Ÿæˆtest.mdæ–‡ä»¶ï¼Œè¾“å…¥ä¸€äº›å†…å®¹ï¼Œç„¶åä¿å­˜ã€‚\nç„¶åçœ‹ä¸€ä¸‹æ•ˆæœ:\n$ hexo clean\r$ hexo g\r$ hexo s -p3600# is server\rç„¶åå¯ä»¥æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ localhost:3600 å³å¯çœ‹åˆ°æ•ˆæœã€‚\n\r\r0.5 5 é…ç½®\rç½‘ç«™çš„è®¾ç½®å¤§éƒ¨åˆ†éƒ½åœ¨_config.ymlæ–‡ä»¶å¤¹ä¸­ï¼Œè¯¦ç»†é…ç½®å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚\nä¸‹é¢åªåˆ—å‡ºç®€å•å¸¸ç”¨é…ç½®:\n.title -\u0026gt; ç½‘ç«™æ ‡é¢˜\r.subtitle -\u0026gt; ç½‘ç«™å‰¯æ ‡é¢˜\r.description -\u0026gt; ç½‘ç«™æè¿°\r.author -\u0026gt; æ‚¨çš„åå­—\r.language -\u0026gt; ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€\næ³¨æ„ï¼šè¿›è¡Œé…ç½®æ—¶ï¼Œéœ€è¦åœ¨å†’å·:ååŠ ä¸€ä¸ªè‹±æ–‡ç©ºæ ¼ã€‚\n\r0.6 6 æ›´æ¢ä¸»é¢˜\råœ¨ç½‘ç«™é…ç½®æ–‡ä»¶_config.ymlä¸­ï¼Œé…ç½®themeã€‚\ntheme: next\rnextæ˜¯ä¸»é¢˜çš„åå­—ã€‚Hexoæœ‰ä¸åŒçš„äººè´¡çŒ®ä¸»é¢˜ï¼Œå¯ä»¥åˆ°å…¶å®˜æ–¹ç½‘ç«™ä¸Šä¸‹è½½ä¸åŒä¸»é¢˜ã€‚çœ‹ä¸­æŸä¸€ä¸»é¢˜ä¹‹åï¼Œç›´æ¥ç‚¹å‡»å…¶åå­—ï¼Œè¿›å…¥åˆ°å…¶githubç•Œé¢ï¼Œç„¶åå¤åˆ¶å…¶ç½‘å€ï¼Œä½¿ç”¨ä¸‹é¢ä»£ç ï¼Œå³å¯ä¸‹è½½ä¸»é¢˜åˆ°æœ¬åœ°ã€‚\ngit clone https://github.com/fi3ework/hexo-theme-archer\rç„¶åå°†åšå®¢çš„é…ç½®æ–‡ä»¶themeä¿®æ”¹ä¸ºarcherå³å¯ã€‚\nè§‚å¯Ÿæ•ˆæœï¼š\n$ hexo clean\r$ hexo g\r$ hexo s -p3600# is server\r\r0.7 7 éƒ¨ç½²åˆ°githubä¸Š\r0.7.1 7.1 åœ¨githubç½‘é¡µç‰ˆä¸Šåˆ›å»ºå’Œè‡ªå·±è´¦æˆ·åç›¸åŒçš„ä»“åº“ï¼Œæ¯”å¦‚æˆ‘çš„è´¦æˆ·ä¸ºshenxtï¼Œå› æ­¤ï¼Œåˆ›å»ºçš„ä»“åº“ä¸ºshenxt.github.ioã€‚\r\r0.7.2 7.2 å®‰è£…hexo-deployer-git\r$ npm install hexo-deployer-git --save\r\r0.7.3 7.3 ç½‘ç«™é…ç½®git\råœ¨ç½‘ä¸Šçš„é…ç½®æ–‡ä»¶_config.ymlä¸­é…ç½®deployã€‚\n type: git\rrepo: https://github.com/shenxt/shenxt.github.io\rbranch: master\r\r0.7.4 7.4 éƒ¨ç½²\r$ hexo d# d is deploy\r\r\r0.8 è´´æ ‡ç­¾ï¼Œæ–¹ä¾¿æœç´¢\r0.8.1 8.1 ä¸¤ä¸ªç¡®è®¤\r. é¦–å…ˆç¡®è®¤åšå®¢çš„é…ç½®æ–‡ä»¶ä¸­æœ‰ï¼š\ntag_dir: tags\r. ç„¶åç¡®è®¤ä¸»é¢˜çš„é…ç½®æ–‡ä»¶æœ‰ï¼š\ntags: tags\r\r0.8.2 8.2 æ–°å»ºtagsé¡µé¢\r$ hexo new page tags\ræ­¤æ—¶ä¼šåœ¨source/ä¸‹ç”Ÿæˆtags/index.mdæ–‡ä»¶ã€‚\n\r0.8.3 8.3 ä¿®æ”¹source/tags/index.md\rtitle: tags\rdate: 2015-10-20 06:49:50\rtype: \u0026quot;tags\u0026quot;\rcomments: false\r\r0.8.4 8.4 åœ¨æ–‡ç« ä¸­æ·»åŠ tags\råœ¨ä½ çš„æ–‡ç« ä¸­æ·»åŠ ï¼š\ntags:\r- Tag1\r- Tag2\r- Tag3\rå…¶æ–‡ä»¶å¤´éƒ¨ç±»ä¼¼äºï¼š\ntitle: TagEditText\rdate: 2016-11-19 10:44:25\rtags:\r- Tag1\r- Tag2\r- Tag3\r\r\r0.9 9 åˆ†ç±»ï¼Œç»™æ–‡ç« å½’æ¡£\r0.9.1 9.1 ä¸¤ä¸ªç¡®è®¤\r. ç¡®è®¤åšå®¢é…ç½®æ–‡ä»¶æ‰“å¼€äº†\ncategory_dir: categories\r. ç¡®è®¤ä¸»é¢˜é…ç½®æ–‡ä»¶æ‰“å¼€äº†\ncategories: /categories\r\r0.9.2 9.2 æ–°å»ºcategoriesæ–‡ä»¶\rhexo new page categories\r\r0.9.3 9.3 ä¿®æ”¹categories/index.md\rtitle: categories\rdate: 2015-10-20 06:49:50\rtype: \u0026quot;categories\u0026quot;\rcomments: false\r\r0.9.4 9.4 åœ¨æ–‡ç« ä¸­æ·»åŠ categories\råœ¨æ–‡ç« ä¸­æ·»åŠ ï¼š\ncategories:\r- cate\rå…¶æ–‡ä»¶å¤´éƒ¨ç±»ä¼¼ï¼š\ntitle: TagEditText\rdate: 2016-11-19 10:44:25\rcategories:\r- cate\r\r\r0.10 10 æ·»åŠ è¯„è®ºåŠŸèƒ½\rè¿™é‡Œæ¨èä½¿ç”¨éŸ©å›½çš„æ¥å¿…åŠ›ç³»ç»Ÿã€‚å‚è€ƒè¿™ä¸ªåšå®¢è¿›è¡Œè®¾ç½®ã€‚\n\r","date":1480032000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1480032000,"objectID":"8804108169375f44a74bcbc628273a92","permalink":"/post/2017-09-09-github-blog/","publishdate":"2016-11-25T00:00:00Z","relpermalink":"/post/2017-09-09-github-blog/","section":"post","summary":"0.1 1. Hexoä»‹ç» 0.2 2. ç¯å¢ƒå‡†å¤‡ 0.2.1 2.1 å®‰è£…node.js 0.2.2 2.2 å®‰è£…hexo 0.3 3. åˆ©ç”¨Hexoæ­å»ºä¸€ä¸ªåšå®¢ 0.3.1 3.1 åˆ›å»ºåšå®¢ç›®å½•shenxt@github.i","tags":["Blog","Chinese"],"title":"ä½¿ç”¨Githubå’ŒHexoå»ºç‹¬ç«‹åšå®¢","type":"post"},{"authors":null,"categories":["R"],"content":"\r\r0.1 Rè¯­è¨€çˆ¬è™«\r0.2 çˆ¬å–KEGGé€šè·¯ä¿¡æ¯\r0.3 çˆ¬å–HMDBé€šè·¯ä¿¡æ¯\r0.4 çˆ¬å–HMDBä»£è°¢ç‰©ä¿¡æ¯\r\r\r0.1 Rè¯­è¨€çˆ¬è™«\rè™½ç„¶ç›¸å¯¹äºpythonæ¥è¯´ï¼ŒRè¯­è¨€çˆ¬è™«å¹¶ä¸æ˜¯é‚£ä¹ˆæµè¡Œï¼Œä½†æ˜¯å¯¹äºæ¯”è¾ƒå°çš„æ•°æ®çˆ¬å–é‡ï¼Œä½¿ç”¨Rè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ã€‚Rçš„æ•°æ®çˆ¬å–æ¯”è¾ƒæµè¡Œçš„æ˜¯åˆ©ç”¨XMLå’ŒRCurlåŒ…è¿›è¡Œçˆ¬å–ï¼Œåœ¨è¿™ç¯‡åšå®¢é‡Œé¢ï¼Œæˆ‘å°±åˆ©ç”¨XMLå’ŒRCurlåŒ…è¿›è¡ŒKEGGå’ŒHMDBçš„æ•°æ®çˆ¬å–ã€‚\n\r0.2 çˆ¬å–KEGGé€šè·¯ä¿¡æ¯\rå› ä¸ºæˆ‘éœ€è¦çš„ä¿¡æ¯æ˜¯KEGGçš„é€šè·¯ä¿¡æ¯ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªé€šè·¯åŒ…å«å“ªäº›ä»£è°¢ç‰©ï¼Œåªè¦äººçš„metaboloic pathwayï¼Œå› æ­¤ï¼Œæˆ‘éœ€è¦å…ˆå°†KEGGä¸­çš„é€šè·¯çš„ç½‘é¡µé“¾æ¥æ‹¿åˆ°ã€‚\nlibrary(XML)\rlibrary(RCurl)\r##ä»keggä¸»é¡µä¸ŠæŠ“å–ä»£è°¢é€šè·¯çš„url\rURL = getURL(\u0026quot;http://www.genome.jp/kegg/pathway.html#global\u0026quot;)\rdoc \u0026lt;- htmlParse(URL,encoding=\u0026quot;utf-8\u0026quot;)\rxpath.a \u0026lt;- \u0026quot;//a/@href\u0026quot;\rnode \u0026lt;- getNodeSet(doc, xpath.a)\rurl1 \u0026lt;- sapply(node, as.character)\rxpath.b \u0026lt;- \u0026quot;//a[@href]\u0026quot;\rname \u0026lt;- getNodeSet(doc, xpath.b)\rname \u0026lt;- sapply(name, xmlValue)\rname2 \u0026lt;- name[59:247]\rurl2 \u0026lt;- url1[59:247]\rurl3 \u0026lt;- url2[grep(\u0026quot;show\u0026quot;, url2)]\rpathwat.name \u0026lt;- NULL\rmetabolite.id \u0026lt;- list()\rmetabolite.name \u0026lt;- list()\rfor (i in 1:length(url3)) {\rcat(paste(i,\u0026quot;/\u0026quot;,length(url3)))\rcat(\u0026quot;\\n\u0026quot;)\rURL \u0026lt;- paste(\u0026quot;http://www.genome.jp\u0026quot;, url3[i], sep = \u0026quot;\u0026quot;)\rURL = getURL(URL)\rdoc\u0026lt;-htmlParse(URL,encoding=\u0026quot;utf-8\u0026quot;)\rxpath \u0026lt;- \u0026quot;//option[@value=\u0026#39;hsa\u0026#39;]\u0026quot;\rnode\u0026lt;-getNodeSet(doc, xpath)\rif (length(node) ==0 ) {\rcat(\u0026quot;No human pathwat.\u0026quot;)\rnext()\r}else{\rURL \u0026lt;- paste(\u0026quot;http://www.genome.jp\u0026quot;, url3[i], sep = \u0026quot;\u0026quot;)\rURL \u0026lt;- gsub(pattern = \u0026quot;map=map\u0026quot;, replacement = \u0026quot;map=hsa\u0026quot;, x = URL)\rdoc\u0026lt;-htmlParse(URL,encoding=\u0026quot;utf-8\u0026quot;)\rxpath1 \u0026lt;- \u0026quot;//title\u0026quot;\rnode\u0026lt;-getNodeSet(doc, xpath1)\rpathway.name[i] \u0026lt;- xmlValue(node[[1]])\rpathway.name[i] \u0026lt;- substr(pathway.name[i], start = 2, stop = nchar(pathway.name[i])-1)\rxpath2 \u0026lt;- \u0026quot;//area[@shape=\u0026#39;circle\u0026#39;]/@title\u0026quot;\rnode\u0026lt;-getNodeSet(doc, xpath2)\rmetabolite \u0026lt;- lapply(node, function(x) as.character(x))\rmetabolite.name[[i]] \u0026lt;- substr(metabolite, start = 9, nchar(metabolite)-1)\rmetabolite.id[[i]] \u0026lt;- substr(metabolite, start = 1, stop = 6)\r}\r}\rä¸‹é¢å¯¹çˆ¬å–åˆ°çš„ä»£è°¢é€šè·¯è¿›è¡Œç­›é€‰ã€‚\nidx \u0026lt;- which(!is.na(pathway.name))\rpathway.name1 \u0026lt;- pathway.name[idx]\rmetabolite.id1 \u0026lt;- metabolite.id[idx]\rmetabolite.name1 \u0026lt;- metabolite.name[idx]\rpathway.name2 \u0026lt;- pathway.name1[-c(83,84)]\rmetabolite.id2 \u0026lt;- metabolite.id1[-c(83,84)]\rmetabolite.name2 \u0026lt;- metabolite.name1[-c(83,84)]\rå°†çˆ¬å–åˆ°çš„ä¿¡æ¯ä¿å­˜è¾“å‡ºã€‚\nmet.name \u0026lt;- NULL\rmet.id \u0026lt;- NULL\rpath.name \u0026lt;- NULL\rfor(i in 1:length(pathway.name2)) {\rmet.name[i] \u0026lt;- paste(metabolite.name2[[i]], collapse = \u0026quot;;\u0026quot;)\rmet.id[i] \u0026lt;- paste(metabolite.id2[[i]], collapse = \u0026quot;;\u0026quot;)\rpath.name[i] \u0026lt;- gsub(pattern = \u0026quot;KEGG PATHWAY: \u0026quot;, \u0026quot;\u0026quot;, pathway.name2[i])\rpath.name[i] \u0026lt;- substr(path.name[i], start = 1, stop = nchar(path.name[i])-23)\r}\rkegg \u0026lt;- data.frame(path.name, met.name, met.id)\rwrite.csv(kegg, \u0026quot;kegg.csv\u0026quot;, row.names = F)\rsave(path.name, file = \u0026quot;path.name\u0026quot;)\rsave(met.name, file = \u0026quot;met.name\u0026quot;)\rsave(met.id, file = \u0026quot;met.id\u0026quot;)\rkegg.met \u0026lt;- list()\rkegg.met[[2]] \u0026lt;- sapply(path.name, list)\rkegg.met[[1]] \u0026lt;- metabolite.name2\rkegg.met[[3]] \u0026lt;- metabolite.id2\rnames(kegg.met) \u0026lt;- c(\u0026quot;gs\u0026quot;, \u0026quot;pathwaynames\u0026quot;, \u0026quot;metid\u0026quot;)\rsave(kegg.met, file = \u0026quot;kegg.met\u0026quot;)\r\r0.3 çˆ¬å–HMDBé€šè·¯ä¿¡æ¯\ré¦–å…ˆçˆ¬å–HMDBçš„é€šè·¯ä¿¡æ¯ã€‚\n##æŠ“å–HMDBé€šè·¯ä¿¡æ¯\rlibrary(XML)\rlibrary(RCurl)\rhmdb.main \u0026lt;- \u0026quot;http://www.hmdb.ca/pathways?page=\u0026quot;\rhmdb.main \u0026lt;- paste(hmdb.main, c(2:46), sep = \u0026quot;\u0026quot;)\rhmdb.main \u0026lt;- c(\u0026quot;http://www.hmdb.ca/pathways\u0026quot;, hmdb.main)\r##ä»HMDBä¸»é¡µä¸ŠæŠ“å–ä»£è°¢é€šè·¯çš„url\rpath.name \u0026lt;- list()\rmetabolite.id \u0026lt;- list()\rspec \u0026lt;- list()\rpath.class \u0026lt;- list()\rfor (i in 40:length(hmdb.main)) {\rcat(paste(\u0026quot;page\u0026quot;,i))\rcat(\u0026quot;:\u0026quot;)\rURL = getURL(hmdb.main[i])\rdoc\u0026lt;-htmlParse(URL,encoding=\u0026quot;utf-8\u0026quot;)\rxpath1 \u0026lt;- \u0026quot;//div[@class=\u0026#39;panel-heading\u0026#39;]\u0026quot;\rnode1 \u0026lt;- getNodeSet(doc, xpath1)\rpathway.name \u0026lt;- sapply(node1, xmlValue)\rcat(paste(length(pathway.name), \u0026quot;pathways\u0026quot;))\rcat(\u0026quot;\\n\u0026quot;)\rpath.name[[i]] \u0026lt;- pathway.name\rxpath2 \u0026lt;- \u0026quot;//div[@class=\u0026#39;panel-body\u0026#39;]\u0026quot;\rnode2 \u0026lt;- getNodeSet(doc, xpath2)\rmetabolite \u0026lt;- sapply(node2, xmlValue)\rmetabolite \u0026lt;- unname(sapply(metabolite, function(x) {gsub(\u0026quot;Show\u0026quot;, \u0026quot; \u0026quot;, x)}))\ridx \u0026lt;- sapply(metabolite, function(x) {gregexpr(\u0026quot;HMDB[0-9]{5}\u0026quot;, x)})\rmet.id \u0026lt;- list()\rfor (j in 1:length(idx)) {\rid \u0026lt;- NULL\rfor (k in 1:length(idx[[j]])) {\rid[k] \u0026lt;- substr(metabolite[j], idx[[j]][k], idx[[j]][k]+8)\r}\rmet.id[[j]] \u0026lt;- id\r}\rmetabolite.id[[i]] \u0026lt;- met.id\rxpath.a \u0026lt;- \u0026quot;//a[@class=\u0026#39;link-out\u0026#39;]/@href\u0026quot;\rnode\u0026lt;-getNodeSet(doc, xpath.a)\rurl1 \u0026lt;- sapply(node, as.character)\rurl1 \u0026lt;- substr(url1, start = 1, stop = 29)\rurl1 \u0026lt;- url1[!duplicated(url1)]\r###è·å–é€šè·¯çš„äººç§å’Œç±»åˆ«\rspecies \u0026lt;- NULL\rmetabolic \u0026lt;- NULL\rfor (t in 1:length(url1)) {\rcat(paste(\u0026quot;t:\u0026quot;,t));cat(\u0026quot; \u0026quot;)\rURL = getURL(url1[t])\rdoc \u0026lt;- htmlParse(URL,encoding=\u0026quot;utf-8\u0026quot;)\rxpath \u0026lt;- \u0026quot;//div[@class=\u0026#39;species\u0026#39;]/text()\u0026quot;\rnode \u0026lt;- getNodeSet(doc, xpath)\rspecies[t] \u0026lt;- xmlValue(node[[1]])\rxpath \u0026lt;- \u0026quot;//div[@id=\u0026#39;des_subject\u0026#39;]/text()\u0026quot;\rnode \u0026lt;- getNodeSet(doc, xpath)\rmetabolic[t] \u0026lt;- xmlValue(node[[1]])\r}\rspec[[i]] \u0026lt;- species\rpath.class[[i]] \u0026lt;- metabolic\r}\rå¯¹çˆ¬å–åˆ°çš„ä»£è°¢é€šè·¯è¿›è¡Œç­›é€‰ã€‚\nsave(path.name, file = \u0026quot;path.name\u0026quot;)\rsave(metabolite.id, file = \u0026quot;metabolite.id\u0026quot;)\rsave(spec, file = \u0026quot;spec\u0026quot;)\rsave(path.class, file = \u0026quot;path.class\u0026quot;)\rpathway.name \u0026lt;- NULL\rmetabolite.ID \u0026lt;- list()\rspecies \u0026lt;- NULL\rpathway.class \u0026lt;- NULL\rfor (i in 1:length(path.name)) {\rpathway.name \u0026lt;- c(pathway.name, path.name[[i]])\rmetabolite.ID \u0026lt;- c(metabolite.ID, metabolite.id[[i]])\rspecies \u0026lt;- c(species, spec[[i]])\rpathway.class \u0026lt;- c(pathway.class, path.class[[i]])\r}\rpathway.class \u0026lt;- substr(x = pathway.class, 1, regexpr(\u0026quot;\\\\\\n\u0026quot;, pathway.class)-1)\rmetabolite.name \u0026lt;- list()\rfor (i in 1:length(metabolite.ID)) {\rid \u0026lt;- metabolite.ID[[i]]\ridx \u0026lt;- match(id, hmdbdatabase[,1])\rname \u0026lt;- hmdbdatabase[idx,2]\rmetabolite.name[[i]] \u0026lt;- name\r}\ra \u0026lt;- unlist(lapply(metabolite.name, function(x) {paste(x, collapse = \u0026quot;;\u0026quot;)}))\rb \u0026lt;- unlist(lapply(metabolite.ID, function(x) {paste(x, collapse = \u0026quot;;\u0026quot;)}))\ridx \u0026lt;- grep(\u0026quot;Metabolic\u0026quot;, pathway.class)\rmetabolite.name \u0026lt;- metabolite.name[idx]\rmetabolite.ID \u0026lt;- metabolite.ID[idx]\rpathway.name \u0026lt;- pathway.name[idx]\rpathway.class \u0026lt;- pathway.class[idx]\rspecies \u0026lt;- species[idx]\rhmdb.pathway \u0026lt;- data.frame(pathway.name, pathway.class,a, b)[idx,]\rwrite.csv(hmdb.pathway, \u0026quot;hmdb.pathway.csv\u0026quot;)\ra \u0026lt;- list()\rfor (i in 1:length(pathway.name)) {\ra[[i]] \u0026lt;- pathway.name[i]\r}\rpathway.name \u0026lt;- a\rhmdb.met \u0026lt;- list(gs = metabolite.name, pathwaynames = pathway.name, id = metabolite.ID)\rsave(hmdb.met, file = \u0026quot;hmdb.met\u0026quot;)\r\r0.4 çˆ¬å–HMDBä»£è°¢ç‰©ä¿¡æ¯\ré¦–å…ˆï¼Œè·å¾—æ‰€æœ‰ä»£è°¢ç‰©çš„é¡µé¢é“¾æ¥ã€‚\n###æŠ“å–HMDBä»£è°¢ç‰©ä¿¡æ¯\rlibrary(XML)\rlibrary(RCurl)\rhmdb.main \u0026lt;- \u0026quot;http://www.hmdb.ca/metabolites?c=hmdb_id\u0026amp;d=up\u0026amp;page=\u0026quot;\rhmdb.main \u0026lt;- paste(hmdb.main, c(2:1681), sep = \u0026quot;\u0026quot;)\rhmdb.main \u0026lt;- c(\u0026quot;http://www.hmdb.ca/metabolites\u0026quot;, hmdb.main)\r##ä»HMDBä¸»é¡µä¸ŠæŠ“å–ä»£è°¢ç‰©çš„url\rurl \u0026lt;- NULL\rfor (i in 1:length(hmdb.main)) {\rcat(i)\rcat(\u0026quot; \u0026quot;)\rURL = getURL(hmdb.main[i])\rdoc\u0026lt;-htmlParse(URL,encoding=\u0026quot;utf-8\u0026quot;)\rxpath \u0026lt;- \u0026quot;//a[@href]/@href\u0026quot;\rnode\u0026lt;-getNodeSet(doc, xpath)\rurl1 \u0026lt;- sapply(node, as.character)\rurl1 \u0026lt;- url1[grep(\u0026quot;metabolites/HMDB\u0026quot;, url1)]\rurl1 \u0026lt;- unique(url1)\rurl \u0026lt;- c(url, url1)\r}\rurl1 \u0026lt;- paste(\u0026quot;http://www.hmdb.ca/\u0026quot;,url, sep = \u0026quot;\u0026quot;)\rsave(url1, file = \u0026quot;url1\u0026quot;)\rä¸‹é¢å¼€å§‹è¿›è¡Œä»£è°¢ç‰©ä¿¡æ¯çˆ¬å–ã€‚\nlibrary(mailR)\rfor (i in 1:400) {\rcat(paste((i-1)*100+1,\u0026quot;-\u0026quot;,i*100,\u0026quot;/\u0026quot;, length(url1), sep = \u0026quot;\u0026quot;))\rcat(\u0026quot;\\n\u0026quot;)\rURL \u0026lt;- getURL(url1[((i-1)*100+1):(i*100)])\rdoc \u0026lt;- htmlParse(URL, encoding=\u0026quot;utf-8\u0026quot;)\rxpath1 \u0026lt;- \u0026quot;//tr\u0026quot;\rnode1 \u0026lt;- getNodeSet(doc, xpath1)\rnode1 \u0026lt;- sapply(node1, xmlValue)\rHMDB_ID[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(pattern = \u0026quot;HMDB ID\u0026quot;, replacement = \u0026quot;\u0026quot;,node1[grep(\u0026quot;HMDB ID\u0026quot;, node1)])\rCommon_Name[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(\u0026quot;Common Name\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;Common Name\u0026quot;, node1)])\rtemp \u0026lt;- gsub(\u0026quot;SynonymsValueSource\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;Synonyms\u0026quot;, node1)])\rtemp \u0026lt;- gsub(\u0026quot;Generator\u0026quot;, \u0026quot;;\u0026quot;,temp)\rtemp \u0026lt;- gsub(\u0026quot;ChEMBL\u0026quot;, \u0026quot;;\u0026quot;,temp)\rtemp \u0026lt;- gsub(\u0026quot;ChEBI\u0026quot;, \u0026quot;;\u0026quot;,temp)\rSynonyms[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(\u0026quot;HMDB\u0026quot;, \u0026quot;;\u0026quot;,temp)\rChemical_Formula[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(\u0026quot;Chemical Formula\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;Chemical Formula\u0026quot;, node1)])\rMonoisotopic_Molecular_Weight[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(\u0026quot;Monoisotopic Molecular Weight\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;Monoisotopic Molecular Weight\u0026quot;, node1)])\rIUPAC_Name[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(\u0026quot;IUPAC Name\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;IUPAC Name\u0026quot;, node1)])\rTraditional_Name[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(\u0026quot;Traditional Name\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;Traditional Name\u0026quot;, node1)])\rCAS_Registry_Number[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(\u0026quot;CAS Registry Number\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;CAS Registry Number\u0026quot;, node1)])\rOrigin[((i-1)*100+1):(i*100)] \u0026lt;-\rgsub(\u0026quot;Origin\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;Origin\u0026quot;, node1)])\rpath \u0026lt;- gsub(\u0026quot;PathwaysNameSMPDB LinkKEGG Link\u0026quot;, \u0026quot;\u0026quot;,node1[grep(\u0026quot;Pathways\u0026quot;, node1)])\rPathways[((i-1)*100+1):(i*100)] \u0026lt;-\rsubstr(path, 1, stop = regexpr(\u0026quot;SMP\u0026quot;, path)-1)\r##æ¯100æ¬¡ä¿å­˜ä¸€æ¬¡\rif (i*100 %in% seq(100, 60000, by = 100)) {\rcat(\u0026quot;save data...\\n\u0026quot;)\rsave(HMDB_ID,\rCommon_Name,\rSynonyms,\rChemical_Formula,\rMonoisotopic_Molecular_Weight,\rIUPAC_Name,\rTraditional_Name,\rCAS_Registry_Number,\rOrigin,\rPathways,\rfile = paste(\u0026quot;hmdb.data\u0026quot;,i*100))\rsend.mail(from = \u0026quot;yourmail1@163.com\u0026quot;,\rto = c(\u0026quot;youmail20@163.com\u0026quot;),\rsubject = paste(\u0026quot;WZZ GO ON:\u0026quot;, i),\rbody = paste(\u0026quot;WZZ still go on\u0026quot;, i),\rsmtp = list(host.name = \u0026quot;smtp.163.com\u0026quot;, port = 465, user.name = \u0026quot;yourmail1\u0026quot;, passwd = \u0026quot;passward\u0026quot;, ssl = TRUE),\rauthenticate = TRUE,\rsend = TRUE)\r}\r}\r\rå› ä¸ºä»£è°¢ç‰©ä¿¡æ¯æ¯”è¾ƒå¤§ï¼Œå¯èƒ½éœ€è¦ä¸€æ™šä¸Šï¼Œå› æ­¤æƒ³åˆ°äº†æ²¡çˆ¬å–100ä¸ªï¼Œå°±ç»™è‡ªå·±å‘ä¸€å°é‚®ä»¶ï¼Œæ¥å¯¹ç¨‹åºè¿›è¡Œç›‘æ§ã€‚\nå†™çš„æ¯”è¾ƒç²—ç³™ï¼Œæœ‰æ—¶é—´å†å¥½å¥½ä¿®æ”¹ä¸€ä¸‹ã€‚\n\r","date":1480032000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1480032000,"objectID":"2d58ce9c549e0b24e12bdd0353281da1","permalink":"/post/2016-12-03-keggandhmdb/","publishdate":"2016-11-25T00:00:00Z","relpermalink":"/post/2016-12-03-keggandhmdb/","section":"post","summary":"0.1 Rè¯­è¨€çˆ¬è™« 0.2 çˆ¬å–KEGGé€šè·¯ä¿¡æ¯ 0.3 çˆ¬å–HMDBé€šè·¯ä¿¡æ¯ 0.4 çˆ¬å–HMDBä»£è°¢ç‰©ä¿¡æ¯ 0.1 Rè¯­è¨€çˆ¬è™« è™½ç„¶ç›¸å¯¹äºpythonæ¥è¯´ï¼ŒRè¯­è¨€çˆ¬è™«å¹¶ä¸æ˜¯é‚£ä¹ˆ","tags":["Blog","Chinese"],"title":"ä½¿ç”¨Rçˆ¬å–HMDBå’ŒKEGGæ•°æ®åº“","type":"post"},{"authors":null,"categories":["Github"],"content":"\r\r1 æˆ‘çš„åšå®¢\r\r\r1 æˆ‘çš„åšå®¢\ræˆ‘çš„åšå®¢ä½¿ç”¨markdownç¼–å†™ï¼Œä½¿ç”¨çš„ç¼–è¾‘å™¨æ˜¯ATOMï¼Œä½¿ç”¨èµ·æ¥è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ä»¥åæœ‰æ—¶é—´ï¼Œå°±ç”¨åšå®¢æ¥è®°å½•æˆ‘çš„å­¦ä¹ ï¼Œç”Ÿæ´»å’Œå·¥ä½œã€‚\nç”³ç¥–æ¶›äºä¸Šæµ·\n2016å¹´11æœˆ25æ—¥æ™š8ç‚¹ååˆ†\n\r","date":1480032000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1480032000,"objectID":"8cfdabf7446416167464cc85b27351ba","permalink":"/post/2016-11-25-first-blog/","publishdate":"2016-11-25T00:00:00Z","relpermalink":"/post/2016-11-25-first-blog/","section":"post","summary":"1 æˆ‘çš„åšå®¢ 1 æˆ‘çš„åšå®¢ æˆ‘çš„åšå®¢ä½¿ç”¨markdownç¼–å†™ï¼Œä½¿ç”¨çš„ç¼–è¾‘å™¨æ˜¯ATOMï¼Œä½¿ç”¨èµ·æ¥è¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ä»¥åæœ‰æ—¶é—´ï¼Œå°±ç”¨åšå®¢æ¥è®°å½•æˆ‘çš„å­¦ä¹ ï¼Œç”Ÿ","tags":["Blog","Chinese"],"title":"æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢","type":"post"},{"authors":["Zhiwei Zhou","Xiaotao Shen PhD","Others","Zheng-Jiang Zhu"],"categories":null,"content":"","date":1477180800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1477180800,"objectID":"5266545b46548c81b97dbc477772e47f","permalink":"/publication/journal-article/metccs/","publishdate":"2016-10-23T00:00:00Z","relpermalink":"/publication/journal-article/metccs/","section":"publication","summary":"The use of collision cross-section (CCS) values derived from ion mobilityâ€“mass spectrometry (IMâ€“MS) has been proven to facilitate lipid identifications. Its utility is restricted by the limited availability of CCS values. Recently, the machine-learning algorithm-based prediction (e.g., MetCCS) is reported to generate CCS values in a large-scale. However, the prediction precision is not sufficient to differentiate lipids due to their high structural similarities and subtle differences on CCS values. To address this challenge, we developed a new approach, namely, LipidCCS, to precisely predict lipid CCS values.","tags":["Metabolomics","Data processing","Software"],"title":"Large-Scale Prediction of Collision Cross-Section Values for Metabolites in Ion Mobility-Mass Spectrometry","type":"publication"},{"authors":[],"categories":null,"content":" Click on the Slides button above to view the built-in slides feature.   Slides can be added in a few ways:\n Create slides using Academic\u0026rsquo;s Slides feature and link using slides parameter in the front matter of the talk file Upload an existing slide deck to static/ and link using url_slides parameter in the front matter of the talk file Embed your slides (e.g. Google Slides) or presentation video on this page using shortcodes.  Further talk details can easily be added to this page using Markdown and $\\rm \\LaTeX$ math code.\n","date":1469192400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1469192400,"objectID":"d77bf136c5f2450d9150636396cbf599","permalink":"/talk/2016texas/","publishdate":"2016-07-22T00:00:00Z","relpermalink":"/talk/2016texas/","section":"talk","summary":"Normalization and Integration of Large-Scale Mass Spectrometry-based Metabolomics Data Using Support Vector Regression","tags":[],"title":"Normalization and Integration of Large-Scale Mass Spectrometry-based Metabolomics Data Using Support Vector Regression","type":"talk"},{"authors":null,"categories":null,"content":"MetDNA characterizes initial seed metabolites using a small tandem spectral library, and utilize their experimental MS2 spectra as surrogate spectra to annotate their reaction-paired neighbor metabolites which are subsequently served as the basis for recursive analysis.\n","date":1461715200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461715200,"objectID":"18513779dc9fd15c06d9e07f9e441e13","permalink":"/project/metdna-project/","publishdate":"2016-04-27T00:00:00Z","relpermalink":"/project/metdna-project/","section":"project","summary":"Metabololite identification and dysregulated network analysis.","tags":["Metabolomics"],"title":"MetDNA","type":"project"},{"authors":null,"categories":null,"content":"We developed an interactive web server, namely, MetFlow, to provide an integrated and comprehensive workflow for metabolomics data cleaning and differential metabolite discovery.\n","date":1461715200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461715200,"objectID":"42b72e49ed0a0bb4debb9632d105a4e5","permalink":"/project/metflow-project/","publishdate":"2016-04-27T00:00:00Z","relpermalink":"/project/metflow-project/","section":"project","summary":"Web Server for Metabolomics Data Cleaning and Differential Metabolite Discovery","tags":["Metabolomics"],"title":"MetFlow","type":"project"},{"authors":["Xiaotao Shen PhD"],"categories":[],"content":" Create a free website with Academic using Markdown, Jupyter, or RStudio. Choose a beautiful color theme and build anything with the Page Builder - over 40 widgets, themes, and language packs included!\nCheck out the latest demo of what you\u0026rsquo;ll get in less than 10 minutes, or view the showcase of personal, project, and business sites.\n Setup Academic Get Started View the documentation Ask a question Request a feature or report a bug Updating? View the Update Guide and Release Notes Support development of Academic:  Donate a coffee Become a backer on Patreon Decorate your laptop or journal with an Academic sticker Wear the T-shirt   \nKey features:\n Page builder - Create anything with widgets and elements Edit any type of content - Blog posts, publications, talks, slides, projects, and more! Create content in Markdown, Jupyter, or RStudio Plugin System - Fully customizable color and font themes Display Code and Math - Code highlighting and LaTeX math supported Integrations - Google Analytics, Disqus commenting, Maps, Contact Forms, and more! Beautiful Site - Simple and refreshing one page design Industry-Leading SEO - Help get your website found on search engines and social media Media Galleries - Display your images and videos with captions in a customizable gallery Mobile Friendly - Look amazing on every screen with a mobile friendly version of your site Multi-language - 15+ language packs including English, ä¸­æ–‡, and PortuguÃªs Multi-user - Each author gets their own profile page Privacy Pack - Assists with GDPR Stand Out - Bring your site to life with animation, parallax backgrounds, and scroll effects One-Click Deployment - No servers. No databases. Only files.  Color Themes Academic comes with day (light) and night (dark) mode built-in. Click the sun/moon icon in the top right of the Demo to see it in action!\nChoose a stunning color and font theme for your site. Themes are fully customizable and include:\n         Ecosystem  Academic Admin: An admin tool to import publications from BibTeX or import assets for an offline site Academic Scripts: Scripts to help migrate content to new versions of Academic  Install You can choose from one of the following four methods to install:\n one-click install using your web browser (recommended) install on your computer using Git with the Command Prompt/Terminal app install on your computer by downloading the ZIP files install on your computer with RStudio  Then personalize and deploy your new site.\nUpdating View the Update Guide.\nFeel free to star the project on Github to help keep track of updates.\nLicense Copyright 2016-present George Cushen.\nReleased under the MIT license.\n","date":1461110400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1555459200,"objectID":"279b9966ca9cf3121ce924dca452bb1c","permalink":"/post/getting-started/","publishdate":"2016-04-20T00:00:00Z","relpermalink":"/post/getting-started/","section":"post","summary":"Create a beautifully simple website in under 10 minutes.","tags":["Academic"],"title":"Academic: the website builder for Hugo","type":"post"},{"authors":null,"categories":["Github"],"content":"\r\r0.1 è´­ä¹°ã€ç»‘å®šç‹¬ç«‹åŸŸå\r0.2 é…ç½®å’Œä½¿ç”¨Github\r0.2.1 1ã€æ£€æŸ¥SSH keysçš„è®¾ç½®\r0.2.2 2ã€å¤‡ä»½å’Œç§»é™¤åŸæ¥çš„ssh keyè®¾ç½®ï¼š\r0.2.3 3ã€ç”Ÿæˆæ–°çš„SSH Keyï¼š\r0.2.4 4ã€æ·»åŠ SSH Keyåˆ°GitHubï¼š\r0.2.5 5ã€æµ‹è¯•ä¸€ä¸‹\r0.2.6 6ã€è®¾ç½®ä½ çš„è´¦å·ä¿¡æ¯\r0.2.7 æˆåŠŸäº†\r\r0.3 ä½¿ç”¨GitHub Pageså»ºç«‹åšå®¢\r0.3.1 User \u0026amp; Organization Pages\r0.3.2 ç»‘å®šåŸŸå\r\r0.4 Jekyllæ¨¡æ¿ç³»ç»Ÿ\r0.4.1 JekyllåŸºæœ¬ç»“æ„\r0.4.2 Jekyllçš„é…ç½®\r0.4.3 YAML Front Matterå’Œæ¨¡æ¿å˜é‡\r\r0.5 ä½¿ç”¨Disqusç®¡ç†è¯„è®º\r0.6 ä»£ç é«˜äº®æ’ä»¶\r0.7 æ­å»ºæœ¬åœ°jekyllç¯å¢ƒ\r0.8 ç»“è¯­\r\r\rGithubå¾ˆå¥½çš„å°†ä»£ç å’Œç¤¾åŒºè”ç³»åœ¨äº†ä¸€èµ·ï¼Œäºæ˜¯å‘ç”Ÿäº†å¾ˆå¤šæœ‰è¶£çš„äº‹æƒ…ï¼Œä¸–ç•Œä¹Ÿå› ä¸ºä»–ç¾å¥½äº†ä¸€ç‚¹ç‚¹ã€‚Githubä½œä¸ºç°åœ¨æœ€æµè¡Œçš„ä»£ç ä»“åº“ï¼Œå·²ç»å¾—åˆ°å¾ˆå¤šå¤§å…¬å¸å’Œé¡¹ç›®çš„é’çï¼Œæ¯”å¦‚jQueryã€Twitterç­‰ã€‚ä¸ºä½¿é¡¹ç›®æ›´æ–¹ä¾¿çš„è¢«äººç†è§£ï¼Œä»‹ç»é¡µé¢å°‘ä¸äº†ï¼Œç”šè‡³ä¼šéœ€è¦å®Œæ•´çš„æ–‡æ¡£ç«™ï¼ŒGithubæ›¿ä½ æƒ³åˆ°äº†è¿™ä¸€ç‚¹ï¼Œä»–æä¾›äº†Github Pagesçš„æœåŠ¡ï¼Œä¸ä»…å¯ä»¥æ–¹ä¾¿çš„ä¸ºé¡¹ç›®å»ºç«‹ä»‹ç»ç«™ç‚¹ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å»ºç«‹ä¸ªäººåšå®¢ã€‚\nGithub Pagesæœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š\n\r\rè½»é‡çº§çš„åšå®¢ç³»ç»Ÿï¼Œæ²¡æœ‰éº»çƒ¦çš„é…ç½®\r\r\rä½¿ç”¨æ ‡è®°è¯­è¨€ï¼Œæ¯”å¦‚Markdown\r\r\ræ— éœ€è‡ªå·±æ­å»ºæœåŠ¡å™¨\r\r\ræ ¹æ®Githubçš„é™åˆ¶ï¼Œå¯¹åº”çš„æ¯ä¸ªç«™æœ‰300MBç©ºé—´\r\r\rå¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸå\r\r\rå½“ç„¶ä»–ä¹Ÿæœ‰ç¼ºç‚¹ï¼š\n\rä½¿ç”¨Jekyllæ¨¡æ¿ç³»ç»Ÿï¼Œç›¸å½“äºé™æ€é¡µå‘å¸ƒï¼Œé€‚åˆåšå®¢ï¼Œæ–‡æ¡£ä»‹ç»ç­‰ã€‚\råŠ¨æ€ç¨‹åºçš„éƒ¨åˆ†ç›¸å½“å±€é™ï¼Œæ¯”å¦‚æ²¡æœ‰è¯„è®ºï¼Œä¸è¿‡è¿˜å¥½æˆ‘ä»¬æœ‰è§£å†³æ–¹æ¡ˆã€‚\råŸºäºGitï¼Œå¾ˆå¤šä¸œè¥¿éœ€è¦åŠ¨æ‰‹ï¼Œä¸åƒWordpressæœ‰å¼ºå¤§çš„åå°\r\rå¤§è‡´ä»‹ç»åˆ°æ­¤ï¼Œä½œä¸ºä¸ªäººåšå®¢æ¥è¯´ï¼Œç®€æ´æ¸…çˆ½çš„è¡¨è¾¾è‡ªå·±çš„å·¥ä½œã€å¿ƒå¾—ï¼Œå°±å·²è¾¾ç›®æ ‡ï¼Œæ‰€ä»¥Github Pagesæ˜¯æˆ‘è®¤ä¸ºæ­¤éœ€æ±‚æœ€å®Œç¾çš„è§£å†³æ–¹æ¡ˆäº†ã€‚\n0.1 è´­ä¹°ã€ç»‘å®šç‹¬ç«‹åŸŸå\rè™½è¯´Godaddyæ›¾æ”¯æŒè¿‡SOPAï¼Œå¹¶ä¸”é¦–é¡µæ”¾ç€æå…¶ä¸ä¸“ä¸šçš„å¤§èƒ¸ç¾å¥³ï¼Œä½†æ˜¯ä½œä¸ºåŸŸåæœåŠ¡å•†ä»–åšçš„è¿˜ä¸èµ–ï¼Œé€‰æ‹©å®ƒæœ€é‡è¦çš„åŸå› æ˜¯ä»–æ”¯æŒæ”¯ä»˜å®ï¼Œæ²¡æœ‰ä¿¡ç”¨å¡æœ‰æ—¶çœŸçš„å¾ˆéš¾è¿‡ã€‚\nåŸŸåçš„è´­ä¹°ä¸ç”¨å¤šè®²ï¼Œæ³¨å†Œã€é€‰åŸŸåã€æ”¯ä»˜ï¼Œæœ‰ç½‘è´­ç»éªŒçš„éƒ½æ¯«æ— å‹åŠ›ï¼Œä¼˜æƒ ç ä¹Ÿéåœ°çš†æ˜¯ã€‚åŸŸåçš„é…ç½®éœ€è¦æé†’ä¸€ä¸‹ï¼Œå› ä¸ºä¼Ÿå¤§è‹±æ˜çš„GFWçš„å­˜åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»å¤šåšäº›äº‹æƒ…ã€‚\næµä¼ Godaddyçš„åŸŸåè§£ææœåŠ¡å™¨è¢«å¢™æ‰ï¼Œå¯¼è‡´åŸŸåæ— æ³•è®¿é—®ï¼Œåæ¥è¿™ä¸ªäº‹æƒ…åœ¨BeiYuuä¹Ÿå‘ç”Ÿäº†ï¼Œä¸å¾—å·²éœ€è¦æŠŠåŸŸåè§£ææœåŠ¡è¿ç§»åˆ°å›½å†…æ¯”è¾ƒç¨³å®šçš„æœåŠ¡å•†å¤„ï¼Œè¿™ä¸ªè¿ç§»å¯¹äºåŸŸåæ¥è¯´æ²¡æœ‰ä»€ä¹ˆé£é™©ï¼Œæœ€ç»ˆçš„æ§åˆ¶æƒè¿˜æ˜¯åœ¨Godaddyé‚£é‡Œï¼Œä½ éšæ—¶éƒ½å¯ä»¥æ”¹å›å»ã€‚\næˆ‘ä»¬é€‰æ‹©DNSPodçš„æœåŠ¡ï¼Œä»–ä»¬çš„äº§å“åšå¾—ä¸é”™ï¼Œæ˜“ç”¨ã€å…è´¹ï¼Œæ”¶è´¹ç‰ˆæœ‰æ›´é«˜ç«¯çš„åŠŸèƒ½ï¼Œæš‚ä¸éœ€è¦ã€‚æ³¨å†Œç™»å½•ä¹‹åï¼ŒæŒ‰ç…§DNSPodçš„è¯´æ³•ï¼Œåªéœ€ä¸‰æ­¥ï¼ˆæˆ‘ä»¬æ’å…¥ä¸€æ­¥ï¼‰ï¼š\n\r\ré¦–å…ˆæ·»åŠ åŸŸåè®°å½•ï¼Œå¯å‚è€ƒDNSPodçš„å¸®åŠ©æ–‡æ¡£ï¼šhttps://www.dnspod.cn/Support\r\r\råœ¨DNSPodè‡ªå·±çš„åŸŸåä¸‹æ·»åŠ ä¸€æ¡Aè®°å½•ï¼Œåœ°å€å°±æ˜¯Github Pagesçš„æœåŠ¡IPåœ°å€ï¼š207.97.227.245\r\r\råœ¨åŸŸåæ³¨å†Œå•†å¤„ä¿®æ”¹DNSæœåŠ¡:å»Godaddyä¿®æ”¹Nameserversä¸ºè¿™ä¸¤ä¸ªåœ°å€ï¼šf1g1ns1.dnspod.netã€f1g1ns2.dnspod.netã€‚å¦‚æœä½ ä¸æ˜ç™½åœ¨å“ªé‡Œä¿®æ”¹ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œï¼šGodaddyæ³¨å†Œçš„åŸŸåå¦‚ä½•ä½¿ç”¨DNSPod\r\r\rç­‰å¾…åŸŸåè§£æç”Ÿæ•ˆ\r\r\råŸŸåçš„é…ç½®éƒ¨åˆ†å®Œæˆï¼Œè·ªè°¢æ–¹æ ¡é•¿ã€‚\n\r0.2 é…ç½®å’Œä½¿ç”¨Github\rGitæ˜¯ç‰ˆæœ¬ç®¡ç†çš„æœªæ¥ï¼Œä»–çš„ä¼˜ç‚¹æˆ‘ä¸å†èµ˜è¿°ï¼Œç›¸å…³èµ„æ–™å¾ˆå¤šã€‚æ¨èè¿™æœ¬Gitä¸­æ–‡æ•™ç¨‹ã€‚\nè¦ä½¿ç”¨Gitï¼Œéœ€è¦å®‰è£…å®ƒçš„å®¢æˆ·ç«¯ï¼Œæ¨èåœ¨Linuxä¸‹ä½¿ç”¨Gitï¼Œä¼šæ¯”è¾ƒæ–¹ä¾¿ã€‚Windowsç‰ˆçš„ä¸‹è½½åœ°å€åœ¨è¿™é‡Œï¼šhttp://code.google.com/p/msysgit/downloads/listã€‚å…¶ä»–ç³»ç»Ÿçš„å®‰è£…ä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„å®‰è£…æ•™ç¨‹ã€‚\nä¸‹è½½å®‰è£…å®¢æˆ·ç«¯ä¹‹åï¼Œå„ä¸ªç³»ç»Ÿçš„é…ç½®å°±ç±»ä¼¼äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨windowsä½œä¸ºä¾‹å­ï¼ŒLinuxå’ŒMacä¸æ­¤ç±»ä¼¼ã€‚\nåœ¨Windowsä¸‹ï¼Œæ‰“å¼€Git Bashï¼Œå…¶ä»–ç³»ç»Ÿä¸‹é¢åˆ™æ‰“å¼€ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼š\r0.2.1 1ã€æ£€æŸ¥SSH keysçš„è®¾ç½®\ré¦–å…ˆæˆ‘ä»¬éœ€è¦æ£€æŸ¥ä½ ç”µè„‘ä¸Šç°æœ‰çš„ssh keyï¼š\n$ cd ~/.ssh\rå¦‚æœæ˜¾ç¤ºâ€œNo such file or directoryâ€ï¼Œè·³åˆ°ç¬¬ä¸‰æ­¥ï¼Œå¦åˆ™ç»§ç»­ã€‚\n\r0.2.2 2ã€å¤‡ä»½å’Œç§»é™¤åŸæ¥çš„ssh keyè®¾ç½®ï¼š\rå› ä¸ºå·²ç»å­˜åœ¨keyæ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦å¤‡ä»½æ—§çš„æ•°æ®å¹¶åˆ é™¤ï¼š\n$ ls\rconfig id_rsa id_rsa.pub known_hosts\r$ mkdir key_backup\r$ cp id_rsa* key_backup\r$ rm id_rsa*\r\r0.2.3 3ã€ç”Ÿæˆæ–°çš„SSH Keyï¼š\rè¾“å…¥ä¸‹é¢çš„ä»£ç ï¼Œå°±å¯ä»¥ç”Ÿæˆæ–°çš„keyæ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦é»˜è®¤è®¾ç½®å°±å¥½ï¼Œæ‰€ä»¥å½“éœ€è¦è¾“å…¥æ–‡ä»¶åçš„æ—¶å€™ï¼Œå›è½¦å°±å¥½ã€‚\n$ ssh-keygen -t rsa -C \u0026quot;é‚®ä»¶åœ°å€@youremail.com\u0026quot;\rGenerating public/private rsa key pair.\rEnter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):\u0026lt;å›è½¦å°±å¥½\u0026gt;\rç„¶åç³»ç»Ÿä¼šè¦ä½ è¾“å…¥åŠ å¯†ä¸²ï¼ˆPassphraseï¼‰ï¼š\nEnter passphrase (empty for no passphrase):\u0026lt;è¾“å…¥åŠ å¯†ä¸²\u0026gt;\rEnter same passphrase again:\u0026lt;å†æ¬¡è¾“å…¥åŠ å¯†ä¸²\u0026gt;\ræœ€åçœ‹åˆ°è¿™æ ·çš„ç•Œé¢ï¼Œå°±æˆåŠŸè®¾ç½®ssh keyäº†ï¼š\r\r0.2.4 4ã€æ·»åŠ SSH Keyåˆ°GitHubï¼š\råœ¨æœ¬æœºè®¾ç½®SSH Keyä¹‹åï¼Œéœ€è¦æ·»åŠ åˆ°GitHubä¸Šï¼Œä»¥å®ŒæˆSSHé“¾æ¥çš„è®¾ç½®ã€‚\nç”¨æ–‡æœ¬ç¼–è¾‘å·¥å…·æ‰“å¼€id_rsa.pubæ–‡ä»¶ï¼Œå¦‚æœçœ‹ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œä½ éœ€è¦è®¾ç½®æ˜¾ç¤ºéšè—æ–‡ä»¶ã€‚å‡†ç¡®çš„å¤åˆ¶è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæ‰èƒ½ä¿è¯è®¾ç½®çš„æˆåŠŸã€‚\nåœ¨GitHubçš„ä¸»é¡µä¸Šç‚¹å‡»è®¾ç½®æŒ‰é’®ï¼š\ré€‰æ‹©SSH Keysé¡¹ï¼ŒæŠŠå¤åˆ¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼Œç„¶åç‚¹å‡»Add KeyæŒ‰é’®å³å¯ï¼š\rPSï¼šå¦‚æœéœ€è¦é…ç½®å¤šä¸ªGitHubè´¦å·ï¼Œå¯ä»¥å‚çœ‹è¿™ä¸ªå¤šä¸ªgithubå¸å·çš„SSH keyåˆ‡æ¢ï¼Œä¸è¿‡éœ€è¦æé†’ä¸€ä¸‹çš„æ˜¯ï¼Œå¦‚æœä½ åªæ˜¯é€šè¿‡è¿™ç¯‡æ–‡ç« ä¸­æ‰€è¿°é…ç½®äº†Hostï¼Œé‚£ä¹ˆä½ å¤šä¸ªè´¦å·ä¸‹é¢çš„æäº¤ç”¨æˆ·ä¼šæ˜¯ä¸€ä¸ªäººï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡å‘½ä»¤git config --global --unset user.emailåˆ é™¤ç”¨æˆ·è´¦æˆ·è®¾ç½®ï¼Œåœ¨æ¯ä¸€ä¸ªrepoä¸‹é¢ä½¿ç”¨git config --local user.email 'ä½ çš„githubé‚®ç®±@mail.com' å‘½ä»¤å•ç‹¬è®¾ç½®ç”¨æˆ·è´¦æˆ·ä¿¡æ¯\n\r0.2.5 5ã€æµ‹è¯•ä¸€ä¸‹\rå¯ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œçœ‹çœ‹è®¾ç½®æ˜¯å¦æˆåŠŸï¼Œgit@github.comçš„éƒ¨åˆ†ä¸è¦ä¿®æ”¹ï¼š\n$ ssh -T git@github.com\rå¦‚æœæ˜¯ä¸‹é¢çš„ååº”ï¼š\nThe authenticity of host \u0026#39;github.com (207.97.227.239)\u0026#39; can\u0026#39;t be established.\rRSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.\rAre you sure you want to continue connecting (yes/no)?\rä¸è¦ç´§å¼ ï¼Œè¾“å…¥yeså°±å¥½ï¼Œç„¶åä¼šçœ‹åˆ°ï¼š\nHi \u0026lt;em\u0026gt;username\u0026lt;/em\u0026gt;! You\u0026#39;ve successfully authenticated, but GitHub does not provide shell access.\r\r0.2.6 6ã€è®¾ç½®ä½ çš„è´¦å·ä¿¡æ¯\rç°åœ¨ä½ å·²ç»å¯ä»¥é€šè¿‡SSHé“¾æ¥åˆ°GitHubäº†ï¼Œè¿˜æœ‰ä¸€äº›ä¸ªäººä¿¡æ¯éœ€è¦å®Œå–„çš„ã€‚\nGitä¼šæ ¹æ®ç”¨æˆ·çš„åå­—å’Œé‚®ç®±æ¥è®°å½•æäº¤ã€‚GitHubä¹Ÿæ˜¯ç”¨è¿™äº›ä¿¡æ¯æ¥åšæƒé™çš„å¤„ç†ï¼Œè¾“å…¥ä¸‹é¢çš„ä»£ç è¿›è¡Œä¸ªäººä¿¡æ¯çš„è®¾ç½®ï¼ŒæŠŠåç§°å’Œé‚®ç®±æ›¿æ¢æˆä½ è‡ªå·±çš„ï¼Œåå­—å¿…é¡»æ˜¯ä½ çš„çœŸåï¼Œè€Œä¸æ˜¯GitHubçš„æ˜µç§°ã€‚\n$ git config --global user.name \u0026quot;ä½ çš„åå­—\u0026quot;\r$ git config --global user.email \u0026quot;your_email@youremail.com\u0026quot;\r0.2.6.1 è®¾ç½®GitHubçš„token\r2012-4-28è¡¥å……ï¼šæ–°ç‰ˆçš„æ¥å£å·²ç»ä¸éœ€è¦é…ç½®tokenäº†ï¼Œæ‰€ä»¥ä¸‹é¢è¿™æ®µå¯ä»¥è·³è¿‡äº†\næœ‰äº›å·¥å…·æ²¡æœ‰é€šè¿‡SSHæ¥é“¾æ¥GitHubã€‚å¦‚æœè¦ä½¿ç”¨è¿™ç±»å·¥å…·ï¼Œä½ éœ€è¦æ‰¾åˆ°ç„¶åè®¾ç½®ä½ çš„API Tokenã€‚\nåœ¨GitHubä¸Šï¼Œä½ å¯ä»¥ç‚¹å‡»Account Setting \u0026gt; Account Adminï¼š\rç„¶ååœ¨ä½ çš„å‘½ä»¤è¡Œä¸­ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼ŒæŠŠtokenæ·»åŠ è¿›å»ï¼š\n$ git config --global user.name \u0026quot;ä½ çš„åå­—\u0026quot;\r$ git config --global user.token 0123456789your123456789token\rå¦‚æœä½ æ”¹äº†GitHubçš„å¯†ç ï¼Œéœ€è¦é‡æ–°è®¾ç½®tokenã€‚\n\r\r0.2.7 æˆåŠŸäº†\rå¥½äº†ï¼Œä½ å·²ç»å¯ä»¥æˆåŠŸè¿æ¥GitHubäº†ã€‚\n\r\r0.3 ä½¿ç”¨GitHub Pageså»ºç«‹åšå®¢\rä¸GitHubå»ºç«‹å¥½é“¾æ¥ä¹‹åï¼Œå°±å¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨å®ƒæä¾›çš„PagesæœåŠ¡ï¼ŒGitHub Pagesåˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½ çš„GitHubç”¨æˆ·åå»ºç«‹çš„username.github.ioè¿™æ ·çš„ç”¨æˆ·\u0026amp;ç»„ç»‡é¡µï¼ˆç«™ï¼‰ï¼Œå¦ä¸€ç§æ˜¯ä¾é™„é¡¹ç›®çš„pagesã€‚\n0.3.1 User \u0026amp; Organization Pages\ræƒ³å»ºç«‹ä¸ªäººåšå®¢æ˜¯ç”¨çš„ç¬¬ä¸€ç§ï¼Œå½¢å¦‚beiyuu.github.ioè¿™æ ·çš„å¯è®¿é—®çš„ç«™ï¼Œæ¯ä¸ªç”¨æˆ·åä¸‹é¢åªèƒ½å»ºç«‹ä¸€ä¸ªï¼Œåˆ›å»ºä¹‹åç‚¹å‡»Adminè¿›å…¥é¡¹ç›®ç®¡ç†ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯è¿™æ ·çš„ï¼š\rè€Œæ™®é€šçš„é¡¹ç›®æ˜¯è¿™æ ·çš„ï¼Œå³ä½¿ä½ ä¹Ÿæ˜¯ç”¨çš„othername.github.ioï¼š\råˆ›å»ºå¥½username.github.ioé¡¹ç›®ä¹‹åï¼Œæäº¤ä¸€ä¸ªindex.htmlæ–‡ä»¶ï¼Œç„¶åpushåˆ°GitHubçš„masteråˆ†æ”¯ï¼ˆä¹Ÿå°±æ˜¯æ™®é€šæ„ä¹‰ä¸Šçš„ä¸»å¹²ï¼‰ã€‚ç¬¬ä¸€æ¬¡é¡µé¢ç”Ÿæ•ˆéœ€è¦ä¸€äº›æ—¶é—´ï¼Œå¤§æ¦‚10åˆ†é’Ÿå·¦å³ã€‚\nç”Ÿæ•ˆä¹‹åï¼Œè®¿é—®username.github.ioå°±å¯ä»¥çœ‹åˆ°ä½ ä¸Šä¼ çš„é¡µé¢äº†ï¼Œbeiyuu.github.ioå°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚\nå…³äºç¬¬äºŒç§é¡¹ç›®pagesï¼Œç®€å•æä¸€ä¸‹ï¼Œä»–å’Œç”¨æˆ·pagesä½¿ç”¨çš„åå°ç¨‹åºæ˜¯åŒä¸€å¥—ï¼Œåªä¸è¿‡å®ƒçš„ç›®çš„æ˜¯é¡¹ç›®çš„å¸®åŠ©æ–‡æ¡£ç­‰è·Ÿé¡¹ç›®ç»‘å®šçš„å†…å®¹ï¼Œæ‰€ä»¥éœ€è¦åœ¨é¡¹ç›®çš„gh-pagesåˆ†æ”¯ä¸Šå»æäº¤ç›¸åº”çš„æ–‡ä»¶ï¼ŒGitHubä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆé¡¹ç›®pagesã€‚å…·ä½“çš„ä½¿ç”¨å¸®åŠ©å¯ä»¥å‚è€ƒGithub Pagesçš„å®˜æ–¹æ–‡æ¡£ï¼š\n\r0.3.2 ç»‘å®šåŸŸå\ræˆ‘ä»¬åœ¨ç¬¬ä¸€éƒ¨åˆ†å°±æåˆ°äº†åœ¨DNSéƒ¨åˆ†çš„è®¾ç½®ï¼Œå†æ¥çœ‹åœ¨GitHubçš„é…ç½®ï¼Œè¦æƒ³è®©username.github.ioèƒ½é€šè¿‡ä½ è‡ªå·±çš„åŸŸåæ¥è®¿é—®ï¼Œéœ€è¦åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸ºCNAMEçš„æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å½¢å¦‚ï¼š\nbeiyuu.com\rä½ ä¹Ÿå¯ä»¥ç»‘å®šåœ¨äºŒçº§åŸŸåä¸Šï¼š\nblog.beiyuu.com\réœ€è¦æé†’çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨å½¢å¦‚beiyuu.comè¿™æ ·çš„ä¸€çº§åŸŸåçš„è¯ï¼Œéœ€è¦åœ¨DNSå¤„è®¾ç½®Aè®°å½•åˆ°207.97.227.245ï¼ˆè¿™ä¸ªåœ°å€ä¼šæœ‰å˜åŠ¨ï¼Œè¿™é‡ŒæŸ¥çœ‹ï¼‰ï¼Œè€Œä¸æ˜¯åœ¨DNSå¤„è®¾ç½®ä¸ºCNAMEçš„å½¢å¼ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¹å…¶ä»–æœåŠ¡ï¼ˆæ¯”å¦‚emailï¼‰é€ æˆå½±å“ã€‚\nè®¾ç½®æˆåŠŸåï¼Œæ ¹æ®DNSçš„æƒ…å†µï¼Œæœ€é•¿å¯èƒ½éœ€è¦ä¸€å¤©æ‰èƒ½ç”Ÿæ•ˆï¼Œè€å¿ƒç­‰å¾…å§ã€‚\n\r\r0.4 Jekyllæ¨¡æ¿ç³»ç»Ÿ\rGitHub Pagesä¸ºäº†æä¾›å¯¹HTMLå†…å®¹çš„æ”¯æŒï¼Œé€‰æ‹©äº†Jekyllä½œä¸ºæ¨¡æ¿ç³»ç»Ÿï¼ŒJekyllæ˜¯ä¸€ä¸ªå¼ºå¤§çš„é™æ€æ¨¡æ¿ç³»ç»Ÿï¼Œä½œä¸ºä¸ªäººåšå®¢ä½¿ç”¨ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³è¦æ±‚ï¼Œä¹Ÿèƒ½ä¿æŒç®¡ç†çš„æ–¹ä¾¿ï¼Œä½ å¯ä»¥æŸ¥çœ‹Jekyllå®˜æ–¹æ–‡æ¡£ã€‚\nä½ å¯ä»¥ç›´æ¥forkæˆ‘çš„é¡¹ç›®ï¼Œç„¶åæ”¹åï¼Œå°±æœ‰äº†ä½ è‡ªå·±çš„æ»¡è¶³Jekyllè¦æ±‚çš„æ–‡æ¡£äº†ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„ä»‹ç»è‡ªå·±åˆ›å»ºã€‚\n0.4.1 JekyllåŸºæœ¬ç»“æ„\rJekyllçš„æ ¸å¿ƒå…¶å®å°±æ˜¯ä¸€ä¸ªæ–‡æœ¬çš„è½¬æ¢å¼•æ“ï¼Œç”¨ä½ æœ€å–œæ¬¢çš„æ ‡è®°è¯­è¨€å†™æ–‡æ¡£ï¼Œå¯ä»¥æ˜¯Markdownã€Textileæˆ–è€…HTMLç­‰ç­‰ï¼Œå†é€šè¿‡layoutå°†æ–‡æ¡£æ‹¼è£…èµ·æ¥ï¼Œæ ¹æ®ä½ è®¾ç½®çš„URLè§„åˆ™æ¥å±•ç°ï¼Œè¿™äº›éƒ½æ˜¯é€šè¿‡ä¸¥æ ¼çš„é…ç½®æ–‡ä»¶æ¥å®šä¹‰ï¼Œæœ€ç»ˆçš„äº§å‡ºå°±æ˜¯webé¡µé¢ã€‚\nåŸºæœ¬çš„Jekyllç»“æ„å¦‚ä¸‹ï¼š\n|-- _config.yml\r|-- _includes\r|-- _layouts\r| |-- default.html\r| `-- post.html\r|-- _posts\r| |-- 2007-10-29-why-every-programmer-should-play-nethack.textile\r| `-- 2009-04-26-barcamp-boston-4-roundup.textile\r|-- _site\r`-- index.html\rç®€å•ä»‹ç»ä¸€ä¸‹ä»–ä»¬çš„ä½œç”¨ï¼š\n0.4.1.1 _config.yml\ré…ç½®æ–‡ä»¶ï¼Œç”¨æ¥å®šä¹‰ä½ æƒ³è¦çš„æ•ˆæœï¼Œè®¾ç½®ä¹‹åå°±ä¸ç”¨å…³å¿ƒäº†ã€‚\n\r0.4.1.2 _includes\rå¯ä»¥ç”¨æ¥å­˜æ”¾ä¸€äº›å°çš„å¯å¤ç”¨çš„æ¨¡å—ï¼Œæ–¹ä¾¿é€šè¿‡{ % include file.ext %}ï¼ˆå»æ‰å‰ä¸¤ä¸ª{ä¸­æˆ–è€…{ä¸%ä¸­çš„ç©ºæ ¼ï¼Œä¸‹åŒï¼‰çµæ´»çš„è°ƒç”¨ã€‚è¿™æ¡å‘½ä»¤ä¼šè°ƒç”¨_includes/file.extæ–‡ä»¶ã€‚\r\r0.4.1.3 _layouts\rè¿™æ˜¯æ¨¡æ¿æ–‡ä»¶å­˜æ”¾çš„ä½ç½®ã€‚æ¨¡æ¿éœ€è¦é€šè¿‡YAML front matteræ¥å®šä¹‰ï¼Œåé¢ä¼šè®²åˆ°ï¼Œ{ { content }}æ ‡è®°ç”¨æ¥å°†æ•°æ®æ’å…¥åˆ°è¿™äº›æ¨¡æ¿ä¸­æ¥ã€‚\r\r0.4.1.4 _posts\rä½ çš„åŠ¨æ€å†…å®¹ï¼Œä¸€èˆ¬æ¥è¯´å°±æ˜¯ä½ çš„åšå®¢æ­£æ–‡å­˜æ”¾çš„æ–‡ä»¶å¤¹ã€‚ä»–çš„å‘½åæœ‰ä¸¥æ ¼çš„è§„å®šï¼Œå¿…é¡»æ˜¯2012-02-22-artical-title.MARKUPè¿™æ ·çš„å½¢å¼ï¼ŒMARKUPæ˜¯ä½ æ‰€ä½¿ç”¨æ ‡è®°è¯­è¨€çš„æ–‡ä»¶åç¼€åï¼Œæ ¹æ®_config.ymlä¸­è®¾å®šçš„é“¾æ¥è§„åˆ™ï¼Œå¯ä»¥æ ¹æ®ä½ çš„æ–‡ä»¶åçµæ´»è°ƒæ•´ï¼Œæ–‡ç« çš„æ—¥æœŸå’Œæ ‡è®°è¯­è¨€åç¼€ä¸æ–‡ç« çš„æ ‡é¢˜çš„ç‹¬ç«‹çš„ã€‚\r\r0.4.1.5 _site\rè¿™ä¸ªæ˜¯Jekyllç”Ÿæˆçš„æœ€ç»ˆçš„æ–‡æ¡£ï¼Œä¸ç”¨å»å…³å¿ƒã€‚æœ€å¥½æŠŠä»–æ”¾åœ¨ä½ çš„.gitignoreæ–‡ä»¶ä¸­å¿½ç•¥å®ƒã€‚\r\r0.4.1.6 å…¶ä»–æ–‡ä»¶å¤¹\rä½ å¯ä»¥åˆ›å»ºä»»ä½•çš„æ–‡ä»¶å¤¹ï¼Œåœ¨æ ¹ç›®å½•ä¸‹é¢ä¹Ÿå¯ä»¥åˆ›å»ºä»»ä½•æ–‡ä»¶ï¼Œå‡è®¾ä½ åˆ›å»ºäº†projectæ–‡ä»¶å¤¹ï¼Œä¸‹é¢æœ‰ä¸€ä¸ªgithub-pages.mdçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥é€šè¿‡yoursite.com/project/github-pagesè®¿é—®çš„åˆ°ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨ä¸€çº§åŸŸåçš„è¯ã€‚æ–‡ä»¶åç¼€å¯ä»¥æ˜¯.htmlæˆ–è€…markdownæˆ–è€…textileã€‚è¿™é‡Œè¿˜æœ‰å¾ˆå¤šçš„ä¾‹å­ï¼šhttps://github.com/mojombo/jekyll/wiki/Sites\n\r\r0.4.2 Jekyllçš„é…ç½®\rJekyllçš„é…ç½®å†™åœ¨_config.ymlæ–‡ä»¶ä¸­ï¼Œå¯é…ç½®é¡¹æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ä¸å»ä¸€ä¸€è¿½ç©¶äº†ï¼Œå¾ˆå¤šé…ç½®è™½æœ‰ç”¨ä½†æ˜¯ä¸€èˆ¬ä¸éœ€è¦å»å…³å¿ƒï¼Œå®˜æ–¹é…ç½®æ–‡æ¡£æœ‰å¾ˆè¯¦ç»†çš„è¯´æ˜ï¼Œç¡®å®éœ€è¦äº†å¯ä»¥å»è¿™é‡ŒæŸ¥ï¼Œæˆ‘ä»¬ä¸»è¦è¯´ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„ä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯Permalinkï¼Œè¿˜æœ‰å°±æ˜¯è‡ªå®šä¹‰é¡¹ã€‚\nPermalinké¡¹ç”¨æ¥å®šä¹‰ä½ æœ€ç»ˆçš„æ–‡ç« é“¾æ¥æ˜¯ä»€ä¹ˆå½¢å¼ï¼Œä»–æœ‰ä¸‹é¢å‡ ä¸ªå˜é‡ï¼š\n\ryear æ–‡ä»¶åä¸­çš„å¹´ä»½\rmonth æ–‡ä»¶åä¸­çš„æœˆä»½\rday æ–‡ä»¶åä¸­çš„æ—¥æœŸ\rtitle æ–‡ä»¶åä¸­çš„æ–‡ç« æ ‡é¢˜\rcategories æ–‡ç« çš„åˆ†ç±»ï¼Œå¦‚æœæ–‡ç« æ²¡æœ‰åˆ†ç±»ï¼Œä¼šå¿½ç•¥\ri-month æ–‡ä»¶åä¸­çš„é™¤å»å‰ç¼€0çš„æœˆä»½\ri-day æ–‡ä»¶åä¸­çš„é™¤å»å‰ç¼€0çš„æ—¥æœŸ\r\rçœ‹çœ‹æœ€ç»ˆçš„é…ç½®æ•ˆæœï¼š\n\rpermalink: pretty /2009/04/29/slap-chop/index.html\rpermalink: /:month-:day-:year/:title.html /04-29-2009/slap-chop.html\rpermalink: /blog/:year/:month/:day/:title /blog/2009/04/29/slap-chop/index.html\r\ræˆ‘ä½¿ç”¨çš„æ˜¯ï¼š\n\rpermalink: /:title /github-pages\r\rè‡ªå®šä¹‰é¡¹çš„å†…å®¹ï¼Œä¾‹å¦‚æˆ‘ä»¬å®šä¹‰äº†title:BeiYuuçš„åšå®¢è¿™æ ·ä¸€é¡¹ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥åœ¨æ–‡ç« ä¸­ä½¿ç”¨{ { site.title }}æ¥å¼•ç”¨è¿™ä¸ªå˜é‡äº†ï¼Œéå¸¸æ–¹ä¾¿å®šä¹‰äº›å…¨å±€å˜é‡ã€‚\n\r0.4.3 YAML Front Matterå’Œæ¨¡æ¿å˜é‡\rå¯¹äºä½¿ç”¨YAMLå®šä¹‰æ ¼å¼çš„æ–‡ç« ï¼ŒJekyllä¼šç‰¹åˆ«å¯¹å¾…ï¼Œä»–çš„æ ¼å¼è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œå¿…é¡»æ˜¯è¿™æ ·çš„å½¢å¼ï¼š\n---\rlayout: post\rtitle: Blogging Like a Hacker\r---\rå‰åçš„---ä¸èƒ½çœç•¥ï¼Œåœ¨è¿™ä¹‹é—´ï¼Œä½ å¯ä»¥å®šä¸€äº›ä½ éœ€è¦çš„å˜é‡ï¼Œlayoutå°±æ˜¯è°ƒç”¨_layoutsä¸‹é¢çš„æŸä¸€ä¸ªæ¨¡æ¿ï¼Œä»–è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å˜é‡å¯ä»¥ä½¿ç”¨ï¼š\n\rpermalink ä½ å¯ä»¥å¯¹æŸä¸€ç¯‡æ–‡ç« ä½¿ç”¨é€šç”¨è®¾ç½®ä¹‹å¤–çš„æ°¸ä¹…é“¾æ¥\rpublished å¯ä»¥å•ç‹¬è®¾ç½®æŸä¸€ç¯‡æ–‡ç« æ˜¯å¦éœ€è¦å‘å¸ƒ\rcategory è®¾ç½®æ–‡ç« çš„åˆ†ç±»\rtags è®¾ç½®æ–‡ç« çš„tag\r\rä¸Šé¢çš„titleå°±æ˜¯è‡ªå®šä¹‰çš„å†…å®¹ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®å…¶ä»–çš„å†…å®¹ï¼Œåœ¨æ–‡ç« ä¸­å¯ä»¥é€šè¿‡{ { page.title }}è¿™æ ·çš„å½¢å¼è°ƒç”¨ã€‚\næ¨¡æ¿å˜é‡ï¼Œæˆ‘ä»¬ä¹‹å‰ä¹Ÿæ¶‰åŠäº†ä¸å°‘äº†ï¼Œè¿˜æœ‰å…¶ä»–éœ€è¦çš„å˜é‡ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹çš„æ–‡æ¡£ï¼šhttps://github.com/mojombo/jekyll/wiki/template-data\n\r\r0.5 ä½¿ç”¨Disqusç®¡ç†è¯„è®º\ræ¨¡æ¿éƒ¨åˆ†åˆ°æ­¤å°±ç®—æ˜¯é…ç½®å®Œæ¯•äº†ï¼Œä½†æ˜¯Jekyllåªæ˜¯ä¸ªé™æ€é¡µé¢çš„å‘å¸ƒç³»ç»Ÿï¼Œæƒ³åšåˆ°å…³çˆ½åœºå€’æ˜¯å¾ˆå®¹æ˜“ï¼Œå¦‚æœæƒ³è¦è¯„è®ºå‘¢ï¼Ÿä¹Ÿå¾ˆç®€å•ã€‚\nç°åœ¨ä¸“åšè¯„è®ºæ¨¡å—çš„äº§å“æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚Disqusï¼Œè¿˜æœ‰å›½äº§çš„å¤šè¯´ï¼ŒDisquså¯¹ç°åœ¨å„ç§ç³»ç»Ÿçš„æ”¯æŒéƒ½æ¯”è¾ƒå…¨é¢ï¼Œåˆ°å†™åšå®¢ä¸ºæ­¢ï¼Œå¤šè¯´ç°åœ¨ä»…æ˜¯WordPressçš„ä¸€ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œæš‚æ—¶ä¹Ÿä½¿ç”¨ä¸äº†ï¼Œå¤šè¯´ä¸å›½å†…çš„ç¤¾äº¤ç½‘ç»œç´§å¯†ç»“åˆï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šäº®ç‚¹çš„ï¼Œå€¼å¾—æœŸå¾…ä¸€ä¸‹ã€‚æˆ‘å…ˆé€‰æ‹©äº†Disqusã€‚\næ³¨å†Œè´¦å·ä»€ä¹ˆçš„å°±ä¸æäº†ï¼ŒDisqusæ”¯æŒå¾ˆå¤šçš„åšå®¢å¹³å°ï¼Œå‚è§ä¸‹å›¾ï¼š\ræˆ‘ä»¬é€‰æ‹©æœ€ä¸‹é¢çš„Universal Codeå°±å¥½ï¼Œç„¶åä¼šçœ‹åˆ°ä¸€ä¸ªä»‹ç»é¡µé¢ï¼ŒæŠŠä¸‹é¢è¿™æ®µä»£ç å¤åˆ¶åˆ°ä½ çš„æ¨¡æ¿é‡Œé¢ï¼Œå¯ä»¥åªå¤åˆ¶åˆ°æ˜¾ç¤ºæ–‡ç« çš„æ¨¡æ¿ä¸­ï¼š\n\u0026lt;div id=\u0026quot;disqus_thread\u0026quot;\u0026gt;\u0026lt;/div\u0026gt;\r\u0026lt;script type=\u0026quot;text/javascript\u0026quot;\u0026gt;\r/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */\rvar disqus_shortname = \u0026#39;example\u0026#39;; // required: replace example with your forum shortname è¿™ä¸ªåœ°æ–¹éœ€è¦æ”¹æˆä½ é…ç½®çš„ç½‘ç«™å\r/* * * DON\u0026#39;T EDIT BELOW THIS LINE * * */\r(function() {\rvar dsq = document.createElement(\u0026#39;script\u0026#39;); dsq.type = \u0026#39;text/javascript\u0026#39;; dsq.async = true;\rdsq.src = \u0026#39;http://\u0026#39; + disqus_shortname + \u0026#39;.disqus.com/embed.js\u0026#39;;\r(document.getElementsByTagName(\u0026#39;head\u0026#39;)[0] || document.getElementsByTagName(\u0026#39;body\u0026#39;)[0]).appendChild(dsq);\r})();\r\u0026lt;/script\u0026gt;\r\u0026lt;noscript\u0026gt;Please enable JavaScript to view the \u0026lt;a href=\u0026quot;http://disqus.com/?ref_noscript\u0026quot;\u0026gt;comments powered by Disqus.\u0026lt;/a\u0026gt;\u0026lt;/noscript\u0026gt;\r\u0026lt;a href=\u0026quot;http://disqus.com\u0026quot; class=\u0026quot;dsq-brlink\u0026quot;\u0026gt;blog comments powered by \u0026lt;span class=\u0026quot;logo-disqus\u0026quot;\u0026gt;Disqus\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;\ré…ç½®å®Œä¹‹åï¼Œä½ ä¹Ÿå¯ä»¥åšä¸€äº›å¼‚æ­¥åŠ è½½çš„å¤„ç†ï¼Œæé«˜æ€§èƒ½ï¼Œæ¯”å¦‚æˆ‘å°±åœ¨æœ€å¼€å§‹é¡µé¢æ‰“å¼€çš„æ—¶å€™ä¸æ˜¾ç¤ºè¯„è®ºï¼Œå½“ä½ æƒ³çœ‹è¯„è®ºçš„æ—¶å€™ï¼Œç‚¹å‡»â€œæ˜¾ç¤ºè¯„è®ºâ€å†åŠ è½½Disqusçš„æ¨¡å—ã€‚ä»£ç å¾ˆç®€å•ï¼Œä½ å¯ä»¥å‚è€ƒæˆ‘çš„å†™æ³•ã€‚\n$(\u0026#39;#disqus_container .comment\u0026#39;).on(\u0026#39;click\u0026#39;,function(){\r$(this).html(\u0026#39;åŠ è½½ä¸­...\u0026#39;);\rvar disqus_shortname = \u0026#39;beiyuu\u0026#39;;\rvar that = this;\rBYB.includeScript(\u0026#39;http://\u0026#39; + disqus_shortname + \u0026#39;.disqus.com/embed.js\u0026#39;,function(){$(that).remove()}); //è¿™æ˜¯ä¸€ä¸ªåŠ è½½jsçš„å‡½æ•°\r});\rå¦‚æœä½ ä¸å–œæ¬¢Disqusçš„æ ·å¼ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®ä»–ç”Ÿæˆçš„HTMLç»“æ„ï¼Œè‡ªå·±æ”¹å†™æ ·å¼è¦†ç›–å®ƒçš„ï¼ŒDisqusç°åœ¨ä¹Ÿæä¾›æ¯ä¸ªé¡µé¢çš„è¯„è®ºæ•°æ¥å£ï¼Œå¸®åŠ©æ–‡æ¡£åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°ã€‚\n\r0.6 ä»£ç é«˜äº®æ’ä»¶\rå¦‚æœå†™æŠ€æœ¯åšå®¢ï¼Œä»£ç é«˜äº®å°‘ä¸äº†ï¼Œæœ‰ä¸¤ä¸ªå¯é€‰æ’ä»¶DlHightLightä»£ç é«˜äº®ç»„ä»¶å’ŒGoogle Code Prettifyã€‚DLHightLightæ”¯æŒçš„è¯­è¨€ç›¸å¯¹è¾ƒå°‘ä¸€äº›ï¼Œæœ‰jsã€cssã€xmlå’Œhtmlï¼ŒGoogleçš„é«˜äº®æ’ä»¶åŸºæœ¬ä¸Šä»»ä½•è¯­è¨€éƒ½æ”¯æŒï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¯­è¨€ï¼Œä¹Ÿæ”¯æŒè‡ªåŠ¨è¯†åˆ«ï¼Œä¹Ÿæœ‰è¡Œå·çš„ç‰¹åˆ«æ”¯æŒã€‚\nGoogleçš„é«˜äº®æ’ä»¶ä½¿ç”¨ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ï¼Œåªéœ€è¦åœ¨\u0026lt;pre\u0026gt;çš„æ ‡ç­¾ä¸ŠåŠ å…¥prettyprintå³å¯ã€‚æ‰€ä»¥æˆ‘é€‰æ‹©äº†Google Code Prettifyã€‚\n\r0.7 æ­å»ºæœ¬åœ°jekyllç¯å¢ƒ\rè¿™é‡Œä¸»è¦ä»‹ç»ä¸€ä¸‹åœ¨Mac OS Xä¸‹é¢çš„å®‰è£…è¿‡ç¨‹ï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„jekyllå®‰è£…ã€‚\nä½œä¸ºç”Ÿæ´»åœ¨æ°´æ·±ç«çƒ­çš„å¢™å†…äººæ°‘ï¼Œæœ‰å¿…è¦è¿›è¡Œä¸‹é¢ä¸€æ­¥ä¿®æ”¹gemçš„æºï¼Œæ–¹ä¾¿æˆ‘ä»¬æ›´å¿«çš„ä¸‹è½½æ‰€éœ€ç»„å»ºï¼š\nsudo gem sources --remove http://rubygems.org/\rsudo gem sources -a http://ruby.taobao.org/\rç„¶åç”¨Gemå®‰è£…jekyll\n$ gem install jekyll\rä¸è¿‡ä¸€èˆ¬å¦‚æœæœ‰å‡ºé”™æç¤ºï¼Œä½ å¯èƒ½éœ€è¦è¿™æ ·å®‰è£…ï¼š\n$ sudo gem install jekyll\ræˆ‘åˆ°äº†è¿™ä¸€æ­¥çš„æ—¶å€™æ€»æ˜¯æç¤ºé”™è¯¯Failed to build gem native extensionï¼Œå¾ˆå¯èƒ½çš„ä¸€ä¸ªåŸå› æ˜¯æ²¡æœ‰å®‰è£…rvmï¼Œrvmçš„å®‰è£…å¯ä»¥å‚è€ƒè¿™é‡Œï¼Œæˆ–è€…æ•²å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ curl -L https://get.rvm.io | bash -s stable --ruby\rç„¶åè¿˜éœ€è¦å®‰è£…Markdownçš„è§£é‡Šå™¨ï¼Œè¿™ä¸ªéœ€è¦åœ¨ä½ çš„_config.ymlé‡Œé¢è®¾ç½®markdown:rdiscountï¼š\n$ gem install jekyll rdiscount\rå¥½äº†ï¼Œå¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œæœ¬åœ°ç¯å¢ƒå°±åŸºæœ¬æ­å»ºå®Œæˆäº†ï¼Œè¿›å…¥ä¹‹å‰æˆ‘ä»¬å»ºç«‹çš„åšå®¢ç›®å½•ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\n$ jekyll serve --watch\rè¿™ä¸ªæ—¶å€™ï¼Œä½ å°±å¯ä»¥é€šè¿‡localhost:4000æ¥è®¿é—®äº†ã€‚è¿˜æœ‰å…³äºjekyll bootstrapçš„èµ„æ–™ï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹è°ƒè¯•çš„ï¼Œå¯ä»¥ç ”ç©¶ä¸€ä¸‹ã€‚\næˆ‘åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿˜é‡åˆ°ä¸¤ä¸ªè¯¡å¼‚çš„æ²¡æœ‰è§£å†³çš„é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯æˆ‘æ”¾åœ¨æ ¹ç›®å½•ä¸‹é¢çš„blog.mdç­‰æ–‡ä»¶ï¼Œåœ¨GitHubçš„pagesæœåŠ¡ä¸Šä¸€åˆ‡æ­£å¸¸ï¼Œå¯ä»¥é€šè¿‡beiyuu.com/blogè®¿é—®çš„åˆ°ï¼Œä½†æ˜¯åœ¨æœ¬åœ°ç¯å¢ƒä¸‹ï¼Œæ€»æ˜¯not foundï¼Œå¾ˆæ˜¯è®©äººéƒé—·ï¼Œçœ‹ç”Ÿæˆçš„_siteç›®å½•ä¸‹é¢çš„æ–‡ä»¶ï¼Œä¹Ÿæ˜¯æ­£å¸¸çš„blog.htmlï¼Œä½†å°±æ˜¯æ‰¾ä¸åˆ°ï¼Œåªæœ‰å½“æˆ‘æŠŠURLæ”¹ä¸ºlocalhost:4000/blog.htmlçš„æ—¶å€™ï¼Œæ‰èƒ½è®¿é—®çš„åˆ°ï¼Œç¯å¢ƒä¸åŒçœŸç³Ÿç³•ã€‚\nè¿˜æœ‰ä¸€ä¸ªæ˜¯å…³äºcategoryçš„é—®é¢˜ï¼Œæ ¹æ®YAMLçš„è¯­æ³•ï¼Œæˆ‘ä»¬åœ¨æ–‡ç« å¤´éƒ¨å¯ä»¥å®šä¹‰æ–‡ç« æ‰€å±çš„ç±»åˆ«ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸ºcategory:[blog,rss]è¿™æ ·å­çš„å¤šç±»åˆ«ï¼Œæˆ‘åœ¨æœ¬åœ°è¯•ä¸€åˆ‡æ­£å¸¸ï¼Œä½†æ˜¯pushåˆ°GitHubä¹‹åï¼Œå°±æ— æ³•è¯»å–äº†ï¼ŒçœŸè®©äººç€æ€¥ï¼Œæ²¡æœ‰åŠæ³•ï¼Œåªèƒ½é‡‡ç”¨åˆ«çš„åŠæ³•æ»¡è¶³æˆ‘çš„éœ€æ±‚äº†ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ç¯‡Jekyll æœ¬åœ°è°ƒè¯•ä¹‹è‹¥å¹²é—®é¢˜ï¼Œå®‰è£…ä¸­å¦‚æœæœ‰å…¶ä»–é—®é¢˜ï¼Œä¹Ÿå¯ä»¥å¯¹ç…§å‚è€ƒä¸€ä¸‹ã€‚\n\r0.8 ç»“è¯­\rå¦‚æœä½ è·Ÿç€è¿™ç¯‡ä¸é‚£ä¹ˆè¯¦å°½çš„æ•™ç¨‹ï¼ŒæˆåŠŸæ­å»ºäº†è‡ªå·±çš„åšå®¢ï¼Œæ­å–œä½ ï¼å‰©ä¸‹çš„å°±æ˜¯ä¿æŒçƒ­æƒ…çš„å»å†™è‡ªå·±çš„æ–‡ç« å§ã€‚\n\r","date":1329868800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1329868800,"objectID":"76a518ee46da497520eacceec7a34bfb","permalink":"/post/2012-02-22-github-pages/","publishdate":"2012-02-22T00:00:00Z","relpermalink":"/post/2012-02-22-github-pages/","section":"post","summary":"0.1 è´­ä¹°ã€ç»‘å®šç‹¬ç«‹åŸŸå 0.2 é…ç½®å’Œä½¿ç”¨Github 0.2.1 1ã€æ£€æŸ¥SSH keysçš„è®¾ç½® 0.2.2 2ã€å¤‡ä»½å’Œç§»é™¤åŸæ¥çš„ssh keyè®¾ç½®ï¼š 0.2.3 3ã€ç”Ÿæˆæ–°çš„SSH Key","tags":["Blog","Chinese"],"title":"ä½¿ç”¨Github Pageså»ºç‹¬ç«‹åšå®¢","type":"post"},{"authors":null,"categories":null,"content":" Introduction MetCleaning provides an integrated and automatic pipeline for data cleaning and statistical analysis of large scale mass spectrometry (MS) based-metabolomic data. It includes missing value (MV) filtering and imputation, zero value filtering, data normalization, data integration, data quality assessment, univariate statistical analysis, multivariate statistical analysis such as PCA and PLS-DA, potential marker selection and show. This document describes how to use the integrated functions, MetClean and MetStat in MetCleaning utilizing demo data.\nInstallation and help MetCleaning is published in github (link). So you can install it via to github.\ncode 1: Installation of MetCleaning\n##pcaMethods and impute should be installed form bioconductor ##pcaMethos source(\u0026quot;http://bioconductor.org/biocLite.R\u0026quot;) biocLite(\u0026quot;pcaMethods\u0026quot;) ##impute source(\u0026quot;http://bioconductor.org/biocLite.R\u0026quot;) biocLite(\u0026quot;impute\u0026quot;) if(!require(devtools)) { install.packages(\u0026quot;devtools\u0026quot;) } library(devtools) install_github(\u0026quot;jaspershen/MetCleaning\u0026quot;) library(MetCleaning) help(package = \u0026quot;MetCleaning\u0026quot;)  Data cleaning Data cleaning is integrated as a function named as MetClean in MetCleaning. We use the demo data as the example. Copy the code below and paste in you R console.\ncode 2: Demo data of MetClean\n##demo data data(data, package = \u0026quot;MetCleaning\u0026quot;) data(sample.information, package = \u0026quot;MetCleaning\u0026quot;) ##demo work directory dir.create(\u0026quot;Demo for MetCleaning\u0026quot;) setwd(\u0026quot;Demo for MetCleaning\u0026quot;) ##write files write.csv(data, \u0026quot;data.csv\u0026quot;, row.names = FALSE) write.csv(sample.information , \u0026quot;sample.information.csv\u0026quot;, row.names = FALSE)  The demo data have been added in your work directory and organized in you work directory as Figure 2 shows. It contains two files, \u0026ldquo;data.csv\u0026rdquo; and \u0026ldquo;sample.information.csv\u0026rdquo;. 1. \u0026ldquo;data.csv\u0026rdquo; is the metabolomic dataset you want to process. Rows are features and columns are feature abundance of samples and information of features. The information of features must contain \u0026ldquo;name\u0026rdquo; (feature name), \u0026ldquo;mz\u0026rdquo; (mass to change ratio) and \u0026ldquo;rt\u0026rdquo; (retention time). Other information of features are optional, for example \u0026ldquo;isotopes\u0026rdquo; and \u0026ldquo;adducts\u0026rdquo;. The name of sample can contain \u0026ldquo;.\u0026rdquo;, but cannot contain \u0026ldquo;-\u0026rdquo; and space. And the start of sample name cannot be number. For example, \u0026ldquo;A210.a\u0026rdquo; and \u0026ldquo;A210a\u0026rdquo; are valid, and \u0026ldquo;210a\u0026rdquo; or \u0026ldquo;210-a\u0026rdquo; are invalid. 2. \u0026ldquo;sample.information.csv\u0026rdquo; is sample information for metabolomic dataset. Column 1 is \u0026ldquo;sample.name\u0026rdquo; which is the names of subject and QC samples. Please confirm that the sample names in \u0026ldquo;sample.information.csv\u0026rdquo; and \u0026ldquo;data.csv\u0026rdquo; are completely same. Column 2 is \u0026ldquo;injection.order\u0026rdquo; which is the injection order of QC and subject samples. Column 3 is \u0026ldquo;class\u0026rdquo;, which is used to distinguish \u0026ldquo;QC\u0026rdquo; and \u0026ldquo;Subject\u0026rdquo; samples. Column 4 is \u0026ldquo;batch\u0026rdquo; to provide acquisition batch information for samples. Column 5 is \u0026ldquo;group\u0026rdquo;, which is used to label the group of subject sample, for example, \u0026ldquo;control\u0026rdquo; and \u0026ldquo;case\u0026rdquo;. The \u0026ldquo;group\u0026rdquo; of QC samples is labeled as \u0026ldquo;QC\u0026rdquo;.\nThen you can run MetClean function to do data cleaning of data. All the arguments of MetClean can be found in the other functions in MetCleaning. You can use help(package = \u0026ldquo;MetCleaning\u0026rdquo;) to see the help page of MetCleaning.\ncode 3: Running of MetClean\n##demo data MetClean(polarity = \u0026quot;positive\u0026quot;)  Running results of MetClean 1.Missing or zero values filtering. In the missing or zero value filtering step, if there are samples which beyond the threshold you set, you should decide to filter them or not. We recommend to remove all of them as Figure 3 shows.\n2.Sample filtering. In the QC or subject sample filtering step (based on PCA), if there are samples which beyond the threshold you set, you should decide to filter them or not. We don\u0026rsquo;t recommend to remove them as Figure 4 shows, because they should be consired combined other information.\n3.Output files. Output files of MetClean are listed as Figure 5 shows. (1) \u0026ldquo;1MV overview\u0026rdquo;, \u0026ldquo;2MV filter\u0026rdquo;, \u0026ldquo;3Zero overview\u0026rdquo; and \u0026ldquo;4Zero filter\u0026rdquo; are missing and zero values filtering information. (2) \u0026ldquo;5QC outlier filter\u0026rdquo; and \u0026ldquo;6Subject outlier filter\u0026rdquo; are sample filtering based on PCA information. (3) \u0026ldquo;7Normalization result\u0026rdquo; is the data normalization information for each batch. (4) \u0026ldquo;8Batch effect\u0026rdquo; is the batch effect both in before and after data cleaning. (5) \u0026ldquo;9metabolite plot\u0026rdquo; is the scatter plot for each feature. (6) \u0026ldquo;10Data overview\u0026rdquo; is the overview of data. (7) \u0026ldquo;11RSD overview\u0026rdquo; is the RSD distribution for each batch both before and after data cleaning. (8) \u0026ldquo;data_after_pre.csv\u0026rdquo;, \u0026ldquo;qc.info.csv\u0026rdquo; and \u0026ldquo;subject.info\u0026rdquo; are the data and sample information after data cleaning. (9) \u0026ldquo;intermediate\u0026rdquo; is the intermediate data during processing.\nStatistical analysis Data statistical analysis is integrated as a function named as MetStat in MetCleaning. We use the demo data as the example. Please note that now MetStat can only process two class data. Copy the code below and paste in you R console.\ncode 4: Demo data of MetStat\ndata(\u0026quot;met.data.after.pre\u0026quot;, package = \u0026quot;MetCleaning\u0026quot;) data(new.group, package = \u0026quot;MetCleaning\u0026quot;) ##create a folder for MetStat demo dir.create(\u0026quot;Demo for MetStat\u0026quot;) setwd(\u0026quot;Demo for MetStat\u0026quot;) ## export the demo data as csv write.csv(new.group, \u0026quot;new.group.csv\u0026quot;, row.names = FALSE)  The demo data have been added in your work directory. \u0026ldquo;new.group.csv\u0026rdquo; is a sample.information which has been changed the group information you want to use for statistical analysis. For the sample which you don\u0026rsquo;t want to use them for statistical analysis, you can set they group information as NA like Figure 6 shows.\ncode 5: Running of MetStat\nMetStat(MetFlowData = met.data.after.pre, new.group = TRUE)  Running results of MetStat 1.Sample removing. Firstly, you need to confirm the samples which you want to remove form dataset as Figure 7 shows.\n2.Number of component selection in PLS-DA analysis. In PLS-DA analysis, you should manually select the best choice of the number of component. When the Console show \u0026ldquo;How many comps do you want to see?\u0026rdquo;, you can type 10 and enter \u0026ldquo;Enter\u0026rdquo; key. Then a MSE plot is showing, and the best number of component is the one has the smallest CV values. So type the number (in this example is 4) and enter \u0026ldquo;Enter\u0026rdquo; key.\n3.Output files. Output files of MetStat are listed as Figure 9 shows. (1) \u0026ldquo;12PCA analysis\u0026rdquo; is the PCA score plot. (2) \u0026ldquo;13PLS analysis\u0026rdquo; contains the PLS-DA results. (3) \u0026ldquo;14heatmap\u0026rdquo; is the heatmap. (4) \u0026ldquo;15marker selection\u0026rdquo; contains the information of markers, volcano plot and boxplots of markers. (5) \u0026ldquo;data_after_stat.csv\u0026rdquo;, \u0026ldquo;qc.info.csv\u0026rdquo; and \u0026ldquo;subject.info\u0026rdquo; are the data and sample information after statistical analysis. (6) \u0026ldquo;intermediate\u0026rdquo; is the intermediate data during processing.\n","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"89f470a1ce5ae9218b78de70a7aabbd0","permalink":"/post/2016-11-25-metcleaning/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/post/2016-11-25-metcleaning/","section":"post","summary":"Introduction MetCleaning provides an integrated and automatic pipeline for data cleaning and statistical analysis of large scale mass spectrometry (MS) based-metabolomic data. It includes missing value (MV) filtering and imputation, zero value filtering, data normalization, data integration, data quality assessment, univariate statistical analysis, multivariate statistical analysis such as PCA and PLS-DA, potential marker selection and show. This document describes how to use the integrated functions, MetClean and MetStat in MetCleaning utilizing demo data.","tags":null,"title":"MetCleaning instruction","type":"post"},{"authors":["Xiaotao Shen PhD","Others","Zheng-Jiang Zhu"],"categories":null,"content":"","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"712744e1d0e94e0e40b39dbf3ed057b1","permalink":"/publication/journal-article/taozhang_metabolomics/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/publication/journal-article/taozhang_metabolomics/","section":"publication","summary":"Untargeted metabolomics studies for biomarker discovery often have hundreds to thousands of human samples. Data acquisition of large-scale samples has to be divided into several batches and may span from months to as long as several years. The signal drift of metabolites during data acquisition (intra- and inter-batch) is unavoidable and is a major confounding factor for large-scale metabolomics studies. We aim to develop a data normalization method to reduce unwanted variations and integrate multiple batches in large-scale metabolomics studies prior to statistical analyses. We developed a machine learning algorithm-based method, support vector regression (SVR), for large-scale metabolomics data normalization and integration. An R package named MetNormalizer was developed and provided for data processing using SVR normalization. After SVR normalization, the portion of metabolite ion peaks with relative standard deviations (RSDs) less than 30 % increased to more than 90 % of the total peaks, which is much better than other common normalization methods. The reduction of unwanted analytical variations helps to improve the performance of multivariate statistical analyses, both unsupervised and supervised, in terms of classification and prediction accuracy so that subtle metabolic changes in epidemiological studies can be detected. SVR normalization can effectively remove the unwanted intra- and inter-batch variations, and is much better than other common normalization methods.","tags":["Metabolomics","Data cleaning","Software"],"title":"Normalization and integration of large-scale metabolomics data using support vector regression","type":"publication"},{"authors":null,"categories":null,"content":" Githubå¾ˆå¥½çš„å°†ä»£ç å’Œç¤¾åŒºè”ç³»åœ¨äº†ä¸€èµ·ï¼Œäºæ˜¯å‘ç”Ÿäº†å¾ˆå¤šæœ‰è¶£çš„äº‹æƒ…ï¼Œä¸–ç•Œä¹Ÿå› ä¸ºä»–ç¾å¥½äº†ä¸€ç‚¹ç‚¹ã€‚Githubä½œä¸ºç°åœ¨æœ€æµè¡Œçš„ä»£ç ä»“åº“ï¼Œå·²ç»å¾—åˆ°å¾ˆå¤šå¤§å…¬å¸å’Œé¡¹ç›®çš„é’çï¼Œæ¯”å¦‚jQueryã€Twitterç­‰ã€‚ä¸ºä½¿é¡¹ç›®æ›´æ–¹ä¾¿çš„è¢«äººç†è§£ï¼Œä»‹ç»é¡µé¢å°‘ä¸äº†ï¼Œç”šè‡³ä¼šéœ€è¦å®Œæ•´çš„æ–‡æ¡£ç«™ï¼ŒGithubæ›¿ä½ æƒ³åˆ°äº†è¿™ä¸€ç‚¹ï¼Œä»–æä¾›äº†Github Pagesçš„æœåŠ¡ï¼Œä¸ä»…å¯ä»¥æ–¹ä¾¿çš„ä¸ºé¡¹ç›®å»ºç«‹ä»‹ç»ç«™ç‚¹ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å»ºç«‹ä¸ªäººåšå®¢ã€‚\nGithub Pagesæœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š\n è½»é‡çº§çš„åšå®¢ç³»ç»Ÿï¼Œæ²¡æœ‰éº»çƒ¦çš„é…ç½® ä½¿ç”¨æ ‡è®°è¯­è¨€ï¼Œæ¯”å¦‚Markdown æ— éœ€è‡ªå·±æ­å»ºæœåŠ¡å™¨ æ ¹æ®Githubçš„é™åˆ¶ï¼Œå¯¹åº”çš„æ¯ä¸ªç«™æœ‰300MBç©ºé—´ å¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸå  å½“ç„¶ä»–ä¹Ÿæœ‰ç¼ºç‚¹ï¼š\n ä½¿ç”¨Jekyllæ¨¡æ¿ç³»ç»Ÿï¼Œç›¸å½“äºé™æ€é¡µå‘å¸ƒï¼Œé€‚åˆåšå®¢ï¼Œæ–‡æ¡£ä»‹ç»ç­‰ã€‚ åŠ¨æ€ç¨‹åºçš„éƒ¨åˆ†ç›¸å½“å±€é™ï¼Œæ¯”å¦‚æ²¡æœ‰è¯„è®ºï¼Œä¸è¿‡è¿˜å¥½æˆ‘ä»¬æœ‰è§£å†³æ–¹æ¡ˆã€‚ åŸºäºGitï¼Œå¾ˆå¤šä¸œè¥¿éœ€è¦åŠ¨æ‰‹ï¼Œä¸åƒWordpressæœ‰å¼ºå¤§çš„åå°  å¤§è‡´ä»‹ç»åˆ°æ­¤ï¼Œä½œä¸ºä¸ªäººåšå®¢æ¥è¯´ï¼Œç®€æ´æ¸…çˆ½çš„è¡¨è¾¾è‡ªå·±çš„å·¥ä½œã€å¿ƒå¾—ï¼Œå°±å·²è¾¾ç›®æ ‡ï¼Œæ‰€ä»¥Github Pagesæ˜¯æˆ‘è®¤ä¸ºæ­¤éœ€æ±‚æœ€å®Œç¾çš„è§£å†³æ–¹æ¡ˆäº†ã€‚\nè´­ä¹°ã€ç»‘å®šç‹¬ç«‹åŸŸå è™½è¯´Godaddyæ›¾æ”¯æŒè¿‡SOPAï¼Œå¹¶ä¸”é¦–é¡µæ”¾ç€æå…¶ä¸ä¸“ä¸šçš„å¤§èƒ¸ç¾å¥³ï¼Œä½†æ˜¯ä½œä¸ºåŸŸåæœåŠ¡å•†ä»–åšçš„è¿˜ä¸èµ–ï¼Œé€‰æ‹©å®ƒæœ€é‡è¦çš„åŸå› æ˜¯ä»–æ”¯æŒæ”¯ä»˜å®ï¼Œæ²¡æœ‰ä¿¡ç”¨å¡æœ‰æ—¶çœŸçš„å¾ˆéš¾è¿‡ã€‚\nåŸŸåçš„è´­ä¹°ä¸ç”¨å¤šè®²ï¼Œæ³¨å†Œã€é€‰åŸŸåã€æ”¯ä»˜ï¼Œæœ‰ç½‘è´­ç»éªŒçš„éƒ½æ¯«æ— å‹åŠ›ï¼Œä¼˜æƒ ç ä¹Ÿéåœ°çš†æ˜¯ã€‚åŸŸåçš„é…ç½®éœ€è¦æé†’ä¸€ä¸‹ï¼Œå› ä¸ºä¼Ÿå¤§è‹±æ˜çš„GFWçš„å­˜åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»å¤šåšäº›äº‹æƒ…ã€‚\næµä¼ Godaddyçš„åŸŸåè§£ææœåŠ¡å™¨è¢«å¢™æ‰ï¼Œå¯¼è‡´åŸŸåæ— æ³•è®¿é—®ï¼Œåæ¥è¿™ä¸ªäº‹æƒ…åœ¨BeiYuuä¹Ÿå‘ç”Ÿäº†ï¼Œä¸å¾—å·²éœ€è¦æŠŠåŸŸåè§£ææœåŠ¡è¿ç§»åˆ°å›½å†…æ¯”è¾ƒç¨³å®šçš„æœåŠ¡å•†å¤„ï¼Œè¿™ä¸ªè¿ç§»å¯¹äºåŸŸåæ¥è¯´æ²¡æœ‰ä»€ä¹ˆé£é™©ï¼Œæœ€ç»ˆçš„æ§åˆ¶æƒè¿˜æ˜¯åœ¨Godaddyé‚£é‡Œï¼Œä½ éšæ—¶éƒ½å¯ä»¥æ”¹å›å»ã€‚\næˆ‘ä»¬é€‰æ‹©DNSPodçš„æœåŠ¡ï¼Œä»–ä»¬çš„äº§å“åšå¾—ä¸é”™ï¼Œæ˜“ç”¨ã€å…è´¹ï¼Œæ”¶è´¹ç‰ˆæœ‰æ›´é«˜ç«¯çš„åŠŸèƒ½ï¼Œæš‚ä¸éœ€è¦ã€‚æ³¨å†Œç™»å½•ä¹‹åï¼ŒæŒ‰ç…§DNSPodçš„è¯´æ³•ï¼Œåªéœ€ä¸‰æ­¥ï¼ˆæˆ‘ä»¬æ’å…¥ä¸€æ­¥ï¼‰ï¼š\n é¦–å…ˆæ·»åŠ åŸŸåè®°å½•ï¼Œå¯å‚è€ƒDNSPodçš„å¸®åŠ©æ–‡æ¡£ï¼šhttps://www.dnspod.cn/Support åœ¨DNSPodè‡ªå·±çš„åŸŸåä¸‹æ·»åŠ ä¸€æ¡Aè®°å½•ï¼Œåœ°å€å°±æ˜¯Github Pagesçš„æœåŠ¡IPåœ°å€ï¼š207.97.227.245 åœ¨åŸŸåæ³¨å†Œå•†å¤„ä¿®æ”¹DNSæœåŠ¡:å»Godaddyä¿®æ”¹Nameserversä¸ºè¿™ä¸¤ä¸ªåœ°å€ï¼šf1g1ns1.dnspod.netã€f1g1ns2.dnspod.netã€‚å¦‚æœä½ ä¸æ˜ç™½åœ¨å“ªé‡Œä¿®æ”¹ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œï¼šGodaddyæ³¨å†Œçš„åŸŸåå¦‚ä½•ä½¿ç”¨DNSPod ç­‰å¾…åŸŸåè§£æç”Ÿæ•ˆ  åŸŸåçš„é…ç½®éƒ¨åˆ†å®Œæˆï¼Œè·ªè°¢æ–¹æ ¡é•¿ã€‚\né…ç½®å’Œä½¿ç”¨Github Gitæ˜¯ç‰ˆæœ¬ç®¡ç†çš„æœªæ¥ï¼Œä»–çš„ä¼˜ç‚¹æˆ‘ä¸å†èµ˜è¿°ï¼Œç›¸å…³èµ„æ–™å¾ˆå¤šã€‚æ¨èè¿™æœ¬Gitä¸­æ–‡æ•™ç¨‹ã€‚\nè¦ä½¿ç”¨Gitï¼Œéœ€è¦å®‰è£…å®ƒçš„å®¢æˆ·ç«¯ï¼Œæ¨èåœ¨Linuxä¸‹ä½¿ç”¨Gitï¼Œä¼šæ¯”è¾ƒæ–¹ä¾¿ã€‚Windowsç‰ˆçš„ä¸‹è½½åœ°å€åœ¨è¿™é‡Œï¼šhttp://code.google.com/p/msysgit/downloads/listã€‚å…¶ä»–ç³»ç»Ÿçš„å®‰è£…ä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„å®‰è£…æ•™ç¨‹ã€‚\nä¸‹è½½å®‰è£…å®¢æˆ·ç«¯ä¹‹åï¼Œå„ä¸ªç³»ç»Ÿçš„é…ç½®å°±ç±»ä¼¼äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨windowsä½œä¸ºä¾‹å­ï¼ŒLinuxå’ŒMacä¸æ­¤ç±»ä¼¼ã€‚\nåœ¨Windowsä¸‹ï¼Œæ‰“å¼€Git Bashï¼Œå…¶ä»–ç³»ç»Ÿä¸‹é¢åˆ™æ‰“å¼€ç»ˆç«¯ï¼ˆTerminalï¼‰ï¼š 1ã€æ£€æŸ¥SSH keysçš„è®¾ç½® é¦–å…ˆæˆ‘ä»¬éœ€è¦æ£€æŸ¥ä½ ç”µè„‘ä¸Šç°æœ‰çš„ssh keyï¼š\n$ cd ~/.ssh  å¦‚æœæ˜¾ç¤ºâ€œNo such file or directoryâ€ï¼Œè·³åˆ°ç¬¬ä¸‰æ­¥ï¼Œå¦åˆ™ç»§ç»­ã€‚\n2ã€å¤‡ä»½å’Œç§»é™¤åŸæ¥çš„ssh keyè®¾ç½®ï¼š å› ä¸ºå·²ç»å­˜åœ¨keyæ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦å¤‡ä»½æ—§çš„æ•°æ®å¹¶åˆ é™¤ï¼š\n$ ls config id_rsa id_rsa.pub known_hosts $ mkdir key_backup $ cp id_rsa* key_backup $ rm id_rsa*  3ã€ç”Ÿæˆæ–°çš„SSH Keyï¼š è¾“å…¥ä¸‹é¢çš„ä»£ç ï¼Œå°±å¯ä»¥ç”Ÿæˆæ–°çš„keyæ–‡ä»¶ï¼Œæˆ‘ä»¬åªéœ€è¦é»˜è®¤è®¾ç½®å°±å¥½ï¼Œæ‰€ä»¥å½“éœ€è¦è¾“å…¥æ–‡ä»¶åçš„æ—¶å€™ï¼Œå›è½¦å°±å¥½ã€‚\n$ ssh-keygen -t rsa -C \u0026quot;é‚®ä»¶åœ°å€@youremail.com\u0026quot; Generating public/private rsa key pair. Enter file in which to save the key (/Users/your_user_directory/.ssh/id_rsa):\u0026lt;å›è½¦å°±å¥½\u0026gt;  ç„¶åç³»ç»Ÿä¼šè¦ä½ è¾“å…¥åŠ å¯†ä¸²ï¼ˆPassphraseï¼‰ï¼š\nEnter passphrase (empty for no passphrase):\u0026lt;è¾“å…¥åŠ å¯†ä¸²\u0026gt; Enter same passphrase again:\u0026lt;å†æ¬¡è¾“å…¥åŠ å¯†ä¸²\u0026gt;  æœ€åçœ‹åˆ°è¿™æ ·çš„ç•Œé¢ï¼Œå°±æˆåŠŸè®¾ç½®ssh keyäº†ï¼š 4ã€æ·»åŠ SSH Keyåˆ°GitHubï¼š åœ¨æœ¬æœºè®¾ç½®SSH Keyä¹‹åï¼Œéœ€è¦æ·»åŠ åˆ°GitHubä¸Šï¼Œä»¥å®ŒæˆSSHé“¾æ¥çš„è®¾ç½®ã€‚\nç”¨æ–‡æœ¬ç¼–è¾‘å·¥å…·æ‰“å¼€id_rsa.pubæ–‡ä»¶ï¼Œå¦‚æœçœ‹ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œä½ éœ€è¦è®¾ç½®æ˜¾ç¤ºéšè—æ–‡ä»¶ã€‚å‡†ç¡®çš„å¤åˆ¶è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæ‰èƒ½ä¿è¯è®¾ç½®çš„æˆåŠŸã€‚\nåœ¨GitHubçš„ä¸»é¡µä¸Šç‚¹å‡»è®¾ç½®æŒ‰é’®ï¼š é€‰æ‹©SSH Keysé¡¹ï¼ŒæŠŠå¤åˆ¶çš„å†…å®¹ç²˜è´´è¿›å»ï¼Œç„¶åç‚¹å‡»Add KeyæŒ‰é’®å³å¯ï¼š PSï¼šå¦‚æœéœ€è¦é…ç½®å¤šä¸ªGitHubè´¦å·ï¼Œå¯ä»¥å‚çœ‹è¿™ä¸ªå¤šä¸ªgithubå¸å·çš„SSH keyåˆ‡æ¢ï¼Œä¸è¿‡éœ€è¦æé†’ä¸€ä¸‹çš„æ˜¯ï¼Œå¦‚æœä½ åªæ˜¯é€šè¿‡è¿™ç¯‡æ–‡ç« ä¸­æ‰€è¿°é…ç½®äº†Hostï¼Œé‚£ä¹ˆä½ å¤šä¸ªè´¦å·ä¸‹é¢çš„æäº¤ç”¨æˆ·ä¼šæ˜¯ä¸€ä¸ªäººï¼Œæ‰€ä»¥éœ€è¦é€šè¿‡å‘½ä»¤git config --global --unset user.emailåˆ é™¤ç”¨æˆ·è´¦æˆ·è®¾ç½®ï¼Œåœ¨æ¯ä¸€ä¸ªrepoä¸‹é¢ä½¿ç”¨git config --local user.email 'ä½ çš„githubé‚®ç®±@mail.com' å‘½ä»¤å•ç‹¬è®¾ç½®ç”¨æˆ·è´¦æˆ·ä¿¡æ¯\n5ã€æµ‹è¯•ä¸€ä¸‹ å¯ä»¥è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œçœ‹çœ‹è®¾ç½®æ˜¯å¦æˆåŠŸï¼Œgit@github.comçš„éƒ¨åˆ†ä¸è¦ä¿®æ”¹ï¼š\n$ ssh -T git@github.com  å¦‚æœæ˜¯ä¸‹é¢çš„ååº”ï¼š\nThe authenticity of host 'github.com (207.97.227.239)' can't be established. RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48. Are you sure you want to continue connecting (yes/no)?  ä¸è¦ç´§å¼ ï¼Œè¾“å…¥yeså°±å¥½ï¼Œç„¶åä¼šçœ‹åˆ°ï¼š\nHi \u0026lt;em\u0026gt;username\u0026lt;/em\u0026gt;! You've successfully authenticated, but GitHub does not provide shell access.  6ã€è®¾ç½®ä½ çš„è´¦å·ä¿¡æ¯ ç°åœ¨ä½ å·²ç»å¯ä»¥é€šè¿‡SSHé“¾æ¥åˆ°GitHubäº†ï¼Œè¿˜æœ‰ä¸€äº›ä¸ªäººä¿¡æ¯éœ€è¦å®Œå–„çš„ã€‚\nGitä¼šæ ¹æ®ç”¨æˆ·çš„åå­—å’Œé‚®ç®±æ¥è®°å½•æäº¤ã€‚GitHubä¹Ÿæ˜¯ç”¨è¿™äº›ä¿¡æ¯æ¥åšæƒé™çš„å¤„ç†ï¼Œè¾“å…¥ä¸‹é¢çš„ä»£ç è¿›è¡Œä¸ªäººä¿¡æ¯çš„è®¾ç½®ï¼ŒæŠŠåç§°å’Œé‚®ç®±æ›¿æ¢æˆä½ è‡ªå·±çš„ï¼Œåå­—å¿…é¡»æ˜¯ä½ çš„çœŸåï¼Œè€Œä¸æ˜¯GitHubçš„æ˜µç§°ã€‚\n$ git config --global user.name \u0026quot;ä½ çš„åå­—\u0026quot; $ git config --global user.email \u0026quot;your_email@youremail.com\u0026quot;  è®¾ç½®GitHubçš„token 2012-4-28è¡¥å……ï¼šæ–°ç‰ˆçš„æ¥å£å·²ç»ä¸éœ€è¦é…ç½®tokenäº†ï¼Œæ‰€ä»¥ä¸‹é¢è¿™æ®µå¯ä»¥è·³è¿‡äº†\næœ‰äº›å·¥å…·æ²¡æœ‰é€šè¿‡SSHæ¥é“¾æ¥GitHubã€‚å¦‚æœè¦ä½¿ç”¨è¿™ç±»å·¥å…·ï¼Œä½ éœ€è¦æ‰¾åˆ°ç„¶åè®¾ç½®ä½ çš„API Tokenã€‚\nåœ¨GitHubä¸Šï¼Œä½ å¯ä»¥ç‚¹å‡»*Account Setting \u0026gt; Account Admin*ï¼š ç„¶ååœ¨ä½ çš„å‘½ä»¤è¡Œä¸­ï¼Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼ŒæŠŠtokenæ·»åŠ è¿›å»ï¼š\n$ git config --global user.name \u0026quot;ä½ çš„åå­—\u0026quot; $ git config --global user.token 0123456789your123456789token  å¦‚æœä½ æ”¹äº†GitHubçš„å¯†ç ï¼Œéœ€è¦é‡æ–°è®¾ç½®tokenã€‚\næˆåŠŸäº† å¥½äº†ï¼Œä½ å·²ç»å¯ä»¥æˆåŠŸè¿æ¥GitHubäº†ã€‚\nä½¿ç”¨GitHub Pageså»ºç«‹åšå®¢ ä¸GitHubå»ºç«‹å¥½é“¾æ¥ä¹‹åï¼Œå°±å¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨å®ƒæä¾›çš„PagesæœåŠ¡ï¼ŒGitHub Pagesåˆ†ä¸¤ç§ï¼Œä¸€ç§æ˜¯ä½ çš„GitHubç”¨æˆ·åå»ºç«‹çš„username.github.ioè¿™æ ·çš„ç”¨æˆ·\u0026amp;ç»„ç»‡é¡µï¼ˆç«™ï¼‰ï¼Œå¦ä¸€ç§æ˜¯ä¾é™„é¡¹ç›®çš„pagesã€‚\nUser \u0026amp; Organization Pages æƒ³å»ºç«‹ä¸ªäººåšå®¢æ˜¯ç”¨çš„ç¬¬ä¸€ç§ï¼Œå½¢å¦‚beiyuu.github.ioè¿™æ ·çš„å¯è®¿é—®çš„ç«™ï¼Œæ¯ä¸ªç”¨æˆ·åä¸‹é¢åªèƒ½å»ºç«‹ä¸€ä¸ªï¼Œåˆ›å»ºä¹‹åç‚¹å‡»Adminè¿›å…¥é¡¹ç›®ç®¡ç†ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯è¿™æ ·çš„ï¼š è€Œæ™®é€šçš„é¡¹ç›®æ˜¯è¿™æ ·çš„ï¼Œå³ä½¿ä½ ä¹Ÿæ˜¯ç”¨çš„othername.github.ioï¼š åˆ›å»ºå¥½username.github.ioé¡¹ç›®ä¹‹åï¼Œæäº¤ä¸€ä¸ªindex.htmlæ–‡ä»¶ï¼Œç„¶åpushåˆ°GitHubçš„masteråˆ†æ”¯ï¼ˆä¹Ÿå°±æ˜¯æ™®é€šæ„ä¹‰ä¸Šçš„ä¸»å¹²ï¼‰ã€‚ç¬¬ä¸€æ¬¡é¡µé¢ç”Ÿæ•ˆéœ€è¦ä¸€äº›æ—¶é—´ï¼Œå¤§æ¦‚10åˆ†é’Ÿå·¦å³ã€‚\nç”Ÿæ•ˆä¹‹åï¼Œè®¿é—®username.github.ioå°±å¯ä»¥çœ‹åˆ°ä½ ä¸Šä¼ çš„é¡µé¢äº†ï¼Œbeiyuu.github.ioå°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚\nå…³äºç¬¬äºŒç§é¡¹ç›®pagesï¼Œç®€å•æä¸€ä¸‹ï¼Œä»–å’Œç”¨æˆ·pagesä½¿ç”¨çš„åå°ç¨‹åºæ˜¯åŒä¸€å¥—ï¼Œåªä¸è¿‡å®ƒçš„ç›®çš„æ˜¯é¡¹ç›®çš„å¸®åŠ©æ–‡æ¡£ç­‰è·Ÿé¡¹ç›®ç»‘å®šçš„å†…å®¹ï¼Œæ‰€ä»¥éœ€è¦åœ¨é¡¹ç›®çš„gh-pagesåˆ†æ”¯ä¸Šå»æäº¤ç›¸åº”çš„æ–‡ä»¶ï¼ŒGitHubä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆé¡¹ç›®pagesã€‚å…·ä½“çš„ä½¿ç”¨å¸®åŠ©å¯ä»¥å‚è€ƒGithub Pagesçš„å®˜æ–¹æ–‡æ¡£ï¼š\nç»‘å®šåŸŸå æˆ‘ä»¬åœ¨ç¬¬ä¸€éƒ¨åˆ†å°±æåˆ°äº†åœ¨DNSéƒ¨åˆ†çš„è®¾ç½®ï¼Œå†æ¥çœ‹åœ¨GitHubçš„é…ç½®ï¼Œè¦æƒ³è®©username.github.ioèƒ½é€šè¿‡ä½ è‡ªå·±çš„åŸŸåæ¥è®¿é—®ï¼Œéœ€è¦åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸ºCNAMEçš„æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å½¢å¦‚ï¼š\nbeiyuu.com  ä½ ä¹Ÿå¯ä»¥ç»‘å®šåœ¨äºŒçº§åŸŸåä¸Šï¼š\nblog.beiyuu.com  éœ€è¦æé†’çš„ä¸€ç‚¹æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨å½¢å¦‚beiyuu.comè¿™æ ·çš„ä¸€çº§åŸŸåçš„è¯ï¼Œéœ€è¦åœ¨DNSå¤„è®¾ç½®Aè®°å½•åˆ°207.97.227.245ï¼ˆè¿™ä¸ªåœ°å€ä¼šæœ‰å˜åŠ¨ï¼Œè¿™é‡ŒæŸ¥çœ‹ï¼‰ï¼Œè€Œä¸æ˜¯åœ¨DNSå¤„è®¾ç½®ä¸ºCNAMEçš„å½¢å¼ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¹å…¶ä»–æœåŠ¡ï¼ˆæ¯”å¦‚emailï¼‰é€ æˆå½±å“ã€‚\nè®¾ç½®æˆåŠŸåï¼Œæ ¹æ®DNSçš„æƒ…å†µï¼Œæœ€é•¿å¯èƒ½éœ€è¦ä¸€å¤©æ‰èƒ½ç”Ÿæ•ˆï¼Œè€å¿ƒç­‰å¾…å§ã€‚\nJekyllæ¨¡æ¿ç³»ç»Ÿ GitHub Pagesä¸ºäº†æä¾›å¯¹HTMLå†…å®¹çš„æ”¯æŒï¼Œé€‰æ‹©äº†Jekyllä½œä¸ºæ¨¡æ¿ç³»ç»Ÿï¼ŒJekyllæ˜¯ä¸€ä¸ªå¼ºå¤§çš„é™æ€æ¨¡æ¿ç³»ç»Ÿï¼Œä½œä¸ºä¸ªäººåšå®¢ä½¿ç”¨ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³è¦æ±‚ï¼Œä¹Ÿèƒ½ä¿æŒç®¡ç†çš„æ–¹ä¾¿ï¼Œä½ å¯ä»¥æŸ¥çœ‹Jekyllå®˜æ–¹æ–‡æ¡£ã€‚\nä½ å¯ä»¥ç›´æ¥forkæˆ‘çš„é¡¹ç›®ï¼Œç„¶åæ”¹åï¼Œå°±æœ‰äº†ä½ è‡ªå·±çš„æ»¡è¶³Jekyllè¦æ±‚çš„æ–‡æ¡£äº†ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æŒ‰ç…§ä¸‹é¢çš„ä»‹ç»è‡ªå·±åˆ›å»ºã€‚\nJekyllåŸºæœ¬ç»“æ„ Jekyllçš„æ ¸å¿ƒå…¶å®å°±æ˜¯ä¸€ä¸ªæ–‡æœ¬çš„è½¬æ¢å¼•æ“ï¼Œç”¨ä½ æœ€å–œæ¬¢çš„æ ‡è®°è¯­è¨€å†™æ–‡æ¡£ï¼Œå¯ä»¥æ˜¯Markdownã€Textileæˆ–è€…HTMLç­‰ç­‰ï¼Œå†é€šè¿‡layoutå°†æ–‡æ¡£æ‹¼è£…èµ·æ¥ï¼Œæ ¹æ®ä½ è®¾ç½®çš„URLè§„åˆ™æ¥å±•ç°ï¼Œè¿™äº›éƒ½æ˜¯é€šè¿‡ä¸¥æ ¼çš„é…ç½®æ–‡ä»¶æ¥å®šä¹‰ï¼Œæœ€ç»ˆçš„äº§å‡ºå°±æ˜¯webé¡µé¢ã€‚\nåŸºæœ¬çš„Jekyllç»“æ„å¦‚ä¸‹ï¼š\n|-- _config.yml |-- _includes |-- _layouts | |-- default.html | `-- post.html |-- _posts | |-- 2007-10-29-why-every-programmer-should-play-nethack.textile | `-- 2009-04-26-barcamp-boston-4-roundup.textile |-- _site `-- index.html  ç®€å•ä»‹ç»ä¸€ä¸‹ä»–ä»¬çš„ä½œç”¨ï¼š\n_config.yml é…ç½®æ–‡ä»¶ï¼Œç”¨æ¥å®šä¹‰ä½ æƒ³è¦çš„æ•ˆæœï¼Œè®¾ç½®ä¹‹åå°±ä¸ç”¨å…³å¿ƒäº†ã€‚\n_includes å¯ä»¥ç”¨æ¥å­˜æ”¾ä¸€äº›å°çš„å¯å¤ç”¨çš„æ¨¡å—ï¼Œæ–¹ä¾¿é€šè¿‡{ % include file.ext %}ï¼ˆå»æ‰å‰ä¸¤ä¸ª{ä¸­æˆ–è€…{ä¸%ä¸­çš„ç©ºæ ¼ï¼Œä¸‹åŒï¼‰çµæ´»çš„è°ƒç”¨ã€‚è¿™æ¡å‘½ä»¤ä¼šè°ƒç”¨_includes/file.extæ–‡ä»¶ã€‚\n_layouts è¿™æ˜¯æ¨¡æ¿æ–‡ä»¶å­˜æ”¾çš„ä½ç½®ã€‚æ¨¡æ¿éœ€è¦é€šè¿‡YAML front matteræ¥å®šä¹‰ï¼Œåé¢ä¼šè®²åˆ°ï¼Œ{ { content }}æ ‡è®°ç”¨æ¥å°†æ•°æ®æ’å…¥åˆ°è¿™äº›æ¨¡æ¿ä¸­æ¥ã€‚\n_posts ä½ çš„åŠ¨æ€å†…å®¹ï¼Œä¸€èˆ¬æ¥è¯´å°±æ˜¯ä½ çš„åšå®¢æ­£æ–‡å­˜æ”¾çš„æ–‡ä»¶å¤¹ã€‚ä»–çš„å‘½åæœ‰ä¸¥æ ¼çš„è§„å®šï¼Œå¿…é¡»æ˜¯2012-02-22-artical-title.MARKUPè¿™æ ·çš„å½¢å¼ï¼ŒMARKUPæ˜¯ä½ æ‰€ä½¿ç”¨æ ‡è®°è¯­è¨€çš„æ–‡ä»¶åç¼€åï¼Œæ ¹æ®_config.ymlä¸­è®¾å®šçš„é“¾æ¥è§„åˆ™ï¼Œå¯ä»¥æ ¹æ®ä½ çš„æ–‡ä»¶åçµæ´»è°ƒæ•´ï¼Œæ–‡ç« çš„æ—¥æœŸå’Œæ ‡è®°è¯­è¨€åç¼€ä¸æ–‡ç« çš„æ ‡é¢˜çš„ç‹¬ç«‹çš„ã€‚\n_site è¿™ä¸ªæ˜¯Jekyllç”Ÿæˆçš„æœ€ç»ˆçš„æ–‡æ¡£ï¼Œä¸ç”¨å»å…³å¿ƒã€‚æœ€å¥½æŠŠä»–æ”¾åœ¨ä½ çš„.gitignoreæ–‡ä»¶ä¸­å¿½ç•¥å®ƒã€‚\nå…¶ä»–æ–‡ä»¶å¤¹ ä½ å¯ä»¥åˆ›å»ºä»»ä½•çš„æ–‡ä»¶å¤¹ï¼Œåœ¨æ ¹ç›®å½•ä¸‹é¢ä¹Ÿå¯ä»¥åˆ›å»ºä»»ä½•æ–‡ä»¶ï¼Œå‡è®¾ä½ åˆ›å»ºäº†projectæ–‡ä»¶å¤¹ï¼Œä¸‹é¢æœ‰ä¸€ä¸ªgithub-pages.mdçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥é€šè¿‡yoursite.com/project/github-pagesè®¿é—®çš„åˆ°ï¼Œå¦‚æœä½ æ˜¯ä½¿ç”¨ä¸€çº§åŸŸåçš„è¯ã€‚æ–‡ä»¶åç¼€å¯ä»¥æ˜¯.htmlæˆ–è€…markdownæˆ–è€…textileã€‚è¿™é‡Œè¿˜æœ‰å¾ˆå¤šçš„ä¾‹å­ï¼šhttps://github.com/mojombo/jekyll/wiki/Sites\nJekyllçš„é…ç½® Jekyllçš„é…ç½®å†™åœ¨_config.ymlæ–‡ä»¶ä¸­ï¼Œå¯é…ç½®é¡¹æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ä¸å»ä¸€ä¸€è¿½ç©¶äº†ï¼Œå¾ˆå¤šé…ç½®è™½æœ‰ç”¨ä½†æ˜¯ä¸€èˆ¬ä¸éœ€è¦å»å…³å¿ƒï¼Œå®˜æ–¹é…ç½®æ–‡æ¡£æœ‰å¾ˆè¯¦ç»†çš„è¯´æ˜ï¼Œç¡®å®éœ€è¦äº†å¯ä»¥å»è¿™é‡ŒæŸ¥ï¼Œæˆ‘ä»¬ä¸»è¦è¯´ä¸¤ä¸ªæ¯”è¾ƒé‡è¦çš„ä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯Permalinkï¼Œè¿˜æœ‰å°±æ˜¯è‡ªå®šä¹‰é¡¹ã€‚\nPermalinké¡¹ç”¨æ¥å®šä¹‰ä½ æœ€ç»ˆçš„æ–‡ç« é“¾æ¥æ˜¯ä»€ä¹ˆå½¢å¼ï¼Œä»–æœ‰ä¸‹é¢å‡ ä¸ªå˜é‡ï¼š\n year æ–‡ä»¶åä¸­çš„å¹´ä»½ month æ–‡ä»¶åä¸­çš„æœˆä»½ day æ–‡ä»¶åä¸­çš„æ—¥æœŸ title æ–‡ä»¶åä¸­çš„æ–‡ç« æ ‡é¢˜ categories æ–‡ç« çš„åˆ†ç±»ï¼Œå¦‚æœæ–‡ç« æ²¡æœ‰åˆ†ç±»ï¼Œä¼šå¿½ç•¥ i-month æ–‡ä»¶åä¸­çš„é™¤å»å‰ç¼€0çš„æœˆä»½ i-day æ–‡ä»¶åä¸­çš„é™¤å»å‰ç¼€0çš„æ—¥æœŸ  çœ‹çœ‹æœ€ç»ˆçš„é…ç½®æ•ˆæœï¼š\n permalink: pretty /2009/04/29/slap-chop/index.html permalink: /:month-:day-:year/:title.html /04-29-2009/slap-chop.html permalink: /blog/:year/:month/:day/:title /blog/2009/04/29/slap-chop/index.html  æˆ‘ä½¿ç”¨çš„æ˜¯ï¼š\n permalink: /:title /github-pages  è‡ªå®šä¹‰é¡¹çš„å†…å®¹ï¼Œä¾‹å¦‚æˆ‘ä»¬å®šä¹‰äº†title:BeiYuuçš„åšå®¢è¿™æ ·ä¸€é¡¹ï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥åœ¨æ–‡ç« ä¸­ä½¿ç”¨{ { site.title }}æ¥å¼•ç”¨è¿™ä¸ªå˜é‡äº†ï¼Œéå¸¸æ–¹ä¾¿å®šä¹‰äº›å…¨å±€å˜é‡ã€‚\nYAML Front Matterå’Œæ¨¡æ¿å˜é‡ å¯¹äºä½¿ç”¨YAMLå®šä¹‰æ ¼å¼çš„æ–‡ç« ï¼ŒJekyllä¼šç‰¹åˆ«å¯¹å¾…ï¼Œä»–çš„æ ¼å¼è¦æ±‚æ¯”è¾ƒä¸¥æ ¼ï¼Œå¿…é¡»æ˜¯è¿™æ ·çš„å½¢å¼ï¼š\n--- layout: post title: Blogging Like a Hacker ---  å‰åçš„---ä¸èƒ½çœç•¥ï¼Œåœ¨è¿™ä¹‹é—´ï¼Œä½ å¯ä»¥å®šä¸€äº›ä½ éœ€è¦çš„å˜é‡ï¼Œlayoutå°±æ˜¯è°ƒç”¨_layoutsä¸‹é¢çš„æŸä¸€ä¸ªæ¨¡æ¿ï¼Œä»–è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å˜é‡å¯ä»¥ä½¿ç”¨ï¼š\n permalink ä½ å¯ä»¥å¯¹æŸä¸€ç¯‡æ–‡ç« ä½¿ç”¨é€šç”¨è®¾ç½®ä¹‹å¤–çš„æ°¸ä¹…é“¾æ¥ published å¯ä»¥å•ç‹¬è®¾ç½®æŸä¸€ç¯‡æ–‡ç« æ˜¯å¦éœ€è¦å‘å¸ƒ category è®¾ç½®æ–‡ç« çš„åˆ†ç±» tags è®¾ç½®æ–‡ç« çš„tag  ä¸Šé¢çš„titleå°±æ˜¯è‡ªå®šä¹‰çš„å†…å®¹ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®å…¶ä»–çš„å†…å®¹ï¼Œåœ¨æ–‡ç« ä¸­å¯ä»¥é€šè¿‡{ { page.title }}è¿™æ ·çš„å½¢å¼è°ƒç”¨ã€‚\næ¨¡æ¿å˜é‡ï¼Œæˆ‘ä»¬ä¹‹å‰ä¹Ÿæ¶‰åŠäº†ä¸å°‘äº†ï¼Œè¿˜æœ‰å…¶ä»–éœ€è¦çš„å˜é‡ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹çš„æ–‡æ¡£ï¼šhttps://github.com/mojombo/jekyll/wiki/template-data\nä½¿ç”¨Disqusç®¡ç†è¯„è®º æ¨¡æ¿éƒ¨åˆ†åˆ°æ­¤å°±ç®—æ˜¯é…ç½®å®Œæ¯•äº†ï¼Œä½†æ˜¯Jekyllåªæ˜¯ä¸ªé™æ€é¡µé¢çš„å‘å¸ƒç³»ç»Ÿï¼Œæƒ³åšåˆ°å…³çˆ½åœºå€’æ˜¯å¾ˆå®¹æ˜“ï¼Œå¦‚æœæƒ³è¦è¯„è®ºå‘¢ï¼Ÿä¹Ÿå¾ˆç®€å•ã€‚\nç°åœ¨ä¸“åšè¯„è®ºæ¨¡å—çš„äº§å“æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚Disqusï¼Œè¿˜æœ‰å›½äº§çš„å¤šè¯´ï¼ŒDisquså¯¹ç°åœ¨å„ç§ç³»ç»Ÿçš„æ”¯æŒéƒ½æ¯”è¾ƒå…¨é¢ï¼Œåˆ°å†™åšå®¢ä¸ºæ­¢ï¼Œå¤šè¯´ç°åœ¨ä»…æ˜¯WordPressçš„ä¸€ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œæš‚æ—¶ä¹Ÿä½¿ç”¨ä¸äº†ï¼Œå¤šè¯´ä¸å›½å†…çš„ç¤¾äº¤ç½‘ç»œç´§å¯†ç»“åˆï¼Œè¿˜æ˜¯æœ‰å¾ˆå¤šäº®ç‚¹çš„ï¼Œå€¼å¾—æœŸå¾…ä¸€ä¸‹ã€‚æˆ‘å…ˆé€‰æ‹©äº†Disqusã€‚\næ³¨å†Œè´¦å·ä»€ä¹ˆçš„å°±ä¸æäº†ï¼ŒDisqusæ”¯æŒå¾ˆå¤šçš„åšå®¢å¹³å°ï¼Œå‚è§ä¸‹å›¾ï¼š æˆ‘ä»¬é€‰æ‹©æœ€ä¸‹é¢çš„Universal Codeå°±å¥½ï¼Œç„¶åä¼šçœ‹åˆ°ä¸€ä¸ªä»‹ç»é¡µé¢ï¼ŒæŠŠä¸‹é¢è¿™æ®µä»£ç å¤åˆ¶åˆ°ä½ çš„æ¨¡æ¿é‡Œé¢ï¼Œå¯ä»¥åªå¤åˆ¶åˆ°æ˜¾ç¤ºæ–‡ç« çš„æ¨¡æ¿ä¸­ï¼š\n\u0026lt;div id=\u0026quot;disqus_thread\u0026quot;\u0026gt;\u0026lt;/div\u0026gt; \u0026lt;script type=\u0026quot;text/javascript\u0026quot;\u0026gt; /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */ var disqus_shortname = 'example'; // required: replace example with your forum shortname è¿™ä¸ªåœ°æ–¹éœ€è¦æ”¹æˆä½ é…ç½®çš„ç½‘ç«™å /* * * DON'T EDIT BELOW THIS LINE * * */ (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); \u0026lt;/script\u0026gt; \u0026lt;noscript\u0026gt;Please enable JavaScript to view the \u0026lt;a href=\u0026quot;http://disqus.com/?ref_noscript\u0026quot;\u0026gt;comments powered by Disqus.\u0026lt;/a\u0026gt;\u0026lt;/noscript\u0026gt; \u0026lt;a href=\u0026quot;http://disqus.com\u0026quot; class=\u0026quot;dsq-brlink\u0026quot;\u0026gt;blog comments powered by \u0026lt;span class=\u0026quot;logo-disqus\u0026quot;\u0026gt;Disqus\u0026lt;/span\u0026gt;\u0026lt;/a\u0026gt;  é…ç½®å®Œä¹‹åï¼Œä½ ä¹Ÿå¯ä»¥åšä¸€äº›å¼‚æ­¥åŠ è½½çš„å¤„ç†ï¼Œæé«˜æ€§èƒ½ï¼Œæ¯”å¦‚æˆ‘å°±åœ¨æœ€å¼€å§‹é¡µé¢æ‰“å¼€çš„æ—¶å€™ä¸æ˜¾ç¤ºè¯„è®ºï¼Œå½“ä½ æƒ³çœ‹è¯„è®ºçš„æ—¶å€™ï¼Œç‚¹å‡»â€œæ˜¾ç¤ºè¯„è®ºâ€å†åŠ è½½Disqusçš„æ¨¡å—ã€‚ä»£ç å¾ˆç®€å•ï¼Œä½ å¯ä»¥å‚è€ƒæˆ‘çš„å†™æ³•ã€‚\n$('#disqus_container .comment').on('click',function(){ $(this).html('åŠ è½½ä¸­...'); var disqus_shortname = 'beiyuu'; var that = this; BYB.includeScript('http://' + disqus_shortname + '.disqus.com/embed.js',function(){$(that).remove()}); //è¿™æ˜¯ä¸€ä¸ªåŠ è½½jsçš„å‡½æ•° });  å¦‚æœä½ ä¸å–œæ¬¢Disqusçš„æ ·å¼ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®ä»–ç”Ÿæˆçš„HTMLç»“æ„ï¼Œè‡ªå·±æ”¹å†™æ ·å¼è¦†ç›–å®ƒçš„ï¼ŒDisqusç°åœ¨ä¹Ÿæä¾›æ¯ä¸ªé¡µé¢çš„è¯„è®ºæ•°æ¥å£ï¼Œå¸®åŠ©æ–‡æ¡£åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°ã€‚\nä»£ç é«˜äº®æ’ä»¶ å¦‚æœå†™æŠ€æœ¯åšå®¢ï¼Œä»£ç é«˜äº®å°‘ä¸äº†ï¼Œæœ‰ä¸¤ä¸ªå¯é€‰æ’ä»¶DlHightLightä»£ç é«˜äº®ç»„ä»¶å’ŒGoogle Code Prettifyã€‚DLHightLightæ”¯æŒçš„è¯­è¨€ç›¸å¯¹è¾ƒå°‘ä¸€äº›ï¼Œæœ‰jsã€cssã€xmlå’Œhtmlï¼ŒGoogleçš„é«˜äº®æ’ä»¶åŸºæœ¬ä¸Šä»»ä½•è¯­è¨€éƒ½æ”¯æŒï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¯­è¨€ï¼Œä¹Ÿæ”¯æŒè‡ªåŠ¨è¯†åˆ«ï¼Œä¹Ÿæœ‰è¡Œå·çš„ç‰¹åˆ«æ”¯æŒã€‚\nGoogleçš„é«˜äº®æ’ä»¶ä½¿ç”¨ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ï¼Œåªéœ€è¦åœ¨\u0026lt;pre\u0026gt;çš„æ ‡ç­¾ä¸ŠåŠ å…¥prettyprintå³å¯ã€‚æ‰€ä»¥æˆ‘é€‰æ‹©äº†Google Code Prettifyã€‚\næ­å»ºæœ¬åœ°jekyllç¯å¢ƒ è¿™é‡Œä¸»è¦ä»‹ç»ä¸€ä¸‹åœ¨Mac OS Xä¸‹é¢çš„å®‰è£…è¿‡ç¨‹ï¼Œå…¶ä»–æ“ä½œç³»ç»Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„jekyllå®‰è£…ã€‚\nä½œä¸ºç”Ÿæ´»åœ¨æ°´æ·±ç«çƒ­çš„å¢™å†…äººæ°‘ï¼Œæœ‰å¿…è¦è¿›è¡Œä¸‹é¢ä¸€æ­¥ä¿®æ”¹gemçš„æºï¼Œæ–¹ä¾¿æˆ‘ä»¬æ›´å¿«çš„ä¸‹è½½æ‰€éœ€ç»„å»ºï¼š\nsudo gem sources --remove http://rubygems.org/ sudo gem sources -a http://ruby.taobao.org/  ç„¶åç”¨Gemå®‰è£…jekyll\n$ gem install jekyll  ä¸è¿‡ä¸€èˆ¬å¦‚æœæœ‰å‡ºé”™æç¤ºï¼Œä½ å¯èƒ½éœ€è¦è¿™æ ·å®‰è£…ï¼š\n$ sudo gem install jekyll  æˆ‘åˆ°äº†è¿™ä¸€æ­¥çš„æ—¶å€™æ€»æ˜¯æç¤ºé”™è¯¯Failed to build gem native extensionï¼Œå¾ˆå¯èƒ½çš„ä¸€ä¸ªåŸå› æ˜¯æ²¡æœ‰å®‰è£…rvmï¼Œrvmçš„å®‰è£…å¯ä»¥å‚è€ƒè¿™é‡Œï¼Œæˆ–è€…æ•²å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ curl -L https://get.rvm.io | bash -s stable --ruby  ç„¶åè¿˜éœ€è¦å®‰è£…Markdownçš„è§£é‡Šå™¨ï¼Œè¿™ä¸ªéœ€è¦åœ¨ä½ çš„_config.ymlé‡Œé¢è®¾ç½®markdown:rdiscountï¼š\n$ gem install jekyll rdiscount  å¥½äº†ï¼Œå¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œæœ¬åœ°ç¯å¢ƒå°±åŸºæœ¬æ­å»ºå®Œæˆäº†ï¼Œè¿›å…¥ä¹‹å‰æˆ‘ä»¬å»ºç«‹çš„åšå®¢ç›®å½•ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\n$ jekyll serve --watch  è¿™ä¸ªæ—¶å€™ï¼Œä½ å°±å¯ä»¥é€šè¿‡localhost:4000æ¥è®¿é—®äº†ã€‚è¿˜æœ‰å…³äºjekyll bootstrapçš„èµ„æ–™ï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹è°ƒè¯•çš„ï¼Œå¯ä»¥ç ”ç©¶ä¸€ä¸‹ã€‚\næˆ‘åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿˜é‡åˆ°ä¸¤ä¸ªè¯¡å¼‚çš„æ²¡æœ‰è§£å†³çš„é—®é¢˜ï¼Œä¸€ä¸ªæ˜¯æˆ‘æ”¾åœ¨æ ¹ç›®å½•ä¸‹é¢çš„blog.mdç­‰æ–‡ä»¶ï¼Œåœ¨GitHubçš„pagesæœåŠ¡ä¸Šä¸€åˆ‡æ­£å¸¸ï¼Œå¯ä»¥é€šè¿‡beiyuu.com/blogè®¿é—®çš„åˆ°ï¼Œä½†æ˜¯åœ¨æœ¬åœ°ç¯å¢ƒä¸‹ï¼Œæ€»æ˜¯not foundï¼Œå¾ˆæ˜¯è®©äººéƒé—·ï¼Œçœ‹ç”Ÿæˆçš„_siteç›®å½•ä¸‹é¢çš„æ–‡ä»¶ï¼Œä¹Ÿæ˜¯æ­£å¸¸çš„blog.htmlï¼Œä½†å°±æ˜¯æ‰¾ä¸åˆ°ï¼Œåªæœ‰å½“æˆ‘æŠŠURLæ”¹ä¸ºlocalhost:4000/blog.htmlçš„æ—¶å€™ï¼Œæ‰èƒ½è®¿é—®çš„åˆ°ï¼Œç¯å¢ƒä¸åŒçœŸç³Ÿç³•ã€‚\nè¿˜æœ‰ä¸€ä¸ªæ˜¯å…³äºcategoryçš„é—®é¢˜ï¼Œæ ¹æ®YAMLçš„è¯­æ³•ï¼Œæˆ‘ä»¬åœ¨æ–‡ç« å¤´éƒ¨å¯ä»¥å®šä¹‰æ–‡ç« æ‰€å±çš„ç±»åˆ«ï¼Œä¹Ÿå¯ä»¥å®šä¹‰ä¸ºcategory:[blog,rss]è¿™æ ·å­çš„å¤šç±»åˆ«ï¼Œæˆ‘åœ¨æœ¬åœ°è¯•ä¸€åˆ‡æ­£å¸¸ï¼Œä½†æ˜¯pushåˆ°GitHubä¹‹åï¼Œå°±æ— æ³•è¯»å–äº†ï¼ŒçœŸè®©äººç€æ€¥ï¼Œæ²¡æœ‰åŠæ³•ï¼Œåªèƒ½é‡‡ç”¨åˆ«çš„åŠæ³•æ»¡è¶³æˆ‘çš„éœ€æ±‚äº†ã€‚è¿™é‡Œè¿˜æœ‰ä¸€ç¯‡Jekyll æœ¬åœ°è°ƒè¯•ä¹‹è‹¥å¹²é—®é¢˜ï¼Œå®‰è£…ä¸­å¦‚æœæœ‰å…¶ä»–é—®é¢˜ï¼Œä¹Ÿå¯ä»¥å¯¹ç…§å‚è€ƒä¸€ä¸‹ã€‚\nç»“è¯­ å¦‚æœä½ è·Ÿç€è¿™ç¯‡ä¸é‚£ä¹ˆè¯¦å°½çš„æ•™ç¨‹ï¼ŒæˆåŠŸæ­å»ºäº†è‡ªå·±çš„åšå®¢ï¼Œæ­å–œä½ ï¼å‰©ä¸‹çš„å°±æ˜¯ä¿æŒçƒ­æƒ…çš„å»å†™è‡ªå·±çš„æ–‡ç« å§ã€‚\n[1]: {{ page.url}} ({{ page.title }})\n","date":-62135596800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"988a7d548c842c2b7fa1bf82af94326e","permalink":"/post/2012-02-22-github-pages/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/post/2012-02-22-github-pages/","section":"post","summary":"Githubå¾ˆå¥½çš„å°†ä»£ç å’Œç¤¾åŒºè”ç³»åœ¨äº†ä¸€èµ·ï¼Œäºæ˜¯å‘ç”Ÿäº†å¾ˆå¤šæœ‰è¶£çš„äº‹æƒ…ï¼Œä¸–ç•Œä¹Ÿå› ä¸ºä»–ç¾å¥½äº†ä¸€ç‚¹ç‚¹ã€‚Githubä½œä¸ºç°åœ¨æœ€æµè¡Œçš„ä»£ç ä»“åº“ï¼Œå·²ç»å¾—","tags":null,"title":"ä½¿ç”¨Github Pageså»ºç‹¬ç«‹åšå®¢","type":"post"}]